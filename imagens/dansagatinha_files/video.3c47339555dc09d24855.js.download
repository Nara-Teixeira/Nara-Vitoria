"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6791],{4267:(e,i,t)=>{t.r(i),t.d(i,{default:()=>oa});var o=t(11040),n=t(9236),r=t(91051),a=t(21041),l=t(77039),s=t(12827),d=t(51963),c=t(33966),u=t(86048),v=t(71300),m=t(33642),p=t(17133),h=t(32724),g=t(38310),x=t(78772),f=t(39712),b=t(29025),y=t(27885),k=t(66881),w=t(50935),C=t(58863),j=t(23845),I=t(93292),S=t(19092),O=t(32273),T=t(40112),M=t(4776),P=t(38149),L=t(98140),A=t(61728),_=t(88320),R=t(59245),B=t.n(R),V=t(90293),D=t(88683),E=t(45313),z=t(22597),Z=t(40340),W=t(96082),q=t(22240),F=t(3148),Y=t(99087),H=t(13006),U=t(11838),G=t(19813),N=t(85392),K=t(64047),J=t(73566),Q=t(48185),X=t(19630),$=t(25956),ee=t.n($),ie=t(20948),te=t(56979),oe=t(49584),ne=t(93859),re=t(53095),ae=t(82346),le=t(58569),se=t(5549),de=t(60595),ce=t(24421),ue=t(97751),ve=t(7650),me=t(32258),pe=t(17288),he=t(2844),ge=t(24201),xe=t(57244),fe=t(48936);let be=class{constructor(e){this.fetch=e}getVideoDetail(e){return this.fetch.get("/api/item/detail/",{query:e,baseUrlType:2})}};be=(0,K.__decorate)([(0,xe.G)(),(0,K.__metadata)("design:paramtypes",[fe.r])],be);let ye=class{redirect(e){}};ye=(0,K.__decorate)([(0,xe.G)()],ye);let ke=class extends J.D{constructor(e,i,t,o,n,r,a){super(),this.service=e,this.redirectService=i,this.itemList=t,this.commentList=o,this.seoModule=n,this.videoDetail=r,this.bizContext=a,this.defaultState={statusCode:0}}setStatusCode(e,i){e.statusCode=i}getVideoDetail(e){return e.pipe((0,ie.M)(this.seoModule.state$,this.bizContext.state$),(0,te.U)((([{itemId:e,query:i,abTestVersion:t,language:o,user:n,appType:r},a,l])=>{var s,d,c,u,v,m;const p=null!==(s=(0,ce.xX)(t,"add_transcript"))&&void 0!==s?s:"v1",h=null!==(v=null===(u=null===(c=null===(d=null==a?void 0:a.abtest)||void 0===d?void 0:d.parameters)||void 0===c?void 0:c.transcript)||void 0===u?void 0:u.version)&&void 0!==v?v:"v1",g=ee()(["v2","v3","v4"],[p,h]).length>0,x="v2"===(0,ce.xX)(t,"photo_test");return{itemId:e,lang:o,query:i,isGoogleBot:null===(m=l.bizContext)||void 0===m?void 0:m.isGoogleBot,transcriptEnabled:g,abTestVersion:t,user:n,appType:r,photoModeEnabled:x}})),(0,oe.z)((({itemId:e="",lang:i="en",query:t="",abTestVersion:o,user:n,appType:r,isGoogleBot:a,transcriptEnabled:l,photoModeEnabled:s})=>this.service.getVideoDetail({aid:ue.CO,itemId:e}).pipe((0,ne.b)((e=>{this.redirectService.redirect(e)})),(0,re.z)((d=>{var c,u;let{statusCode:v,itemInfo:m}=d,p=null==m?void 0:m.itemStruct;s||0===v&&(null==p?void 0:p.imagePost)&&(v=10239,p=void 0);const h=[(0,ae.of)(this.getActions().setStatusCode(v),this.itemList.getActions().setList({key:"video",response:{statusCode:v,itemList:p?[p]:[],hasMore:!0},abTestVersion:o,user:n,language:i}))];let g=!1;if(0===v){if(l){const{subtitleInfos:e}=null!==(u=null===(c=null==m?void 0:m.itemStruct)||void 0===c?void 0:c.video)&&void 0!==u?u:{};h.push((0,ae.of)(this.videoDetail.getActions().setSubtitleStruct(e))),e&&a&&(0,ve.y)()&&(h.push(this.videoDetail.fetchTranscript({subtitleInfos:e}).pipe((0,re.z)((e=>(0,le.T)((0,ae.of)(this.videoDetail.getActions().setSubtitleContent(e)),this.seoModule.setVideoSEOProps(d,{language:i},r,t,{autoCaption:(0,ge.JQ)((null!=e?e:[]).map((e=>null==e?void 0:e.text)))})))))),g=!0)}a&&(h.push(this.itemList.getRecommendList$({key:"video",routeName:U.a8.video,abTestVersion:o,user:n,language:i})),h.push(this.commentList.fetchComment$({aweme_id:e})))}return g||h.push(this.seoModule.setVideoSEOProps(d,{language:i},r,t)),(0,le.T)(...h)})),(0,se.l)(this.itemList.getActions().setListKeyword({key:"video",keyword:e}),this.terminate())))))}};(0,K.__decorate)([(0,Q.lF)(),(0,K.__metadata)("design:type",Function),(0,K.__metadata)("design:paramtypes",[Object,Number]),(0,K.__metadata)("design:returntype",void 0)],ke.prototype,"setStatusCode",null),(0,K.__decorate)([(0,Q.Qm)({payloadGetter:1}),(0,K.__metadata)("design:type",Function),(0,K.__metadata)("design:paramtypes",[de.y]),(0,K.__metadata)("design:returntype",void 0)],ke.prototype,"getVideoDetail",null),ke=(0,K.__decorate)([(0,X.Y)("VideoPage"),(0,K.__metadata)("design:paramtypes",[be,ye,c.h,me.x,pe.q,N.Y,he.r])],ke);const we=()=>{var e;const{list:i,loading:t}=(0,n.mp)(c.h,{selector:e=>{var i;return null!==(i=e.video)&&void 0!==i?i:{list:[],loading:!0,statusCode:0}},dependencies:[]}),o=(0,n.mp)(ke,{selector:({statusCode:e})=>e,dependencies:[]}),{user:r}=null!==(e=(0,p.Lh)((()=>["user"]),[]))&&void 0!==e?e:{},a=(0,n.mp)(Z.f,{selector:e=>{var i;return Number(null===(i=e.currentVideo)||void 0===i?void 0:i.index)},dependencies:[]}),l=i[a],s=(0,n.mp)(g.A,{selector:e=>e[null!=l?l:""],dependencies:[l]}),{showNotPass:d,takeDown:u,shareEnabled:v}=null!=s?s:{},{ftcUser:m}=null!=r?r:{},h=m&&!v,x=10101===o,f=!x&&(0!==o&&10404!==o&&10231!==o&&!(0,W.mB)(o)||10231===o&&!s||d||6===u||h);return{isServerError:x,isCommonError:f,isInitLoading:t&&!(null==i?void 0:i.length)&&!f,isEmpty:!(x||f||t||i.length)}};var Ce=t(4139),je=t(36488);const Ie=(0,Ce.Z)("div",{target:"elnrzms0"})((({theme:{direction:e},isHideSideComponent:i})=>i?{flex:"1 1 auto"}:[(0,je.YJ)({direction:e,marginEnd:24,marginStart:24}),{padding:"24px 0",flex:"1 1 auto","&:focus":{outline:"none"},"&:focus-visible":{outline:"2px solid #5E9ED6"}},(0,je.f1)({max:767,style:(0,je.YJ)({direction:e,marginStart:16})})]),"label:DivMainContainer;"),Se=(0,Ce.Z)("div",{target:"elnrzms1"})({padding:"210px 0"},"label:DivErrorWrapper;");var Oe=t(74820),Te=t(2606),Me=t(66020),Pe=t(40013),Le=t(66599),Ae=t(87458),_e=t(83014),Re=t(35199),Be=t(87930),Ve=t(83236),De=t(9472),Ee=t(63954),ze=t(26641),Ze=t(50894),We=t(8826),qe=t(94759),Fe=t(88833),Ye=t(15679),He=t(58590),Ue=t(41928);const Ge=(0,Ce.Z)("div",{target:"e17fzhrb0"})((({isUIOptimization:e})=>({display:"flex",flexDirection:"row",alignItems:"center",position:"relative",flex:"0 0 82px",width:e?"488px":"320px"})),"label:DivInfoContainer;"),Ne=(0,Ce.Z)("span",{target:"e17fzhrb1"})((({theme:e})=>(0,je.GI)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"Sofia"})),"label:SpanUniqueId;");Ne.defaultProps=Object.assign(Object.assign({},Ne.defaultProps),{"data-e2e":"browse-username"});const Ke=(0,Ce.Z)("span",{target:"e17fzhrb2"})((({theme:e,isUIOptimization:i})=>(0,je.GI)({theme:e,typography:"P3",fontFamily:"Proxima",color:i?"TextSecondary":void 0})),(({isUIOptimization:e})=>({display:"flex",alignItems:"center","> span":e?{}:je.wj})),"label:SpanOtherInfos;");Ke.defaultProps=Object.assign(Object.assign({},Ke.defaultProps),{"data-e2e":"browser-nickname"});const Je=(0,Ce.Z)("span",{target:"e17fzhrb3"})((({isUIOptimization:e})=>e?je.wj:{}),"label:SpanNickName;"),Qe=(0,Ce.Z)(Ye.D,{target:"e17fzhrb4"})(je.wj,je.gi,(({isUIOptimization:e})=>({flex:e?"unset":"1 1 auto",":hover":{[`${Ne}`]:{textDecoration:"underline"}}})),(({theme:{direction:e},isUIOptimization:i})=>(0,je.YJ)({direction:e,marginEnd:i?"48px":"12px"})),"label:StyledLink;"),Xe=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${Qe} ${Ne}`]:{textDecoration:"underline"}}},(0,je.YJ)({direction:e,marginEnd:"12px"})],$e=(0,Ce.Z)(Ue.W,{target:"e17fzhrb7"})({justifySelf:"flex-end","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;");$e.defaultProps=Object.assign(Object.assign({},$e.defaultProps),{"data-e2e":"browse-follow"});const ei=(0,r.memo)((function(e){const{uniqueId:i,videoId:t,teaParams:a}=e,l=(0,n.mp)(Le.z,{selector:e=>e.users[i],dependencies:[i]}),{t:s,timeTranslator:d}=(0,Ae.e)(),c=(0,n.mp)(g.A,{selector:e=>null==e?void 0:e[t],dependencies:[t]}),{secret:u,forFriend:v,createTime:m}=null!=c?c:{},{showing:p,handleCardEnter:h,handleCardLeave:x,handleItemEnter:f,handleItemLeave:y}=(0,_e.V)(),k=(0,Re.zW)(l),{isShowLive:w}=k;(0,Re.TB)({isShowLive:w,reportTrigger:w,user:l,enterMethod:w?"video_head_browser":"creator",autoReport:!0,reportValidator:()=>void 0!==(null==l?void 0:l.relation),once:!0});const C=(0,Re.CN)(Object.assign({user:l,enterMethod:w?"video_head_browser":"creator"},a)),j=(0,r.useMemo)((()=>Object.assign(Object.assign({},C),{author_id:C.to_user_id,group_id:t})),[C,t]),I=(0,r.useMemo)((()=>{if(l)return Object.assign(Object.assign({},C),{author_id:l.id,to_user_id:l.id,group_id:t,enterMethod:"creator"})}),[l,t,C]),S=(0,r.useMemo)((()=>({margin:"4px 0 0 52px"})),[]),{colors:O}=(0,Oe.u)(),{isUIOptimization:T}=(0,b.iA)();if(!l)return(0,Be.G)(["authorInfo"]);const{nickname:M,secUid:P,verified:L,stateControlledMedia:A}=l,_=function(e){return e?(0,Ce.Z)(He.G,{target:"e17fzhrb5"})(Xe):(0,Ce.Z)(Ye.D,{target:"e17fzhrb6"})(Xe)}(w);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Ge,Object.assign({isUIOptimization:T},{children:[(0,o.jsx)(_,Object.assign({uniqueId:i,secUid:P,onMouseEnter:f,onMouseLeave:y,isInBrowserMode:!0,teaParams:j,"data-e2e":"browse-user-avatar",onClick:e.onClick,onLinkClick:e.onLinkClick},{children:(0,o.jsx)(Ve.k,Object.assign({needAnimation:!0,liveTheme:2,size:T?48:40},k),void 0)}),void 0),(0,o.jsxs)(Qe,Object.assign({isUIOptimization:T,uniqueId:i,secUid:P,onMouseEnter:f,onMouseLeave:y,isInBrowserMode:!0,teaParams:I,onClick:e.onClick,onLinkClick:e.onLinkClick},{children:[(0,o.jsxs)(Ne,{children:[i,L&&(0,o.jsx)(Fe.Q,{width:14,height:14,"data-e2e":"browse-bluev"},void 0)]},void 0),(0,o.jsx)("br",{},void 0),(0,o.jsxs)(Ke,Object.assign({isUIOptimization:T},{children:[(0,o.jsx)(Je,Object.assign({isUIOptimization:!0},{children:M}),void 0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)("span",{children:d(1e3*Number(m))},void 0)]},void 0),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)(Te.Z,{width:16,height:16,style:{fill:O.TextPrimary,opacity:.5,margin:"0 4px"}},void 0),(0,o.jsx)("span",{children:s("video_label_private")},void 0)]},void 0),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" · "},void 0),(0,o.jsx)(Me.Z,{style:{margin:"0 4px"},width:20,height:20},void 0),(0,o.jsx)("span",Object.assign({className:"friend"},{children:s("Friends only")}),void 0)]},void 0)]}),void 0)]}),void 0),(0,o.jsx)(ii,{author:l,video:c,videoReportParams:a},void 0),p&&(0,o.jsx)(De.C,{top:30,fixedLeft:32,onMouseEnter:h,onMouseLeave:x,uniqueId:i},void 0)]}),void 0),(0,o.jsx)(Ee.i,{style:S,stateControlledMedia:A,labelType:0},void 0)]},void 0)})),ii=function({author:e,video:i,videoReportParams:t}){var r;const a=(0,n.mp)(ze.G,{selector:i=>{var t,o;return(null===(o=null===(t=i.appContext)||void 0===t?void 0:t.user)||void 0===o?void 0:o.uniqueId)===e.uniqueId},dependencies:[e.uniqueId]}),l=(0,Ze.Q)({query:{enter_method:"click_follow"}}),{text:s,handleFollow:d,isFollowing:c,relation:u}=(0,D.wB)({uniqueId:e.uniqueId,onNeedLogin:l,teaParams:Object.assign({group_id:null==i?void 0:i.id},t)});return(null==i?void 0:i.scheduleTime)?(0,o.jsx)(We.Q,{video:i},void 0):a?(0,o.jsx)(qe.C,{videoId:null!==(r=null==i?void 0:i.id)&&void 0!==r?r:""},void 0):(0,o.jsxs)($e,Object.assign({size:"small",buttonTheme:c?"default":"primary",onClick:d},{children:[2===u?(0,o.jsx)(Pe.Z,{},void 0):null,s]}),void 0)};var ti,oi,ni=t(72767),ri=t(42531),ai=t(74891),li=t(19294),si=t(75311);function di(){return di=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},di.apply(this,arguments)}const ci=function(e){return r.createElement("svg",di({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),ti||(ti=r.createElement("circle",{cx:24,cy:24,r:24,fill:"url(#default-avatar_svg__pattern0)"})),oi||(oi=r.createElement("defs",null,r.createElement("pattern",{id:"default-avatar_svg__pattern0",width:1,height:1,patternContentUnits:"objectBoundingBox"},r.createElement("use",{transform:"scale(.00333)",xlinkHref:"#default-avatar_svg__image0_22030_1838"})),r.createElement("image",{id:"default-avatar_svg__image0_22030_1838",width:300,height:300,xlinkHref:"data:image/png;base64,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"}))))},ui=(0,Ce.Z)("div",{target:"e1a7v7ak0"})({marginTop:"24px"},"label:DivCommentContainer;"),vi=(0,Ce.Z)("p",{target:"e1a7v7ak1"})((({theme:e})=>(0,je.GI)({theme:e,fontWeight:"bold",color:"TextPrimary"})),{lineHeight:"26px",fontSize:"18px"},"label:PCommentTitle;"),mi=(0,Ce.Z)("div",{target:"e1a7v7ak2"})((({isUIOptimization:e})=>({display:"flex",marginTop:e?"20px":"16px"})),"label:DivCommentBarContainer;"),pi=(0,Ce.Z)("div",{target:"e1a7v7ak3"})((({theme:e,isUIOptimization:i})=>[(0,je.YJ)({direction:e.direction,marginStart:"16px"}),{height:"48px",paddingBottom:"24px",borderBottom:i?"":`1px solid ${e.colors.ShadowPrimary}`,cursor:"pointer",flex:1,boxSizing:"content-box"}]),"label:DivBarWrapper;"),hi=(0,Ce.Z)("div",{target:"e1a7v7ak4"})((({theme:e,isUIOptimization:i})=>[(0,je.YJ)({direction:e.direction,marginStart:"16px"}),{paddingBottom:"24px",borderBottom:i?"":`1px solid ${e.colors.ShadowPrimary}`,cursor:"pointer",flex:1,boxSizing:"content-box"}]),"label:DivCommentInputWrapper;"),gi=(0,Ce.Z)("div",{target:"e1a7v7ak5"})((({theme:e})=>[(0,je.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),xi=(0,Ce.Z)("div",{target:"e1a7v7ak6"})((({theme:e})=>[(0,je.GI)({theme:e,color:"TextSecondary"}),{marginTop:"64px",lineHeight:"22px",fontSize:"14px",flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivCommentOff;"),fi=(0,Ce.Z)(ci,{target:"e1a7v7ak7"})({width:"48px",height:"48px"},"label:StyledDefaultAvatar;"),bi=(0,Ce.Z)("div",{target:"e1a7v7ak8"})((({theme:e})=>Object.assign(Object.assign({},(0,je.YJ)({direction:e.direction,marginStart:"16px"})),{lineHeight:"20px",display:"flex",alignItems:"center",background:e.colors.BGPlaceholderDefault,borderRadius:"8px",height:"40px",fontSize:"14px",color:e.colors.TextQuaternary,flex:"1 1 0",justifyContent:"center",padding:"0 8px",marginBottom:"24px"})),"label:DivDisabledTip;"),yi=(0,Ce.Z)("span",{target:"e1a7v7ak9"})((({theme:{colors:e},isUIOptimization:i})=>({color:i?e.Primary:""})),"label:SpanLogin;"),ki=(0,r.memo)((({isCommentDisabled:e,authorId:i,itemId:t,teaParams:n})=>{var r,a;const{user:l}=null!==(r=(0,p.Lh)((()=>["user"]),[]))&&void 0!==r?r:{},s=Boolean(l),d=(0,O.Q)(),{nickname:c=""}=null!==(a=(0,D.pu)(i))&&void 0!==a?a:{},{isUIOptimization:u}=(0,b.iA)(),v=(0,Ze.Q)({query:{enter_method:"click_comment"}}),{prefixText:m,loginText:h,endText:g}=(0,ri.Oi)();return(0,o.jsxs)(mi,Object.assign({isUIOptimization:u},{children:[s?(0,o.jsx)(si.q,{size:48,src:null==l?void 0:l.avatarUri[0]},void 0):(0,o.jsx)(fi,{},void 0),s?e?(0,o.jsx)(bi,{children:d("comment_disable_notfollow").replace("%@",c)},void 0):(0,o.jsx)(hi,Object.assign({isUIOptimization:u},{children:(0,o.jsx)(li._,{itemId:t,teaParams:n},void 0)}),void 0):(0,o.jsx)(pi,Object.assign({isUIOptimization:u,onClick:v},{children:(0,o.jsxs)(ai.Vk,Object.assign({isUIOptimization:u},{children:[m,(0,o.jsx)(yi,Object.assign({isUIOptimization:u},{children:h}),void 0),g]}),void 0)}),void 0)]}),void 0)})),wi=(0,r.memo)((0,r.forwardRef)((function(e,i){var t,a;const{itemId:l="",teaParams:s,scheduleTime:d=""}=e,c=(0,O.Q)(),{user:u}=null!==(t=(0,p.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},[v]=(0,n.b7)(g.A,{selector:e=>e[l],dependencies:[l]}),{loading:h,comments:x,hasMore:f}=(0,n.mp)(me.x,{selector:e=>{var i;return null!==(i=e[l])&&void 0!==i?i:me.C},dependencies:[l]}),b=(0,D.pu)(null==v?void 0:v.author),y=(0,r.useMemo)((()=>3===(null==v?void 0:v.itemCommentStatus)||3===(null==b?void 0:b.commentSetting)),[null==b?void 0:b.commentSetting,null==v?void 0:v.itemCommentStatus]),k=(0,r.useMemo)((()=>(0,m.sA)(b,null==u?void 0:u.uid)),[b,null==u?void 0:u.uid]),{stats:w}=null!=v?v:{},C=h&&!x.length&&f,j=y?0:null!==(a=null==w?void 0:w.commentCount)&&void 0!==a?a:0,I=c("video_details_page_comment_header",{num:j<=1?1:j,Count:(0,m.BT)(j)});return d?(0,o.jsx)(ui,{children:(0,o.jsx)(gi,{children:c("scheduled_video_comment_unavailable")},void 0)},void 0):(0,o.jsx)(ui,Object.assign({ref:i},{children:y?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(vi,{children:I},void 0),(0,o.jsx)(xi,Object.assign({"data-e2e":"comment-turned-off"},{children:c("comment_off")}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[!C&&(0,o.jsx)(vi,{children:I},void 0),C?null:(0,o.jsx)(ki,{teaParams:s,itemId:l,authorId:null==v?void 0:v.author,isCommentDisabled:k},void 0),(0,o.jsx)(ni.$,{hasMore:f,inDetailPage:!0,itemId:l,disableReply:k,teaParams:s},void 0)]},void 0)}),void 0)})));var Ci,ji=t(63175),Ii=t(9343),Si=t(22143),Oi=t(74577),Ti=t(10315),Mi=t(45949),Pi=t(68457),Li=t(52121),Ai=t(95872);!function(e){e.VideoCoverShow="video_cover_show",e.VideoCoverClick="video_cover_click",e.BackFypClick="back_fyp_click",e.BrowseModeEntryClick="browse_mode_entry_click",e.KebabMenuHover="kebab_menu_hover",e.RelatedVideoImprCnt="related_video_impr_cnt",e.EnterPipMode="enter_PIP_mode",e.ExitPipMode="exit_PIP_mode"}(Ci||(Ci={}));var _i,Ri=t(25189),Bi=t(34590),Vi=t(25767);!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Redirect=2]="Redirect"}(_i||(_i={}));const Di=e=>{var i,t;null===(i=null==e?void 0:e.preventDefault)||void 0===i||i.call(e),null===(t=null==e?void 0:e.stopPropagation)||void 0===t||t.call(e)};function Ei({id:e}){const[{loading:i},t]=(0,n.b7)(me.x,{selector:i=>{var t,o;return{loading:null!==(o=(null!==(t=i[e])&&void 0!==t?t:me.C).loading)&&void 0!==o&&o}},dependencies:[e]}),o=(0,r.useRef)(null),a=(0,r.useCallback)((()=>{!i&&t.fetchComment({aweme_id:e})}),[t,e,i]);return(0,r.useEffect)((()=>()=>{t.dispose$()}),[t]),(0,M.q)({elemRef:o,onHitBottom:a,bottomThreshold:20,throttle:500}),o}function zi({onPageWidthBreakPoint:e}){const i=(0,Pi.fB)((()=>{null==e||e(window.innerWidth<903)}),[e],500);(0,r.useEffect)((()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),[i])}function Zi({videoContainerRef:e,isHorizontal:i,groupId:t,authorId:o}){const n=(0,r.useMemo)((()=>({group_id:t,author_id:o})),[t,o]),a=(0,r.useRef)(0),[l,s]=(0,r.useState)(!1),d=(0,r.useCallback)((e=>{var i;s(!1),i=Object.assign(Object.assign({},n),{play_time:(new Date).getTime()-a.current,enter_method:e}),Ai.W.event("exit_PIP_mode",i)}),[n]),c=(0,r.useCallback)((e=>{var i;e?(a.current=(new Date).getTime(),s(!0),i=Object.assign(Object.assign({},n),{enter_method:"rolling_down"}),Ai.W.event("enter_PIP_mode",i)):d("rolling_back")}),[d,n]),{hasPip:u}=(0,b.iA)();!function({elementRef:e,onChangeMiniVideoVisible:i,hasMiniPlayer:t}){const[{upChanged:o,downChanged:n},a]=(0,r.useState)({upChanged:!1,downChanged:!1}),l=(0,Pi.fB)((()=>{var r,l;if(!t)return;const{top:s}=null!==(l=null===(r=e.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==l?l:{top:0};s<-500&&!n?(a({downChanged:!0,upChanged:!1}),i(!0)):s>=-500&&!o&&(a({downChanged:!1,upChanged:!0}),i(!1))}),[i,o,n,e,t],100);(0,r.useEffect)((()=>(t&&window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)})),[l,t])}({elementRef:e,onChangeMiniVideoVisible:c,hasMiniPlayer:u});const v=(0,r.useCallback)((()=>{(0,Mi.YZ)(),d("click_video")}),[]),{direction:m}=(0,Oe.u)(),p=(0,r.useMemo)((()=>l?Object.assign({width:i?350:197,height:i?197:350,position:"fixed",bottom:"32px",zIndex:99,borderRadius:"4px",overflow:"hidden",marginBottom:0,animation:"0.333s cubic-bezier(0.33, 1, 0.68, 1) show-mini-player"},(0,je.YJ)({direction:m,end:"12px"})):void 0),[l,i,m]);return{handleCloseMiniVideo:d,miniVideoVisible:l,videoContainerStyle:p,handleZoomToNormalPlayer:v}}const Wi=(0,Ce.Z)("div",{target:"ege8lhx0"})({},"label:DivVideoDetailContainer;"),qi=(0,Ce.Z)("div",{target:"ege8lhx1"})({height:0,width:"1px",position:"absolute",marginTop:"-84px"},"label:DivEmptyWrapper;"),Fi=(0,Ce.Z)("div",{target:"ege8lhx2"})({display:"flex"},"label:DivContentContainer;"),Yi=(0,Ce.Z)("div",{target:"ege8lhx3"})((({theme:e,isHideSideComponent:i,isPhoto:t})=>[i?null:(0,je.YJ)({direction:e.direction,marginEnd:"24px"}),{maxWidth:t?"808px":void 0,flex:"1 1 808px"}]),"label:DivLeftContainer;"),Hi=(0,Ce.Z)("div",{target:"ege8lhx4"})((({theme:e,isUIOptimization:i})=>({padding:"16px 0",borderBottom:i?"":`1px solid ${e.colors.ShadowPrimary}`})),"label:DivAuthorContainer;"),Ui=(0,Ce.Z)("div",{target:"ege8lhx5"})({width:"322px",flex:"0 0 322px"},"label:DivVideoList;"),Gi=(0,Ce.Z)("p",{target:"ege8lhx6"})((({theme:e})=>(0,je.GI)({theme:e,fontWeight:"bold",color:"TextPrimary"})),je.wj,{fontSize:"18px",marginBottom:"15px",lineHeight:"24px"},"label:PVideoListTitle;"),Ni=(0,Ce.Z)("div",{target:"ege8lhx7"})((({theme:{colors:e}})=>({width:"100%",height:"606px",background:e.BGPlaceholderDefault,position:"relative",overflow:"hidden",borderRadius:"4px",marginBottom:"24px"})),"label:DivVideoContentSkeleton;");var Ki=t(32222),Ji=t.n(Ki),Qi=t(43348),Xi=t(41140),$i=t(1066),et=t(1184);const it=(0,Ce.Z)("div",{target:"ejx52ff0"})((({theme:{direction:e,colors:i,isDark:t}})=>[(0,je.YJ)({direction:e,paddingStart:16,paddingEnd:8}),{height:40,background:t?i.BGTertiary2:i.BGCreation3,opacity:.88,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"}]),"label:DivTranscriptHeader;"),tt=(0,Ce.Z)("span",{target:"ejx52ff1"})((({theme:{direction:e}})=>[(0,je.YJ)({direction:e,marginStart:8}),{fontWeight:600,fontSize:"16px",flex:1}]),"label:SpanHeadertext;"),ot=(0,Ce.Z)("ul",{target:"ejx52ff3"})((({theme:{colors:e},isShow:i})=>[{fontWeight:400,fontSize:"14px",listStyleType:"none",padding:"0 0 16px 0",marginBottom:24,marginTop:0,background:e.BGPlaceholderOpaque,display:i?"block":"none",maxHeight:432,overflow:"auto",position:"relative"}]),"label:UlTranscriptList;"),nt=(0,Ce.Z)("li",{target:"ejx52ff4"})((({theme:{direction:e,colors:i},isCurrent:t,isRTL:o})=>[{minHeight:38,padding:"8px 16px",display:"flex",cursor:"pointer",":hover":{backgroundColor:i.BGCreation3}},t?Object.assign({backgroundColor:i.BGCreation3,borderRight:o?`4px solid ${i.Primary}`:"",borderLeft:o?"":`4px solid ${i.Primary}`},(0,je.YJ)({direction:e,paddingStart:"12px"})):{}]),"label:LiTranscriptItem;"),rt=(0,Ce.Z)("div",{target:"ejx52ff5"})((({theme:{direction:e,colors:i}})=>[(0,je.YJ)({direction:e,marginEnd:16}),{color:i.TextPrimary}]),"label:DivTranscriptTime;"),at=(0,Ce.Z)("div",{target:"ejx52ff6"})((({theme:{colors:e}})=>[{color:e.Primary2,wordWrap:"break-word",wordBreak:"break-word"}]),"label:DivTranscriptText;"),lt=(0,Ce.Z)("div",{target:"ejx52ff7"})((({theme:{colors:e}})=>[{height:1,backgroundColor:e.BGPlaceholderOpaque,marginBottom:24}]),"label:DivSplitLine;"),st=(0,Ce.Z)("div",{target:"ejx52ff8"})({cursor:"pointer"},"label:DivCloseIconContainer;"),dt=(0,r.memo)((function({item:e,onSeek:i,isNarrow:t,isListShow:a}){const{id:l}=e,[{subtitleContent:s},d]=(0,n.b7)(N.Y),c=(0,r.useRef)(0),u=(0,r.useRef)(!1),v=(0,r.useMemo)((()=>{const e=Ji()(s);return e[0].start>=1&&e.unshift({end:0,start:0,startStr:"00:00",text:""}),e}),[s]),[{currentTime:m}]=(0,n.b7)(Xi.M,{selector:e=>e[l]?e[l]:{duration:0,videoPercent:0,currentTime:0},dependencies:[l]}),{isRTL:p}=(0,ji.Y)(),h=(0,r.useRef)(null),g=(0,r.useCallback)((e=>{i(e),et.K.handleClickTranscriptLine(e)}),[i]),x=(0,r.useCallback)((()=>{et.K.handleCloseTranscriptPanel("click_transcript",0),d.setIfShowSubtitle(!1)}),[d]),f=(0,r.useCallback)((e=>{var i,t,o,n,r,a,l,s;if(u.current)return;const d=null===(t=null===(i=null==h?void 0:h.current)||void 0===i?void 0:i.children)||void 0===t?void 0:t[e],c=null==d?void 0:d.offsetTop,v=null===(o=null==h?void 0:h.current)||void 0===o?void 0:o.scrollTop,m=null==d?void 0:d.clientHeight,p=c-v,g=p<432&&p>-m;if(e>2){const i=null===(a=null===(r=null===(n=null==h?void 0:h.current)||void 0===n?void 0:n.children)||void 0===r?void 0:r[e-2])||void 0===a?void 0:a.offsetTop;null===(l=null==h?void 0:h.current)||void 0===l||l.scrollTo({top:i,behavior:"smooth"})}else g||null===(s=null==h?void 0:h.current)||void 0===s||s.scrollTo({top:0,behavior:"smooth"})}),[h,u]),b=(0,r.useCallback)((()=>{u.current=!0}),[u]),y=(0,r.useCallback)((()=>{u.current=!1}),[u]),k=(0,r.useCallback)((()=>{var e;let i=0;for(let t=v.length-1;t>=0;t--)if(v[t].start<=m||m>(null===(e=null==v?void 0:v[t-1])||void 0===e?void 0:e.end)&&Math.abs(v[t].start-m)<.001){i=t,c.current!==t&&(c.current=t,f(t));break}return v.map(((e,t)=>(0,o.jsxs)(nt,Object.assign({isCurrent:i===t,onClick:()=>g(e.start),isRTL:p},{children:[(0,o.jsx)(rt,{children:e.startStr},void 0),(0,o.jsx)(at,{children:e.text},void 0)]}),t)))}),[v,m,g,p,f]),w=(0,O.Q)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",Object.assign({style:{marginTop:t?"32px":0}},{children:[(0,o.jsxs)(it,Object.assign({style:{cursor:"auto"}},{children:[(0,o.jsx)($i.Z,{},void 0),(0,o.jsx)(tt,{children:w("asr_transcript_onpc_kebab_menu_ab_transcript_button")},void 0),(0,o.jsx)(st,Object.assign({onClick:x},{children:(0,o.jsx)(Qi.Z,{height:12,width:12},void 0)}),void 0)]}),void 0),(0,o.jsx)(ot,Object.assign({isShow:a,ref:h,onMouseEnter:b,onMouseLeave:y},{children:k()}),void 0)]}),void 0),(0,o.jsx)(lt,{},void 0)]},void 0)})),ct=(0,Ce.Z)("div",{target:"e1y973ys0"})({display:"flex",width:"100%",flexWrap:"wrap"},"label:DivVideoCardSkeletonContainer;"),ut=(0,Ce.Z)("div",{target:"e1y973ys1"})((({theme:{colors:e}})=>({width:"100%",height:"120px",marginBottom:"16px",background:e.BGPlaceholderDefault,borderRadius:"2px"})),"label:DivCardH;"),vt=(0,Ce.Z)("div",{target:"e1y973ys2"})((({theme:{colors:e}})=>({width:"147px",height:"202px",marginBottom:"16px",background:e.BGPlaceholderDefault,borderRadius:"2px",marginRight:"14px"})),"label:DivCard;"),mt=(0,r.memo)((function(){return(0,o.jsxs)(ct,{children:[(0,o.jsx)(vt,{},void 0),(0,o.jsx)(vt,{},void 0),(0,o.jsx)(vt,{},void 0),(0,o.jsx)(vt,{},void 0),(0,o.jsx)(vt,{},void 0),(0,o.jsx)(vt,{},void 0)]},void 0)}));(0,r.memo)((function(){return(0,o.jsxs)(ct,{children:[(0,o.jsx)(ut,{},void 0),(0,o.jsx)(ut,{},void 0),(0,o.jsx)(ut,{},void 0),(0,o.jsx)(ut,{},void 0),(0,o.jsx)(ut,{},void 0),(0,o.jsx)(ut,{},void 0)]},void 0)}));var pt=t(52939),ht=t(38863),gt=t(64157),xt=t(39043),ft=t(32144),bt=t(23479),yt=t(22323),kt=t(42626),wt=t(75545),Ct=t(59754),jt=t(58718),It=t(73382);const St=(0,Ce.Z)("div",{target:"e18g5nxw0"})((({smallSize:e=!1})=>({display:"inline-flex",alignItems:"start",justifyContent:"center",padding:e?"6px 12px":"6px 8px",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"4px"})),"label:DivContainer;"),Ot=(0,Ce.Z)("div",{target:"e18g5nxw1"})({fontSize:"16px",width:"22px",height:"22px",display:"flex",alignItems:"center"},"label:DivIconContainer;"),Tt=(0,Ce.Z)(Ot,{target:"e18g5nxw2"})((({theme:{direction:e}})=>({textAlign:(0,je.$K)(e,"start")})),"label:StyledWarningIconContainer;"),Mt=(0,Ce.Z)(Ot,{target:"e18g5nxw3"})((({theme:{direction:e}})=>({textAlign:(0,je.$K)(e,"start"),cursor:"pointer"})),"label:StyledArrowIconContainer;"),Pt=(0,Ce.Z)("div",{target:"e18g5nxw4"})((({theme:e,smallSize:i=!1})=>[(0,je.GI)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"}),{fontSize:"14px",lineHeight:i?"18px":"22px",wordBreak:"break-word",verticalAlign:"text-top",textAlign:(0,je.$K)(e.direction,"start")}]),"label:DivWarnInfoContent;"),Lt=(0,r.memo)((({info:{text:e,url:i},smallSize:t=!1})=>{const{direction:n,colors:{ConstTextInverse:a}}=(0,Oe.u)(),l=(0,r.useMemo)((()=>"ltr"===n?(0,o.jsx)(Ct.Z,{fill:a},void 0):(0,o.jsx)(jt.Z,{fill:a},void 0)),[a,n]),s=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),i&&window.open(i,"_blank","noopener,noreferrer")}),[i]);return(0,o.jsxs)(St,Object.assign({onClick:s,style:{cursor:i?"pointer":"unset"}},{children:[!t&&(0,o.jsx)(Tt,{children:(0,o.jsx)(It.Z,{fill:a},void 0)},void 0),(0,o.jsx)(Pt,Object.assign({smallSize:t},{children:e}),void 0),i&&(0,o.jsx)(Mt,{children:l},void 0)]}),void 0)}));var At=t(37782),_t=t(94346),Rt=t(28730),Bt=t(52796),Vt=t(68414),Dt=t(16926),Et=t(52546),zt=t(80004),Zt=t(17387),Wt=t(78249),qt=t(33794),Ft=t(47251),Yt=t(43929),Ht=t(54451),Ut=t(4668),Gt=t(66833),Nt=t(64176),Kt=t(31398);const Jt=(0,t(50482).ZP)({resolved:{},chunkName:()=>"animation",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!t.m[i]},importAsync:()=>Promise.all([t.e(8844),t.e(2539),t.e(2209),t.e(1050)]).then(t.bind(t,71185)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve:()=>71185}),Qt=({likedIcon:e,unlikeIcon:i,isLiked:t})=>{const[n,a]=(0,r.useState)(!1),l=(0,r.useRef)(!1);(0,r.useEffect)((()=>{t&&l.current&&a(t)}),[t]),(0,r.useEffect)((()=>{a(!t),l.current=!0}),[]);const s=(0,r.useCallback)((()=>{a(!1)}),[]);return t?(0,o.jsx)("div",{children:n?(0,o.jsx)(Jt,{autoplay:!0,onComplete:s},void 0):e},void 0):i};var Xt=t(28327),$t=(t(2468),t(93245),t(95028)),eo=t(48581);(0,Xt.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),(0,Xt.F4)({"0%":{opacity:0,transform:"translate3d(.5em, calc(1 * .2em), 0) rotate(calc(1 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(1 * 0), 0) rotate(calc(1 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(1 * -.2em), 0) rotate(calc(1 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(1 * -.4em), 0) rotate(calc(1 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, 1 * -.6em, 0) rotate(1 * 100deg)"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(1 * -.8em), 0) rotate(calc(1 * 120deg))"}}),(0,Xt.F4)({"0%":{opacity:0,transform:"translate3d(.5em,calc(2 * .2em), 0) rotate(calc(2 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(2 * 0), 0) rotate(calc(2 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(2 * -.2em), 0) rotate(calc(2 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(2 * -.4em), 0) rotate(calc(2 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, calc(2 * -.6em), 0) rotate(calc(2 * 100deg))"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(2 * -.8em), 0) rotate(calc(2 * 120deg))"}}),(0,Xt.F4)({"0%":{opacity:0,transform:"translate3d(.5em, calc(3 * .2em), 0) rotate(calc(3 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(3 * 0), 0) rotate(calc(3 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(3 * -.2em), 0) rotate(calc(3 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(3 * -.4em), 0) rotate(calc(3 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, calc(3 * -.6em), 0) rotate(calc(3 * 100deg))"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(3 * -.8em), 0) rotate(calc(3 * 120deg))"}});const io=(0,Ce.Z)("div",{target:"ean6quk0"})((({theme:e})=>(0,je.YJ)({direction:e.direction,end:"20px"})),{display:"flex",flexDirection:"column",alignItems:"center",position:"absolute",zIndex:1,bottom:"8px"},"label:DivActionItemContainer;"),to=((0,Xt.F4)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.67)"},"100%":{transform:"scale(1)"}}),(0,Ce.Z)("div",{target:"ean6quk5"})((({theme:e})=>[(0,je.GI)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:"490px",overflowY:"auto","::-webkit-scrollbar-thumb":{background:e.colors.SDTertiary}}]),"label:DivShareWrapper;"));to.defaultProps=Object.assign(Object.assign({},to.defaultProps),{"data-e2e":"feed-share-group"});const oo=(0,Ce.Z)("svg",{target:"ean6quk12"})((({theme:{direction:e}})=>(0,je.YJ)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:SvgIconFlag;"),no=(0,Ce.Z)("div",{target:"ean6quk13"})((({theme:e})=>[(0,je.GI)({theme:e,fontWeight:"semiBold",typography:"P2",color:"TextPrimary"}),{width:"280px",height:"58px",display:"flex",alignItems:"center",padding:"16px",boxSizing:"border-box",cursor:"pointer"}]),"label:DivEleWrapper;"),ro=(0,Ce.Z)($i.Z,{target:"ean6quk14"})((({theme:{direction:e}})=>[(0,je.YJ)({direction:e,marginEnd:"4px"})]),"label:StyledTranscriptIcon;"),ao=(0,Ce.Z)($t.Z,{target:"ean6quk15"})(Object.assign({},(0,eo.s)()),"label:StyledEllipsisHorizontal;"),lo=32,so="#fff",co=(0,r.memo)((function(e){var i,t;const{itemId:a,style:l,onlyShowExtra:s=!1,onClickLike:d,onClickShare:c,onClickComment:u}=e,v=(0,O.Q)(),{isRTL:p}=(0,ji.Y)(),[h,f]=(0,r.useState)(0),b=p?"rightBottom":"leftBottom",y=(0,r.useMemo)((()=>({offset:[p?20:-20,10*Math.min(h,10)]})),[p,h]),k=(0,r.useMemo)((()=>({maxWidth:"unset",filter:"drop-shadow(0px 2px 12px rgba(0, 0, 0, 0.12))"})),[]),{colors:w}=(0,Oe.u)(),C=(0,r.useMemo)((()=>({padding:"0 4px",backgroundColor:w.BGSecondary})),[w]),j=p?"right":"left",I=(0,r.useMemo)((()=>({offset:[p?20:-20]})),[p]),[S={},T]=(0,n.b7)(g.A,{selector:e=>e[a],dependencies:[a]}),[{subtitleContent:M},P]=(0,n.b7)(N.Y),{author:L="",id:A="",digged:_=!1,commentSetting:R=!1}=(0,m.m7)(S),B=(0,r.useMemo)((()=>3===(null==S?void 0:S.itemCommentStatus)||3===R),[R,null==S?void 0:S.itemCommentStatus]),V=(0,n.mp)(Le.z,{selector:e=>{if(L)return e.users[L]},dependencies:[S]}),{secUid:D="",uniqueId:z="",id:Z="",isEmbedBanned:W=!1}=(0,m.m7)(V),q=(0,Ze.X)({action:(0,r.useCallback)((()=>{null==d||d(),T.postLikeVideo({id:a,enter_method:"click",play_mode:"video_detail"})}),[T,a,d]),modalConfig:{query:{enter_method:"click_like"}}}),F=(0,Dt.fz)(Gt.p),[Y,H]=(0,r.useState)(!1),[U,G]=(0,r.useState)(!1),[K,J]=(0,r.useState)(!1),[Q,X]=(0,r.useState)(!1),$=(0,r.useRef)(0),ee=(0,r.useRef)(0),ie=(0,r.useRef)(0),te=(0,r.useRef)(0),{expanded:oe}=(0,qt.c1)(),ne=(0,x.kw)(S),re=(0,x.K$)(S),ae=(0,r.useCallback)((()=>{var e,i;K||(H(!Y),F.handleClickShare(Object.assign({author_id:null!==(e=null==V?void 0:V.id)&&void 0!==e?e:"",to_user_id:null!==(i=null==V?void 0:V.id)&&void 0!==i?i:"",group_id:a,play_mode:"video_detail"},re))),null==c||c()}),[K,c,Y,F,null==V?void 0:V.id,a,re]),le=(0,r.useCallback)((()=>{var e,i;F.handleSharePanelShow(Object.assign({group_id:a,to_user_id:null!==(e=null==V?void 0:V.id)&&void 0!==e?e:"",play_mode:"video_detail",share_option_type:oe,poi_id:null===(i=null==S?void 0:S.poi)||void 0===i?void 0:i.id},re)),window.clearTimeout($.current),window.setTimeout((()=>{H(!0)}),100)}),[F,a,null==V?void 0:V.id,oe,null===(i=null==S?void 0:S.poi)||void 0===i?void 0:i.id,re]),se=(0,r.useCallback)((()=>{K||(window.clearTimeout(ie.current),$.current=window.setTimeout((()=>{H(!1)}),300))}),[K]),de=(0,r.useCallback)((()=>{var e;e={group_id:a},Ai.W.event("kebab_menu_hover",e),window.clearTimeout(ee.current),te.current=window.setTimeout((()=>{G(!0)}),100)}),[a]),ce=(0,r.useCallback)((()=>{window.clearTimeout(te.current),ee.current=window.setTimeout((()=>{G(!1)}),300)}),[]),ue=(0,r.useCallback)((e=>{J(e)}),[]),ve=(0,r.useCallback)((()=>{X(!0)}),[X]),me=(0,Ft.gR)(a),pe=(0,qt.JW)();(0,r.useEffect)((()=>{pe()}),[pe]);const he=(0,Yt.Q)({item:S,play_mode:"video_detail",onShow:Mi.NS}),ge=(0,r.useMemo)((()=>(0,o.jsxs)(no,Object.assign({onMouseEnter:de,onMouseLeave:ce,onClick:he},{children:[(0,o.jsx)(oo,Object.assign({fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:16,height:15},{children:(0,o.jsx)("use",{xlinkHref:"#svg-flag"},void 0)}),void 0),v("Report")]}),void 0)),[de,ce,he,v]),xe=(0,r.useCallback)((()=>{P.setIfShowSubtitle(!0),et.K.handleShowTranscriptPanel("click_transcript",0)}),[P]),fe=(0,r.useMemo)((()=>(0,o.jsxs)(no,Object.assign({onMouseEnter:de,onMouseLeave:ce,onClick:xe},{children:[(0,o.jsx)(ro,{},void 0),v("asr_transcript_onpc_kebab_menu_ab_transcript_button")]}),void 0)),[de,ce,xe,v]),be=(0,r.useCallback)((()=>(0,o.jsxs)(o.Fragment,{children:[(null==M?void 0:M.length)>0?fe:null,ge]},void 0)),[M,fe,ge]),ye=(0,r.useMemo)((()=>{var e;return Object.assign({group_id:a,to_user_id:Z,author_id:Z,play_mode:"video_detail",poi_id:null===(e=null==S?void 0:S.poi)||void 0===e?void 0:e.id},re)}),[a,Z,null===(t=null==S?void 0:S.poi)||void 0===t?void 0:t.id,re]),ke=(0,r.useMemo)((()=>(0,o.jsx)(Et.Z,{width:lo,height:lo,fill:so},void 0)),[]),we=(0,r.useMemo)((()=>(0,o.jsx)(zt.Z,{width:lo,height:lo,fill:so},void 0)),[]),Ce=(0,r.useMemo)((()=>(0,o.jsx)(ao,{width:lo,height:lo,fill:so},void 0)),[]),je=(0,r.useMemo)((()=>(0,o.jsx)(Zt.Z,{width:lo,height:lo,fill:so},void 0)),[]),Ie=(0,r.useMemo)((()=>(0,o.jsx)(Wt.Z,{width:lo,height:lo,fill:so},void 0)),[]),Se=(0,r.useMemo)((()=>(0,o.jsx)(Qt,{isLiked:_,likedIcon:ke,unlikeIcon:Ie},void 0)),[_,Ie,ke]),{stats:Te,id:Me}=(0,m.m7)(S),Pe=`https://www.tiktok.com${(0,E.fH)({uniqueId:z,secUid:D,videoId:Me})}`,Ae=(0,r.useMemo)((()=>(0,o.jsx)(to,Object.assign({onMouseEnter:le,onMouseLeave:se},{children:(0,o.jsx)(Ht.mB,{mode:1,videoId:A,uniqueId:z,url:Pe,embedCode:me,enabled:S.shareEnabled,isEmbedBanned:W||ne,teaParams:ye,onPlatformCountChange:f,onOtherModalOpen:ue,onSendMessagePanelOpen:ve},void 0)}),void 0)),[le,se,A,z,Pe,me,S.shareEnabled,W,ye,ne,ue,ve]),_e=(0,r.useCallback)((()=>{X(!1)}),[X]),Re=(0,Ze.X)({action:(0,r.useCallback)((()=>{kt.y.handleCommentClick(Object.assign(Object.assign({},ye),{action:"open"})),null==u||u()}),[u,ye]),modalConfig:{query:{enter_method:"click_comment"}}}),{isDark:Ve}=(0,Oe.u)(),De=Ve?"black":"white";return S?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(io,Object.assign({style:l},{children:[!s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Kt.i,Object.assign({text:(0,m.BT)(null==Te?void 0:Te.diggCount),onClick:q,e2eTag:"like",normalText:!0},{children:Se}),void 0),(0,o.jsx)(Kt.i,Object.assign({text:B?"0":(0,m.BT)(null==Te?void 0:Te.commentCount),onClick:Re,e2eTag:"comment",normalText:!0},{children:we}),void 0),(0,o.jsx)(Nt.u,Object.assign({destroyTooltipOnHide:!0,visible:Y,placement:b,overlay:Ae,align:y,overlayStyle:k,overlayInnerStyle:C,tooltipTheme:De,zIndex:999},{children:(0,o.jsx)(Kt.i,Object.assign({text:(null==Te?void 0:Te.shareCount)?(0,m.BT)(null==Te?void 0:Te.shareCount):v("Share"),onMouseEnter:le,onMouseLeave:se,onClick:ae,e2eTag:"share",normalText:!0},{children:je}),void 0)}),void 0)]},void 0),(0,o.jsx)(Nt.u,Object.assign({visible:U,placement:j,align:I,overlay:be(),overlayStyle:k,overlayInnerStyle:C,tooltipTheme:De,zIndex:999},{children:(0,o.jsx)(Kt.i,Object.assign({onMouseEnter:de,onMouseLeave:ce,e2eTag:"more-entrance"},{children:Ce}),void 0)}),void 0)]}),void 0),Q&&(0,o.jsx)(Ut.J,{visible:Q,videoId:Me,onClose:_e},void 0)]},void 0):(0,Be.G)(["item"])}));var uo=t(99192),vo=t(91829),mo=t(28972),po=t(837);const ho=(0,Ce.Z)("div",{target:"emehcf90"})({position:"absolute",width:"100%",height:"80%",left:0,top:0,borderRadius:"4px",display:"flex",justifyContent:"center",zIndex:"1","&.mask-exit":{opacity:1},"&.mask-exit-active":{opacity:0,transition:"opacity 233ms cubic-bezier(0.25, 0, 0.25, 1)"}},"label:DivRelatedMask;"),go=(0,Ce.Z)("div",{target:"emehcf91"})({marginTop:"80px"},"label:DivFirstItemContainer;"),xo=(0,Ce.Z)("div",{target:"emehcf92"})({display:"flex",justifyContent:"space-between",alignItems:"center",height:"24px",marginBottom:"8px"},"label:DivAction;"),fo=(0,Ce.Z)("div",{target:"emehcf93"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.ConstTextInverse4,display:"flex",fontWeight:"600"})),"label:DivCountDown;"),bo=(0,Ce.Z)("span",{target:"emehcf94"})((({theme:e})=>({color:e.colors.ConstTextInverse,margin:"0 5px"})),"label:SpanTime;"),yo=(0,Ce.Z)("div",{target:"emehcf95"})({display:"flex",alignItems:"center",cursor:"pointer"},"label:DivClose;"),ko=(0,Ce.Z)("div",{target:"emehcf96"})((({index:e})=>({cursor:"pointer",margin:"0 auto",animation:`0.3s cubic-bezier(0.25, 0, 0.25, 1) ${.066*e}s backwards show-card`,"@keyframes show-card":{"0%":{transform:"scale(0.8)",opacity:"0"},"100%":{transform:"scale(1)",opacity:"1"}}})),"label:DivItemContainer;"),wo=(0,Ce.Z)("div",{target:"emehcf97"})((({theme:e})=>({width:"100%",position:"relative",borderRadius:"2px",marginBottom:"8px",overflow:"hidden",boxSizing:"border-box",border:`1px solid ${e.colors.ConstLineInverse2}`})),"label:DivCoverContainer;"),Co=(0,Ce.Z)("img",{target:"emehcf98"})((({theme:{colors:e}})=>({width:"100%",height:"100%",objectFit:"cover",background:e.BGPlaceholderDefault})),"label:ImgCover;"),jo=(0,Ce.Z)("div",{target:"emehcf99"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:DivPlayIcon;"),Io=(0,Ce.Z)("div",{target:"emehcf910"})((({theme:e})=>(0,je.GI)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"})),(0,je.FC)(2),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px",height:"48px"},"label:DivTitle;"),So=(0,Ce.Z)("div",{target:"emehcf911"})((({theme:e})=>({position:"absolute",height:"40px",left:0,right:0,bottom:0,background:"linear-gradient(180deg, rgba(22, 24, 35, 0.0001) 2.92%, rgba(22, 24, 35, 0.3) 98.99%)",color:e.colors.ConstTextInverse,fontSize:"13px",lineHeight:"17px",padding:"12px 8px 8px 8px",display:"flex",alignItems:"center"})),"label:DivPlayCount;"),Oo=(0,Ce.Z)(po.Z,{target:"emehcf912"})((({theme:e})=>(0,je.YJ)({direction:e.direction,marginEnd:4})),"label:StyledPlay;"),To=(0,Ce.Z)("div",{target:"emehcf913"})({display:"flex",alignItems:"start",justifyContent:"center",flexWrap:"wrap",height:"348px",overflow:"hidden",margin:"120px 54px 0 54px",[`& > ${ko}`]:{margin:"0 10px"}},"label:DivRecommendListContainer;"),Mo=(0,Ce.Z)("div",{target:"emehcf914"})((({theme:e,right:i=!1})=>Object.assign(Object.assign({},(0,je.YJ)({direction:e.direction,start:i?void 0:"0px",end:i?"0px":void 0})),{transform:"rtl"===e.direction?"rotateZ(180deg)":"",margin:i?"120px 8px 0 24px":"120px 24px 0 8px",position:"absolute",alignItems:"center",cursor:"pointer",color:e.colors.ConstTextInverse,height:"348px",display:"none","@media screen and (max-width: 1460px)":{display:"flex"}})),"label:DivArrow;");var Po;!function(e){e[e.Small=0]="Small",e[e.Big=1]="Big"}(Po||(Po={}));const Lo={0:{iconSize:40,cardWidth:220,cardHeight:292},1:{iconSize:48,cardWidth:260,cardHeight:345}},Ao=(0,r.memo)((e=>{const{item:i,size:t,index:n=0}=e,{video:{cover:a,zoomCover:l},desc:s,stats:d}=i,c=Lo[t],u=c.cardWidth,v=c.cardHeight,[p,h]=(0,r.useState)({width:u,animation:""});return(0,r.useEffect)((()=>{h((e=>Object.assign(Object.assign({},e),{animation:`0.3s cubic-bezier(0.25, 0, 0.25, 1) ${.066*n}s backwards show-card`}))),window.setTimeout((()=>{h((e=>Object.assign(Object.assign({},e),{animation:"none"})))}),300+66*n+1)}),[i.id,n]),(0,o.jsxs)(ko,Object.assign({index:n,style:p,onClick:e.onClick},{children:[(0,o.jsxs)(wo,Object.assign({style:{height:v}},{children:[(0,o.jsx)(Co,{src:(null==l?void 0:l[480])||a},void 0),(0,o.jsx)(jo,{children:(0,o.jsx)("svg",Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:c.iconSize,height:c.iconSize,fill:"#fff"},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0)},void 0),(0,o.jsxs)(So,{children:[(0,o.jsx)(Oo,{width:20,height:20,fill:"#fff"},void 0),(0,m.BT)(null==d?void 0:d.playCount)]},void 0)]}),void 0),(0,o.jsx)(Io,{children:s},void 0)]}),void 0)})),_o=(0,r.memo)((e=>{const{item:i}=e,{time:t}=(({totalSeconds:e,callback:i})=>{const[t,o]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const e=setInterval((()=>{o((t=>(1===t&&(i(),clearInterval(e)),Math.max(t-1,1))))}),1e3);return()=>{clearInterval(e)}}),[]),{time:t}})({totalSeconds:5,callback:e.onCountEnd}),n=(0,r.useCallback)((()=>{e.onVideoCardClick(0)}),[]),a=(0,O.Q)()("pc_web_upnext_countdown",{num:t,time:t}),l=a.indexOf(String(t)),s=a.slice(0,l),d=a.slice(l).replace(String(t),""),{colors:c}=(0,Oe.u)();return i?(0,o.jsxs)(go,{children:[(0,o.jsxs)(xo,{children:[(0,o.jsxs)(fo,{children:[s," ",(0,o.jsx)(bo,{children:t},void 0),d]},void 0),(0,o.jsx)(yo,Object.assign({onClick:e.onClose},{children:(0,o.jsx)(mo.Z,{width:"20",height:"20",fill:c.ConstTextInverse4},void 0)}),void 0)]},void 0),(0,o.jsx)(Ao,{onClick:n,item:i,size:1},void 0)]},void 0):null})),Ro=(0,r.memo)((e=>{const{itemList:i}=e,t=(0,r.useCallback)((i=>()=>{e.onVideoCardClick(i)}),[]);return(0,o.jsx)(To,{children:i.map(((e,i)=>(0,o.jsx)(Ao,{index:i,onClick:t(e.id),item:e,size:0},i)))},void 0)}));var Bo,Vo=t(25357);!function(e){e[e.CountingDown=0]="CountingDown",e[e.Normal=1]="Normal"}(Bo||(Bo={}));const Do=(0,r.memo)((({showRelated:e,onCloseRelatedMask:i})=>{const{hasCountDownMask:t}=(0,b.xI)(),[a,l]=(0,r.useState)(t?0:1),s=(0,r.useRef)({}),d=(0,r.useRef)({index:-1,enterMethod:"rolling_video_card"}),{recommendItemList:u,handleVideoCardClick:v}=(()=>{const[{currentIndex:e,itemListKey:i},t]=(0,n.b7)(N.Y),{browserList:o}=(0,n.mp)(c.h,{selector:t=>{const o=t[null!=i?i:""];return o&&o.browserList.length>1?{browserList:o.browserList.slice(e+1,3+e+1)}:{browserList:[]}},dependencies:[e]}),[{itemList:a}]=(0,n.b7)(g.A,{selector:e=>({itemList:o.map((i=>e[i]))}),dependencies:[o,e]}),{abTestVersion:l,language:s,user:d}=(0,m.m7)((0,p.Lh)((()=>["abTestVersion","language","user"]),[]));return{recommendItemList:a,handleVideoCardClick:(0,r.useCallback)((({index:i,enterMethod:o})=>{t.handleSwitchVideo({newIndex:e+i+1,abTestVersion:l,language:s,user:d,enterMethod:o})}),[l,s,d,e])}})(),[h,x]=(0,r.useState)(u);(0,r.useEffect)((()=>{e&&l(t?0:1)}),[e]),(0,r.useEffect)((()=>{u.forEach(((e,i)=>s.current[e.id]=i)),x(u)}),[u]);const f=(0,Pi.fB)((()=>{window.innerWidth>1460&&x(u)}),[u],500);(0,r.useEffect)((()=>(window.addEventListener("resize",f),()=>window.removeEventListener("resize",f))),[f]);const y=(0,r.useCallback)((()=>{l(1)}),[]),k=(0,r.useCallback)((()=>{x((e=>[e[1],e[2],e[0]]))}),[]),w=(0,r.useCallback)((()=>{x((e=>[e[2],e[0],e[1]]))}),[]),C=(0,r.useCallback)((e=>{d.current.index="string"==typeof e?s.current[e]:e,i()}),[]),j=(0,r.useCallback)((()=>{d.current={index:0,enterMethod:"auto_next"},i()}),[]),I=(0,r.useCallback)((()=>{d.current.index>=0&&(v(d.current),d.current={index:-1,enterMethod:"rolling_video_card"})}),[u]);return(0,o.jsx)(Vo.Z,Object.assign({in:e,onExited:I,unmountOnExit:!0,timeout:223,classNames:"mask"},{children:(0,o.jsx)(ho,{children:0===a?(0,o.jsx)(_o,{item:u[0],onClose:y,onCountEnd:j,onVideoCardClick:C},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Mo,Object.assign({onClick:k},{children:(0,o.jsx)(uo.Z,{fontSize:32},void 0)}),void 0),(0,o.jsx)(Ro,{onVideoCardClick:C,itemList:h},void 0),(0,o.jsx)(Mo,Object.assign({right:!0,onClick:w},{children:(0,o.jsx)(vo.Z,{fontSize:32},void 0)}),void 0)]},void 0)},void 0)}),void 0)}));var Eo,zo=t(94582),Zo=t(11372),Wo=t(51553),qo=t(44233),Fo=t(54006),Yo=t(87345);function Ho(){return Ho=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ho.apply(this,arguments)}const Uo=function(e){return r.createElement("svg",Ho({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Eo||(Eo=r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M10.084 4.18c4.263-1.142 8.659 1.405 9.81 5.703 1.152 4.298-1.381 8.701-5.644 9.844-4.102 1.099-8.327-1.218-9.666-5.224a.525.525 0 00-.627-.35l-.966.26a.482.482 0 00-.342.608c1.625 5.065 6.94 8.025 12.119 6.637 5.339-1.43 8.493-6.938 7.058-12.293-1.435-5.355-6.92-8.548-12.26-7.117A9.925 9.925 0 004.39 5.617l-.4-2.766a.5.5 0 00-.566-.423l-.99.143a.5.5 0 00-.423.566l.806 5.58a1 1 0 001.17.84l5.38-.984a.5.5 0 00.402-.582l-.18-.984a.5.5 0 00-.581-.401l-3.322.607a7.936 7.936 0 014.398-3.033z",clipRule:"evenodd"})))},Go=(0,Ce.Z)("div",{target:"e123m2eu0"})({width:"100%",position:"absolute",bottom:"0"},"label:DivSeekBarContainer;"),No=(0,Ce.Z)("div",{target:"e123m2eu1"})({maxWidth:"64px",marginInlineStart:"12px",fontSize:"14px",lineHeight:"20px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),Ko=(0,Ce.Z)("div",{target:"e123m2eu2"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"0",bottom:"0",cursor:"pointer"},"label:DivSeekBarProgress;"),Jo=(0,Ce.Z)("div",{target:"e123m2eu3"})((({theme:{colors:e,direction:i}})=>({height:"4px",width:"100%",backgroundColor:e.Primary,position:"absolute",bottom:"0",cursor:"pointer",borderBottomLeftRadius:"rtl"===i?"0":"4px",borderBottomRightRadius:"rtl"===i?"4px":"0",transformOrigin:"rtl"===i?"right":"left"})),"label:DivSeekBar;"),Qo=(0,Ce.Z)("div",{target:"e123m2eu4"})((({theme:{direction:e}})=>(0,je.YJ)({direction:e})),(({theme:{direction:e}})=>({display:"none",width:"18px",height:"18px",position:"absolute",zIndex:10,bottom:0,transform:`translate(${"rtl"===e?"50%":"-50%"}, 6px)`,cursor:"pointer"})),"label:DivSeekBarCircleWrapper;"),Xo=(0,Ce.Z)("div",{target:"e123m2eu5"})((({theme:{direction:e,colors:i}})=>[(0,je.YJ)({direction:e,start:"3px"}),{width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",zIndex:10,bottom:"3px",boxShadow:`0px 0px 3px ${i.TextPrimary}`}]),"label:DivSeekBarCircle;"),$o=(0,Ce.Z)("div",{target:"e123m2eu6"})((({reactive:e})=>({width:"100%",position:"absolute",zIndex:1,userSelect:"none",height:"100%",opacity:1,bottom:0,cursor:"initial",display:"flex",flexDirection:"column",background:e?"":"#000",borderRadius:"4px",[`:hover ${Qo}`]:{display:e?"block":""},[`:hover ${Jo}, :hover ${Ko}`]:{height:e?"6px":""}})),"label:DivVideoControlContainer;"),en=(0,Ce.Z)("div",{target:"e123m2eu7"})((({active:e})=>[{position:"absolute",width:"100%",display:"flex",alignItems:"center",paddingInlineStart:"16px",bottom:"22px",opacity:e?"1":"0",transition:"all .3s ease"}]),"label:DivControlButtonWrapper;"),tn=(0,Ce.Z)("div",{target:"e123m2eu8"})((({theme:{direction:e},active:i,showActionBar:t})=>[{position:"absolute",cursor:"pointer",bottom:"20px",display:"flex",flexDirection:"column",alignItems:"center",opacity:i?"1":"0",transition:"opacity .5s"},(0,je.YJ)({direction:e,start:"unset",end:t?"72px":"16px"})]),"label:DivVoiceControlContainer;"),on=(0,Ce.Z)("div",{target:"e123m2eu9"})({opacity:1,width:"40px",height:"24px",display:"flex",justifyContent:"center",transition:"opacity .3s"},"label:DivMuteIconContainer;"),nn=(0,Ce.Z)("div",{target:"e123m2eu10"})({width:"24px",height:"24px",display:"flex",justifyContent:"center",cursor:"pointer"},"label:DivPlayIconContainer;"),rn=(0,Ce.Z)("div",{target:"e123m2eu11"})({width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.5)",left:0,top:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.8",zIndex:2,":hover":{opacity:1}},"label:DivMiniControlContainer;"),an=(0,Ce.Z)("div",{target:"e123m2eu12"})((({theme:{direction:e}})=>Object.assign(Object.assign({},(0,je.YJ)({direction:e,start:"12px"})),{position:"absolute",top:"12px",cursor:"pointer"})),"label:DivZoomBtn;"),ln=(0,Ce.Z)("div",{target:"e123m2eu13"})((({theme:{direction:e}})=>Object.assign(Object.assign({},(0,je.YJ)({direction:e,end:"12px"})),{position:"absolute",top:"12px",cursor:"pointer"})),"label:DivCloseBtn;"),sn=(0,Ce.Z)("div",{target:"e123m2eu14"})({display:"flex",justifyContent:"space-between",height:"40px",width:"168px"},"label:DivSwitchContainer;"),dn=(0,Ce.Z)("div",{target:"e123m2eu15"})((({isRtl:e})=>({cursor:"pointer",display:"flex",alignItems:"center",width:"40px",transform:e?"rotateZ(180deg)":""})),"label:DivAction;"),cn=(0,Ce.Z)("div",{target:"e123m2eu16"})((({isRtl:e})=>({cursor:"pointer",transform:e?"":"rotateZ(180deg)",display:"flex",alignItems:"center",width:"40px"})),"label:DivRight;"),un={width:24,height:24,fill:"#fff"},vn=(0,r.memo)((function(e){const i=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),[s,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[v,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),{direction:g}=(0,Oe.u)(),x=(0,r.useRef)(0),f=(0,r.useRef)(null),{videoId:b,pause:y=!1,seek:k,videoRef:w,progressReportCallback:C,progressPreviewReportCallback:j,onDoubleClick:I,onTogglePlay:S,onReplay:O,noneActionBar:M=!1,ended:P=!1}=e,{duration:L,videoPercent:A,currentTime:_}=(0,n.mp)(Xi.M,{selector:e=>e[b]?e[b]:{duration:0,videoPercent:0,currentTime:0},dependencies:[b]}),{percent:R,bindDrag:B,seek:V}=(0,Fo.S)({direction:g,progressRef:t,circleRef:a,barRef:l,initialPercent:0,draggingStateCb:d,draggingPercentCb:k,progressReportCallback:C}),{mute:D,setMute:E}=(0,T.s_)(4),[z,Z]=(0,r.useState)(!1),q=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),E(!D)}),[D,E]),F=(0,r.useMemo)((()=>P?(0,o.jsx)(Uo,Object.assign({},un),void 0):y?(0,o.jsx)("svg",Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},un,{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0):(0,o.jsx)(Zo.Z,Object.assign({},un),void 0)),[y,P]),Y=(0,r.useMemo)((()=>D?(0,o.jsx)(Wo.Z,Object.assign({},un),void 0):(0,o.jsx)(qo.Z,Object.assign({},un),void 0)),[D]),H=(0,r.useCallback)((()=>{clearTimeout(x.current),m(!0)}),[]),U=(0,r.useCallback)((()=>{x.current=window.setTimeout((()=>{m(!1)}),500)}),[]),G=(0,r.useCallback)((()=>{h(!0)}),[]),N=(0,r.useCallback)((()=>{h(!1)}),[]);(0,r.useEffect)((()=>{j()}),[j]),(0,r.useEffect)((()=>{var e,i;null===(e=w.current)||void 0===e||e.onSeeked((()=>{setTimeout((()=>{u(!1)}),0)})),null===(i=w.current)||void 0===i||i.onSeeking((()=>{u(!0)}))}),[w.current,u]);const K=(0,Oi.D)((()=>({onClick:S,onDoubleClick:I})),[S,I]),J=(0,r.useCallback)((e=>{(0,Mi.UW)(e),P?O():S(e)}),[P,O,S]),Q=(0,r.useMemo)((()=>P?{}:{onClick:K,onMouseDown:Mi.UW}),[P,y]),X=s||c?R:A,$="ltr"===g?{left:`calc(${100*X}%)`}:{right:`calc(${100*X}%)`},ee=v||s,ie=v||s||D||z;return(0,o.jsxs)($o,Object.assign({reactive:!P,ref:f,onMouseEnter:H,onMouseLeave:U},Q,{children:[(0,o.jsx)(zo.ZP,Object.assign({in:ee,timeout:500,nodeRef:f},{children:(0,o.jsxs)(en,Object.assign({active:ee||P},{children:[(0,o.jsx)(nn,Object.assign({onClick:J},{children:F}),void 0),(0,o.jsx)(No,{children:"ltr"===g?`${(0,W.xo)(_)}/${(0,W.xo)(L)}`:`${(0,W.xo)(L)}/${(0,W.xo)(_)}`},void 0)]}),void 0)}),void 0),(0,o.jsx)(zo.ZP,Object.assign({in:ie,timeout:500,nodeRef:f},{children:(0,o.jsxs)(tn,Object.assign({showActionBar:!M,active:ie,onMouseEnter:G,onMouseLeave:N,onMouseDown:Mi.UW},{children:[z||p&&!s?(0,o.jsx)(Yo.y,{isStyleV2:!0,setVolumeDragging:Z},void 0):null,(0,o.jsx)(on,Object.assign({mute:D,onClick:q},{children:Y}),void 0)]}),void 0)}),void 0),(0,o.jsxs)(Go,Object.assign({ref:i},{children:[(0,o.jsx)(Ko,{ref:t,onClick:V,onMouseDown:B},void 0),(0,o.jsx)(Qo,Object.assign({ref:a,style:$,onMouseDown:B},{children:(0,o.jsx)(Xo,{},void 0)}),void 0),(0,o.jsx)(Jo,{ref:l,style:{width:100*X+"%"},onClick:V,onMouseDown:B},void 0)]}),void 0)]}),void 0)}));var mn,pn,hn,gn;function xn(){return xn=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xn.apply(this,arguments)}const fn=function(e){return r.createElement("svg",xn({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),mn||(mn=r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M4.5 4H18a.5.5 0 01.5.5v6a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-6A2.5 2.5 0 0018 2H4.5A2.5 2.5 0 002 4.5V18a2.5 2.5 0 002.5 2.5h6a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-6A.5.5 0 014 18V4.5a.5.5 0 01.5-.5z",clipRule:"evenodd"})),pn||(pn=r.createElement("path",{fill:"white",d:"M13 15a2 2 0 012-2h5a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2v-5z"})),hn||(hn=r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M6.5 11.5a1 1 0 01-1-1v-4a1 1 0 011-1h4a1 1 0 110 2h-2a1 1 0 00-1 1v2a1 1 0 01-1 1z",clipRule:"evenodd"})),gn||(gn=r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M11.51 11.51a1 1 0 01-1.414 0L6.56 7.975A1 1 0 017.975 6.56l3.535 3.535a1 1 0 010 1.414z",clipRule:"evenodd"})))};var bn,yn;function kn(){return kn=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kn.apply(this,arguments)}const wn=function(e){return r.createElement("svg",kn({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",width:"1em",height:"1em"},e),bn||(bn=r.createElement("g",{fill:"white",filter:"url(#prev_icon_svg__filter0_d_21350_134746)"},r.createElement("path",{fillRule:"evenodd",d:"M27.333 7.092c0-1.369-1.426-2.211-2.542-1.5l-13.986 8.907c-1.073.684-1.073 2.318 0 3.002l13.986 8.908c1.116.71 2.542-.132 2.542-1.5V7.091z",clipRule:"evenodd"}),r.createElement("path",{d:"M4.667 4.75c0-.414.298-.75.666-.75H8c.368 0 .667.336.667.75v22.5c0 .414-.299.75-.667.75H5.333c-.368 0-.666-.336-.666-.75V4.75z"}))),yn||(yn=r.createElement("defs",null,r.createElement("filter",{id:"prev_icon_svg__filter0_d_21350_134746",width:34,height:34,x:-1,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_21350_134746"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_21350_134746",result:"shape"})))))},Cn=(0,r.memo)((e=>{const{currentIndex:i,paused:t,hidePlay:n,onTogglePlayer:a}=e,l=(0,r.useMemo)((()=>t?(0,o.jsx)("svg",Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"#fff"},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0):(0,o.jsx)(Zo.Z,{width:40,height:40,fill:"#fff"},void 0)),[t]),s=(0,r.useCallback)((()=>{!n&&a()}),[a,n]),{isRTL:d}=(0,ji.Y)();return(0,o.jsxs)(rn,Object.assign({onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},{children:[(0,o.jsx)(an,Object.assign({onClick:e.onGoToNormalPlayer},{children:(0,o.jsx)(fn,{width:24,height:24},void 0)}),void 0),(0,o.jsx)(ln,Object.assign({onClick:e.onClose},{children:(0,o.jsx)(mo.Z,{width:24,height:24,fill:"#fff"},void 0)}),void 0),(0,o.jsxs)(sn,{children:[(0,o.jsx)(dn,Object.assign({isRtl:d,onClick:e.onPrev},{children:Boolean(i)&&(0,o.jsx)(wn,{width:32,height:32},void 0)}),void 0),(0,o.jsx)(dn,Object.assign({onClick:s},{children:!n&&l}),void 0),(0,o.jsx)(cn,Object.assign({isRtl:d,onClick:e.onNext},{children:(0,o.jsx)(wn,{width:32,height:32},void 0)}),void 0)]},void 0)]}),void 0)}));var jn=t(8996),In=t(38554),Sn=t(51985),On=t(17643);const Tn=(0,r.memo)((e=>{const{style:i,icon:t,title:n,desc:a,canClickPropagation:l=!1,horizontal:s=!1}=e,d=(0,r.useCallback)((e=>{!l&&(0,Mi.NS)(e)}),[l]);return(0,o.jsx)(On.uc,Object.assign({onClick:d,style:i},{children:(0,o.jsxs)(On.N,Object.assign({horizontal:s},{children:[Boolean(t)&&(0,o.jsx)(On.Vz,{children:t},void 0),Boolean(n)&&(0,o.jsx)(On.u,{children:n},void 0),Boolean(a)&&(0,o.jsx)(On.vZ,{children:a},void 0)]}),void 0)}),void 0)}));var Mn=t(98224),Pn=t(55198);const Ln=(0,r.memo)((({videoPlayerRef:e,currentIndex:i,id:t,listLength:a,onNext:l,onPrev:s,smallSizeMask:d,showSensitiveMask:c})=>{const u=(0,r.useRef)(-1),v=(0,r.useRef)(void 0),h=(0,r.useRef)(-1),x=(0,r.useRef)(0),[f,b]=(0,r.useState)(!1),y=(0,O.Q)(),k=i<a-1;(0,r.useEffect)((()=>{b(!0)}),[]);const w=(0,n.mp)(g.A,{selector:e=>e[t],dependencies:[t]}),{user:C}=(0,m.m7)((0,p.Lh)((()=>["user"]),[])),{showVideoMask:j,maskType:I,videoMaskTitle:S,videoMaskDesc:T,icon:M,videoMaskFirstButtonText:P,videoMaskSecondButtonText:L}=(0,jn.g)({playMode:4,item:null!=w?w:{},isLogin:Boolean(C),smallSizeIcon:d}),[{photoSensitiveVideosSetting:A,hideMaskTempVideoId:_},R]=(0,n.b7)(In.P),B=j&&_!==t;(0,r.useEffect)((()=>{c&&(c.current=B)}),[B]);const V=(0,r.useCallback)((()=>{clearTimeout(h.current),x.current=0}),[]),[D,E]=(0,n.b7)(Z.f,{selector:e=>{var i;return Number(null===(i=e.currentVideo)||void 0===i?void 0:i.index)},dependencies:[]}),z=(0,r.useRef)(!1);(0,r.useEffect)((()=>{var o,n;i!==u.current&&(-1!==u.current&&(R.setHideMaskTempVideoId(""),f&&b(!1),z.current=!1),V(),void 0===A&&"photo_sensitive"===v.current&&R.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(C)}),j?("photo_sensitive_denied"===I?Mn.W.handleShowPhotosensitiveRemoved({group_id:t}):Mn.W.handleShowMaskLayer({scenario:"general_sensitive"===I?"general":"photosensitive",group_id:t}),h.current=window.setInterval((()=>{var i,t,o;x.current++>100&&V(),(null===(i=e.current)||void 0===i?void 0:i.currentCanPlay)&&(null===(o=(t=e.current).pause)||void 0===o||o.call(t),V())}),50)):null===(n=null===(o=e.current)||void 0===o?void 0:o.play)||void 0===n||n.call(o),u.current=i,v.current=I)}),[j,B,e,i,I,R,A,V,f,_,t,E,C]);const W=(0,r.useCallback)((e=>{if((0,Mi.NS)(e),"general_sensitive"===I){if(z.current)return;k?l():a>1&&s(),Mn.W.handleMaskLayerClickSkip({scenario:"general",group_id:t}),Pn.h.open({content:y("photosensitive_skepped_toast"),duration:3,widthType:"half"}),z.current=!0}else R.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(C)}),V(),Mn.W.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:t})}),[I,k,a,y,l,s,R,V,t,C]),q=(0,r.useCallback)((e=>{if((0,Mi.NS)(e),"general_sensitive"===I)R.setHideMaskTempVideoId(t),V(),Mn.W.handleMaskLayerClickWatch({scenario:"general",group_id:t});else{if(z.current)return;k?l():1===a?(null==C||C.uid,null==w||w.authorId):s(),R.setSkipPhotoSensitive({skip:!0,hasLogin:Boolean(C)}),Mn.W.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:t}),Pn.h.open({content:y("photosensitive_skepped_toast"),duration:3,widthType:"half"}),z.current=!0}}),[I,R,t,V,k,y,l,a,null==w?void 0:w.authorId,s,C]);return B?d?(0,o.jsx)(Tn,{icon:M,title:S,desc:T},void 0):(0,o.jsx)(Sn.a,{playMode:4,icon:M,title:S,desc:T,firstButtonText:P,secondButtonText:L,onClickFirstButton:W,onClickSecondButton:q},void 0):null})),An=(0,Ce.Z)("div",{target:"eqrezik0"})({position:"absolute",width:"100%",height:"100%",left:0,top:0,overflow:"hidden",borderRadius:"4px"},"label:DivBlurBackgroundWrapper;"),_n=(0,Ce.Z)("img",{target:"eqrezik1"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",transform:"scale(11)",opacity:"0.3",left:"50%",top:"50%"},"label:ImgBlurBackground;"),Rn=(0,Ce.Z)("div",{target:"eqrezik2"})((({hasBottomLine:e=!0,theme:{colors:i}})=>({borderBottom:e?`1px solid ${i.ShadowPrimary}`:"none"})),"label:DivVideoInfoContainer;"),Bn=(0,Ce.Z)("div",{target:"eqrezik3"})({width:"100%",position:"relative"},"label:DivPlayerContainer;"),Vn=(0,Ce.Z)("svg",{target:"eqrezik4"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:SvgPlayIcon;"),Dn=(0,Ce.Z)("div",{target:"eqrezik5"})({position:"relative",width:"100%",height:"100%",cursor:"pointer",borderRadius:"4px",overflow:"hidden","& .xgplayer-container":{width:"100%!important",height:"100%!important"}},"label:DivVideoWrapper;"),En=(0,Ce.Z)("div",{target:"eqrezik6"})((({theme:{colors:e}})=>({width:"100%",height:"606px",background:e.ConstBGInverse,position:"relative",borderRadius:"4px",marginBottom:"24px","@keyframes show-mini-player":{"0%":{transform:"scale(0.93)",opacity:0},"100%":{transform:"scale(1)",opacity:1}},"@keyframes hide-mini-player":{"50%":{transform:"scale(1)",opacity:1},"100%":{transform:"scale(0.93)",opacity:0}}})),"label:DivVideoContainer;"),zn=(0,Ce.Z)("div",{target:"eqrezik7"})({width:"40px",position:"absolute",bottom:"85px",right:"20px"},"label:DivActionBarWrapper;"),Zn=(0,Ce.Z)("div",{target:"eqrezik8"})((({smallSize:e=!1})=>({position:"absolute",bottom:e?"12px":"70px",left:e?"12px":"20px",right:e?"12px":"110px"})),"label:DivWarnInfoPosition;"),Wn=(0,Ce.Z)("div",{target:"eqrezik9"})({position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#000000",borderRadius:"4px"},"label:DivLoadingMask;"),qn=(0,Ce.Z)("img",{target:"eqrezik10"})((({smallSize:e=!1})=>({width:e?"112px":"176px",height:e?"112px":"176px"})),"label:ImgWrapper;"),Fn="width 0.333s cubic-bezier(0.33, 1, 0.68, 1), height 0.333s cubic-bezier(0.33, 1, 0.68, 1)",Yn={transition:Fn,"& video":{transition:Fn}},Hn=(0,Ce.Z)("h1",{target:"eqrezik11"})({marginBottom:"12px",fontWeight:"700",fontSize:"22px",lineHeight:"26px"},"label:H1PhotoTitle;"),Un={width:"100%",position:"absolute"},Gn=(0,r.forwardRef)(((e,i)=>{var t;const{item:a,currentIndex:l,totalLength:s,teaParams:d,onScrollToComment:c,videoChangeMethodRef:u}=e,h=null!==(t=null==a?void 0:a.id)&&void 0!==t?t:"",{video:{cover:x,zoomCover:f,playAddr:y="",width:k=1,height:w=1,duration:C,bitrateInfo:j,volumeInfo:I,bitrate:S},itemMute:O,warnInfo:M,downloadSetting:P=0,authorPrivate:L=!1,authorId:A="",poi:_}=(0,m.m7)(a),R=(0,n.qj)(g.A),B=(0,v.HX)(),{notAutoPlay:V}=(0,b.xI)(),[D,E]=(0,r.useState)(B?0:1),z=0===D,Z=2===D,[W,q]=(0,r.useState)(!0),F=(0,r.useRef)(null),Y=(0,r.useRef)(null),H=(0,r.useRef)(null),U=(0,r.useRef)(!1),G=(0,r.useRef)(!1),K=(0,r.useRef)(!1),[J,Q]=(0,r.useState)({}),{isVideoPlayerOptimization:X,isUIOptimization:$,isVideoDetailExperiment:ee}=(0,b.iA)(),ie=(0,r.useCallback)(((e="click")=>{R.postLikeVideo(Object.assign({id:h,enter_method:e},d))}),[R,h,d]),te=(0,Ze.X)({action:ie,modalConfig:{query:{enter_method:"click_like"}}}),oe=(0,Ze.X)({action:(0,r.useCallback)((e=>{const{clientX:i,clientY:t}=e;new Si.B(i,t).emit(),R.postLikeVideo({id:h,forceLike:!0})}),[h,R])}),{handleFullScreen:ne,handleExitFullscreen:re,fullscreen:ae,playMode:le,playModeForTea:se,containerStyle:de}=(0,Vi.p0)({fullscreenRef:Y,groupId:h,authorId:A,originalPlayMode:4,originalPlayModeForTea:"video_detail",videoPlayerRef:H}),{direction:ce}=(0,Oe.u)(),ue=(0,r.useMemo)((()=>Object.assign(Object.assign({},(0,je.YJ)({direction:ce,end:"22px",start:"unset"})),{zIndex:1,top:ae?"":"236px",transform:"unset",position:"absolute"})),[ae,ce]),ve=(0,r.useRef)(-1),{muteOrPlayAnimation:me}=(0,Bi.To)({animationTimerRef:ve});(0,Bi.CG)({pause:z,isActive:U.current,animationTimerRef:ve});const{seekingTips:pe}=(()=>{const{seekType:e}=(0,n.mp)(N.Y,{selector:e=>({seekType:e.seekType}),dependencies:[]});return{seekingTips:(0,Bi.Py)(e)}})(),he=(k/w||1)>=1,{handleCloseMiniVideo:ge,miniVideoVisible:xe,videoContainerStyle:fe,handleZoomToNormalPlayer:be}=Zi({videoContainerRef:F,isHorizontal:he,groupId:h,authorId:A}),{handleNextVideo:ye,handlePrevVideo:ke,handleTogglePlay:we,handleToggleMute:Ce,handleLinkClick:Ie,handleVideoClick:Se,handleVideoPause:Te,handleVideoPlay:Me,handleSeek:Pe,handleTogglePlayWithoutReport:Le,handleVideoEnd:Ae,handleReplay:_e,autoReplay:Re}=function({pause:e,setPlayStatus:i,groupId:t,handleLikeClick:o,authorId:a="",animationTimerRef:l,playModeForTea:s,playMode:d,handleFullScreen:c,isVideoPlayerOptimization:u,shouldShowPauseAnim:h,videoChangeMethodRef:x,videoPlayerRef:f,playKeyboardDisable:y}){const k=(({groupId:e,authorId:i,playModeForTea:t})=>(0,r.useMemo)((()=>({play_mode:t,group_id:e,author_id:i})),[i,e,t]))({groupId:t,authorId:a,playModeForTea:s}),{handleOpenMuteAnimation:w}=(0,Bi.To)({animationTimerRef:l}),[{currentIndex:C},j]=(0,n.b7)(N.Y),{hasLogin:I}=(0,Vi.pu)(),{isRTL:S}=(0,ji.Y)(),{mute:O,setMute:M}=(0,T.s_)(d),P=(0,n.qj)(g.A),L=(0,n.qj)(Ii.r),A=(0,r.useCallback)((({click_section:e,enter_method:i})=>()=>{u&&w(!O),M(!O,"keydown"),u&&Li.O.handleVideoControlChange(Object.assign(Object.assign({},k),{click_section:e,change_params:O?"unmute":"mute",enter_method:i}))}),[w,O,M,k,u]),_=(0,r.useCallback)((({click_section:t,enter_method:o})=>()=>{var n,r,a,l;e?null===(r=null===(n=f.current)||void 0===n?void 0:n.play)||void 0===r||r.call(n):null===(l=null===(a=f.current)||void 0===a?void 0:a.pause)||void 0===l||l.call(a),h.current=u,u&&Li.O.handleVideoControlChange(Object.assign(Object.assign({},k),{click_section:t,change_params:e?"play":"pause",enter_method:o})),i(e?1:0)}),[e,u,k,i,f,h]),R=(0,r.useCallback)((()=>{var t,o,n,r;e?null===(o=null===(t=f.current)||void 0===t?void 0:t.play)||void 0===o||o.call(t):null===(r=null===(n=f.current)||void 0===n?void 0:n.pause)||void 0===r||r.call(n),i(e?1:0)}),[e,i,f]),{abTestVersion:B,language:V,user:D}=(0,m.m7)((0,p.Lh)((()=>["abTestVersion","language","user"]),[])),E=(0,r.useCallback)((({change_method:e,click_section:i,enter_method:t})=>()=>{x.current=e,j.handleSwitchVideo({newIndex:C+1,abTestVersion:B,language:V,user:D,enterMethod:t}),u&&Li.O.handleVideoControlChange(Object.assign(Object.assign({},k),{click_section:i,change_params:"next_video",enter_method:"keydown"===x.current?"keydown":"click"}))}),[j,C,B,V,D,u]),z=(0,r.useCallback)((({change_method:e,click_section:i})=>()=>{x.current=e,j.handleSwitchVideo({newIndex:C-1,abTestVersion:B,language:V,user:D}),u&&Li.O.handleVideoControlChange(Object.assign(Object.assign({},k),{click_section:i,change_params:"previous_video",enter_method:"keydown"===x.current?"keydown":"click"}))}),[j,C,B,V,D,u]),Z=(0,r.useCallback)((e=>{if(!I)return void L.openModal({query:{enter_method:"click_comment"}});const{clientX:i,clientY:o}=e;new Si.B(i,o).emit(),P.postLikeVideo({id:t,forceLike:!0,play_mode:s})}),[t,I,P,L,s]),W=(0,Oi.D)((()=>({onClick:_({click_section:"video_section",enter_method:"click"}),onDoubleClick:Z})),[_,Z]),q=(0,r.useRef)(""),[,F]=(0,r.useState)(0),[{isInputEmpty:Y,noReplyUser:H}]=(0,n.b7)(Ti.p,{selector:({isInputEmpty:e,reply:i})=>({isInputEmpty:e,noReplyUser:0===i.nickname.length}),dependencies:[]}),[,U]=(0,r.useState)(!1),G=(0,v.HX)(),K=(0,r.useCallback)(((e,i)=>{Y&&H||(Di(e),F(2),U(!0),q.current=i),G&&((0,Mi.NS)(e),window.open(i))}),[Y,H,G]),J=(0,r.useRef)(-1),Q=(0,r.useCallback)((({enter_method:e="keydown",click_section:i})=>t=>{if(!f.current||!f.current.seekTime)return;const o=t>0?"forward":"backward";window.clearTimeout(J.current),j.setSeekType(o),J.current=window.setTimeout((()=>{j.setSeekType("none")}),2e3),f.current.seekTime(f.current.currentTime+t),u&&Li.O.handleVideoControlChange(Object.assign(Object.assign({},k),{enter_method:e,click_section:i,change_params:t>0?"video_forward":"video_backward"}))}),[j,k,u,f]),X=(0,n.mp)(Ii.r,{selector:e=>e.isOpen,dependencies:[]}),$=(0,r.useMemo)((()=>{const e=new Map,i=!y;return i&&(e.set(76,(()=>{o("keydown")})),e.set(77,A({enter_method:"keydown"}))),u&&(i&&(e.set(32,_({enter_method:"keydown"})),e.set(70,c({enter_method:"keydown",change_params:"enter"})),e.set(37,(()=>{Q({enter_method:"keydown"})(S?Ri.i:Ri.R)})),e.set(39,(()=>{Q({enter_method:"keydown"})(S?Ri.R:Ri.i)}))),e.set(38,z({change_method:"keydown"})),e.set(40,E({change_method:"keydown"}))),e}),[y,Q,S,c,_,z,E,A,o,u]),ee=(0,r.useCallback)((e=>{const i=Number(e.keyCode);27!==i&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||X||(e.preventDefault(),!$.has(i))||$.get(i)()}),[X,$]);(0,r.useEffect)((()=>(document.addEventListener("keydown",ee),()=>{document.removeEventListener("keydown",ee)})),[ee]);const ie=(0,r.useCallback)((()=>{h.current=!1,i(0)}),[i,h]),te=(0,r.useCallback)((()=>{h.current=!1,i(1)}),[i,h]),{notAutoPlay:oe}=(0,b.xI)(),ne=(0,r.useCallback)((()=>{oe&&i(2)}),[i,oe]),re=(0,r.useCallback)((()=>{var e,t;i(1),null===(t=null===(e=f.current)||void 0===e?void 0:e.replay)||void 0===t||t.call(e)}),[i]);return{handleNextVideo:E,handlePrevVideo:z,handleKeyDown:ee,preventDefault:Di,handleTogglePlay:_,handleToggleMute:A,handleLinkClick:K,handleDoubleClick:Z,handleVideoClick:W,handleVideoPause:ie,handleVideoPlay:te,handleSeek:Q,handleTogglePlayWithoutReport:R,handleVideoEnd:ne,handleReplay:re,autoReplay:!oe}}({pause:z,handleLikeClick:te,setPlayStatus:e=>{E(e)},authorId:A,playModeForTea:xe?"pip":se,playMode:le,groupId:h,animationTimerRef:ve,handleFullScreen:ne,isVideoPlayerOptimization:X,shouldShowPauseAnim:U,videoChangeMethodRef:u,videoPlayerRef:H,playKeyboardDisable:G.current||K.current}),Ve=(0,n.qj)(Xi.M),De=(0,r.useCallback)((e=>{var i,t,o;Ve.setVideoInfo({videoId:h,videoPercent:e,duration:null===(i=H.current)||void 0===i?void 0:i.duration,currentTime:null!==(o=null===(t=H.current)||void 0===t?void 0:t.currentTime)&&void 0!==o?o:0})}),[h,Ve,H]),Ee=(0,r.useCallback)((e=>{var i,t;null===(t=null===(i=H.current)||void 0===i?void 0:i.seek)||void 0===t||t.call(i,e)}),[H]),ze=(0,r.useCallback)((e=>{var i,t;null===(t=null===(i=H.current)||void 0===i?void 0:i.seekTime)||void 0===t||t.call(i,e)}),[H]);(0,r.useImperativeHandle)(i,(()=>({seekTime:ze})));const{progressReportCallback:We,progressPreviewReportCallback:qe}=(0,Vi.CE)({pause:z,videoPlayerRef:H,videoReportParams:d,playModeForTea:se}),{playbackRate:Fe,handleChangePlaybackRate:Ye,handleResetPlayBack:He}=(0,Bt.oA)({isActive:!0,group_id:h,author_id:A,playModeForTea:se}),Ue=(0,r.useCallback)((e=>{var i,t,o,n;"play-video"===e.data.type?(null===(t=null===(i=H.current)||void 0===i?void 0:i.play)||void 0===t||t.call(i),E(1)):"pause-video"===e.data.type&&(null===(n=null===(o=H.current)||void 0===o?void 0:o.pause)||void 0===n||n.call(o),E(0))}),[]);(0,r.useEffect)((()=>{if(B)return window.addEventListener("message",Ue),()=>{window.removeEventListener("message",Ue)}}),[B,Ue]),(0,r.useEffect)((()=>{var e,i;U.current=!1,G.current||K.current||B||(He(),De(0),null===(i=null===(e=H.current)||void 0===e?void 0:e.play)||void 0===i||i.call(e),q(!0))}),[h]);const Ge=(0,n.mp)(N.Y,{selector:e=>{var i;return null!==(i=e.subtitleStruct)&&void 0!==i?i:null},dependencies:[a]}),Ne=(0,r.useCallback)((()=>{c()}),[c]),Ke=(0,Ze.X)({action:(0,r.useCallback)((()=>{kt.y.handleCommentClick(Object.assign(Object.assign({},d),{action:"open"})),c()}),[c,d]),modalConfig:{query:{enter_method:"click_comment"}}}),Je=(0,r.useMemo)((()=>re({enter_method:"click"})),[re]),Qe=(null==f?void 0:f[720])||x,Xe=(0,r.useCallback)((()=>{var e,i;ge("click_video"),E(0),null===(i=null===(e=H.current)||void 0===e?void 0:e.pause)||void 0===i||i.call(e)}),[ge]),$e=(0,r.useCallback)((()=>{q(!1)}),[]),{handleLightenVideoControls:ei}=(0,Vi.MQ)();(0,r.useEffect)((()=>{ei()}),[]);const ii=(0,r.useCallback)((e=>{K.current=e,e!==z&&!G.current&&!B&&Le()}),[z,B,Le]),ti=(0,r.useMemo)((()=>({parentRef:ae&&Y.current?Y.current:void 0})),[ae]),oi=(0,r.useCallback)((()=>{Q(Yn)}),[]),ni=(0,r.useCallback)((()=>{Q({})}),[]);(0,r.useEffect)((()=>{!xe&&Q({})}),[xe]);const ri=(0,r.useCallback)((()=>{E(1)}),[]);return a&&(null==a?void 0:a.video)?(0,o.jsxs)(Bn,Object.assign({ref:F},{children:[xe&&(0,o.jsx)(En,{},void 0),(0,o.jsxs)(En,Object.assign({miniVideoVisible:xe,onMouseMove:ei,ref:Y,style:Object.assign(Object.assign(Object.assign({},fe),J),de)},{children:[(0,o.jsx)(An,{children:(0,o.jsx)(_n,{onLoad:$e,src:Qe},void 0)},void 0),ee&&W&&(0,o.jsx)(Wn,{children:(0,o.jsx)(qn,{smallSize:xe,src:_t},void 0)},void 0),(0,o.jsx)(Dn,Object.assign({onClick:Se},{children:(0,o.jsx)(pt.S,{poster:Qe,horizontal:he,mode:4,playModeForTea:xe?6:le,ref:H,desc:a.desc,id:h,playUrl:y,index:l,itemMute:Boolean(O),duration:C,bitrateInfo:j,teaParams:d,onVideoError:Te,onTimeUpdate:De,onVideoPlay:Me,subtitleStruct:Ge,disableDownload:L||0!==P,volumeInfo:I,bitrate:Number(S),playbackRate:Fe,autoPlay:!B,autoReplay:Re,onVideoEnded:Ae},h)}),void 0),(()=>{var e,i,t,n;return xe?null:X?(0,o.jsxs)(o.Fragment,{children:[me,pe,(0,o.jsx)(Vt.t,{style:ue,currentIndex:l,totalLength:null!=s?s:0,onClickPrev:ke({change_method:"player_switch_btn_click"}),onClickNext:ye({change_method:"player_switch_btn_click"})},void 0),!ae&&(0,o.jsx)(zn,{children:(0,o.jsx)(At.B,{hideAvatar:!0,playModeForTea:se,onClickComment:Ke,itemId:h},void 0)},void 0),(0,o.jsx)(Rt.W,{customStyle:Un,currentCanPlay:null!==(i=null===(e=H.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==i&&i,seek:Ee,videoId:h,isActive:!0,pause:z,playbackRate:Fe,fullscreen:ae,playModeForTea:se,playMode:le,onExpand:ne,onForward:Pe({enter_method:"click",click_section:"pc_web_keyboard_btn"}),onChangePlaybackRate:Ye,onExitExpand:Je,onTogglePlay:we,onToggleMute:Ce,onNextVideo:ye({change_method:"click",click_section:"pc_web_keyboard_btn"}),onPrevVideo:ke({change_method:"click",click_section:"pc_web_keyboard_btn"}),videoRef:H,videoChangeMethodRef:u,progressReportCallback:We,progressPreviewReportCallback:qe},void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(vn,{currentCanPlay:null!==(n=null===(t=H.current)||void 0===t?void 0:t.currentCanPlay)&&void 0!==n&&n,seek:Ee,videoId:h,pause:z,ended:Z,onDoubleClick:oe,onTogglePlay:Le,videoRef:H,progressReportCallback:We,progressPreviewReportCallback:qe,onReplay:_e},void 0),z&&(0,o.jsx)(Vn,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:70,height:70,fill:"#fff"},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0),(0,o.jsx)(co,{onlyShowExtra:Z,onClickComment:Ne,itemId:h,isPaused:z},void 0)]},void 0)})(),V&&(0,o.jsx)(Do,{onCloseRelatedMask:ri,showRelated:Z},void 0),ee&&(0,o.jsx)(Ln,{smallSizeMask:xe,videoPlayerRef:H,onPrev:ke({change_method:"click"}),onNext:ye({change_method:"click"}),id:h,listLength:s,currentIndex:l,showSensitiveMask:G},void 0),(0,o.jsx)(wt.C,{onReportMaskVisibleChange:ii,style:{borderRadius:"4px",zIndex:"0"},smallMask:xe,item:a},void 0),xe&&(0,o.jsx)(Cn,{onMouseEnter:oi,onMouseLeave:ni,onClose:Xe,onGoToNormalPlayer:be,currentIndex:l,paused:z,onNext:ye({change_method:"mini_player_switch"}),onPrev:ke({change_method:"mini_player_switch"}),onTogglePlayer:Le,hidePlay:G.current||K.current},void 0),(null==M?void 0:M[0])&&(0,o.jsx)(Zn,Object.assign({smallSize:xe},{children:(0,o.jsx)(Lt,{smallSize:xe,info:null==M?void 0:M[0]},void 0)}),void 0)]}),void 0),(0,o.jsxs)(Rn,Object.assign({hasBottomLine:!$},{children:[(0,o.jsx)(ht.p,Object.assign({onlyKey:h,lineClamp:4,overflowLineNum:8},{children:(0,o.jsx)(gt.Q,{onLinkClick:Ie,item:a,e2eTag:"browse-video-desc",reportParams:d},void 0)}),void 0),(0,o.jsx)(xt.C,{item:a},void 0),(0,o.jsx)(ft.L,{info:_,playMode:4,teaParams:d},void 0),(0,o.jsx)(bt._,{onLinkClick:Ie,styleType:4,item:a,e2eTag:"browse-music",teaParams:d},void 0)]}),void 0),ae&&(0,o.jsx)(yt.b,Object.assign({},ti),void 0)]}),void 0):(0,Be.G)(["item.video"])}));var Nn=t(99116),Kn=t(26183);const Jn=(0,Ce.Z)("div",{target:"e1ymawm00"})((({isNarrowState:e=!1})=>({display:"flex",justifyContent:e?"":"space-between",flexWrap:"wrap"})),"label:DivListContainer;"),Qn=(0,Ce.Z)("div",{target:"e1ymawm01"})((({theme:e,isNarrowState:i})=>(0,je.YJ)({marginEnd:i?"14px":"0px",direction:e.direction})),(({isUIOptimization:e})=>({width:e?"152px":"147px",marginBottom:"16px",cursor:"pointer"})),"label:DivItemContainer;"),Xn=(0,Ce.Z)("div",{target:"e1ymawm02"})({width:"100%",height:"202px",position:"relative",borderRadius:"2px",marginBottom:"8px",overflow:"hidden"},"label:DivCoverContainer;"),$n=(0,Ce.Z)("div",{target:"e1ymawm03"})({width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},"label:DivPlayerWrapper;"),er=(0,Ce.Z)("img",{target:"e1ymawm04"})((({theme:{colors:e}})=>({width:"100%",height:"100%",objectFit:"cover",background:e.BGPlaceholderDefault})),"label:ImgCover;"),ir=(0,Ce.Z)("div",{target:"e1ymawm05"})({position:"absolute",bottom:"4px",right:"4px",background:"rgba(0, 0, 0, 0.7)",borderRadius:"2px",padding:"2px",fontSize:"12px",color:"#fff"},"label:DivDuration;"),tr=(0,Ce.Z)("div",{target:"e1ymawm06"})((({theme:e})=>(0,je.GI)({theme:e,fontWeight:"bold",color:"TextPrimary"})),(({isUIOptimization:e})=>(0,je.FC)(e?2:3)),{marginBottom:"4px",wordBreak:"break-word"},"label:DivTitle;"),or=(0,Ce.Z)("div",{target:"e1ymawm07"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"12px",lineHeight:"16px",marginBottom:"4px",display:"flex",alignItems:"center"})),"label:DivAuthor;"),nr=(0,Ce.Z)("span",{target:"e1ymawm08"})(Object.assign({},je.wj),"label:SpanUniqueId;"),rr=(0,Ce.Z)("div",{target:"e1ymawm09"})((({theme:{colors:e}})=>({display:"flex",height:"16px",color:e.TextSecondary,alignItems:"center",fontSize:"12px"})),"label:DivOtherInfo;"),ar=(0,Ce.Z)("div",{target:"e1ymawm010"})((({theme:e})=>[(0,je.YJ)({direction:e.direction,marginEnd:"8px"})]),"label:DivDate;"),lr=(0,Ce.Z)(Kn.Z,{target:"e1ymawm011"})((({theme:e})=>[(0,je.YJ)({direction:e.direction,marginEnd:"4px"})]),"label:StyledHeart;"),sr=(0,Ce.Z)("div",{target:"e1ymawm012"})((({theme:{colors:e}})=>({borderBottom:`1px solid ${e.ShadowPrimary}`,marginTop:"23px"})),"label:DivListWrapper;"),dr=(0,Ce.Z)(Ue.W,{target:"e1ymawm013"})({marginBottom:"24px",minWidth:"unset",fontSize:"16px",paddingLeft:"16px",paddingRight:"16px"},"label:StyledMoreBtn;"),cr=(0,Ce.Z)("div",{target:"e1ymawm014"})({width:"100%",display:"flex",justifyContent:"center"},"label:DivLoadingWrapper;"),ur=(0,Ce.Z)("div",{target:"e1ymawm015"})((({theme:e})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",borderRadius:"2px"})),"label:DivMask;"),vr=(0,Ce.Z)("div",{target:"e1ymawm016"})((({theme:e})=>({position:"absolute",top:"50%",left:"50%",color:e.colors.ConstTextInverse,transform:"translate(-50%, -50%)",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",background:e.colors.ConstBGContainer,borderRadius:"50px"})),"label:DivMaskContainer;"),mr=(0,Ce.Z)(si.q,{target:"e1ymawm017"})((({theme:e})=>[(0,je.YJ)({direction:e.direction,marginEnd:"4px"}),{flexShrink:0,border:`0.5px solid ${e.colors.LineReverse2}`}]),"label:StyledAvatar;"),pr=(0,Ce.Z)("div",{target:"e1ymawm018"})((({theme:e})=>({position:"absolute",height:"40px",left:0,right:0,bottom:0,background:"linear-gradient(180deg, rgba(22, 24, 35, 0.0001) 2.92%, rgba(22, 24, 35, 0.3) 98.99%)",color:e.colors.ConstTextInverse,fontSize:"13px",lineHeight:"17px",padding:"12px 8px 8px 8px",display:"flex",alignItems:"center"})),"label:DivPlayCount;"),hr=(0,Ce.Z)(po.Z,{target:"e1ymawm019"})((({theme:e})=>(0,je.YJ)({direction:e.direction,marginEnd:4})),"label:StyledPlay;"),gr=(0,Ce.Z)("div",{target:"e1ymawm020"})({background:"rgba(0, 0, 0, 0.2)",backdropFilter:"blur(15px)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivPlayingMaskContainer;"),xr=(0,Ce.Z)("div",{target:"e1ymawm021"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivPlayingMaskWrapper;"),fr=(0,Ce.Z)("span",{target:"e1ymawm022"})((({theme:e})=>({marginTop:"4px",fontSize:"13px",lineHeight:"17px",color:e.colors.ConstTextInverse})),"label:SpanText;");var br=t(83018),yr=t(34579),kr=t(91139),wr=t(8838);const Cr=JSON.parse('{"v":"5.6.2","fr":60,"ip":0,"op":81,"w":29,"h":22,"nm":"ic_playing now","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":1,"nm":"s 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":1,"nm":"s","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[27.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":1,"nm":"m 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[8.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-14,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":10,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":50,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":70,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":90,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":130}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-2,"op":83,"st":-14,"bm":0},{"ddd":0,"ind":4,"ty":1,"nm":"m","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-9,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":11,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":31,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":51,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":71,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":91,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":111,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":151}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-9,"op":126,"st":7,"bm":0},{"ddd":0,"ind":5,"ty":1,"nm":"l","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[14.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0}],"markers":[]}');var jr=t(93333);const Ir=(0,r.memo)((({width:e=29,height:i=22,autoplay:t=!0})=>(0,o.jsx)(jr.L,{width:e,height:i,autoplay:t,loop:!0,animationData:Cr},void 0))),Sr=(0,r.memo)((()=>{const e=(0,O.Q)();return(0,o.jsx)(gr,{children:(0,o.jsxs)(xr,{children:[(0,o.jsx)(Ir,{},void 0),(0,o.jsx)(fr,{children:e("pc_web_playing_now")},void 0)]},void 0)},void 0)})),Or=(0,r.memo)((e=>{const{item:i,index:t,isNarrowState:a,playing:l,videoChangeMethodRef:s}=e,{video:{cover:d,duration:c,playAddr:u="",zoomCover:v},desc:h,author:g="",createTime:x,stats:f}=i,y=(0,r.useRef)(null),[k,w]=(0,r.useState)(!1);(0,r.useEffect)((()=>{var e,i,t,o;k&&y.current?null===(i=(e=y.current).play)||void 0===i||i.call(e):y.current&&(null===(o=(t=y.current).pause)||void 0===o||o.call(t))}),[k]),(0,r.useEffect)((()=>{var e;e={author_id:g,group_id:i.id,rank:t},Ai.W.event("video_cover_show",Object.assign(Object.assign({},e),{enter_method:"video_detail",type:"video_detail"}))}),[]);const C=(0,n.mp)(Le.z,{selector:e=>e.users[g],dependencies:[g]}),{timeTranslator:j}=(0,Ae.e)(),{uniqueId:I,verified:S,avatarThumb:O}=(0,m.m7)(C),T=(0,n.qj)(N.Y),{language:M,abTestVersion:P,user:L}=(0,m.m7)((0,p.Lh)((()=>["language","abTestVersion","user"]),[])),A=(0,r.useCallback)((()=>{var e;e={author_id:g,group_id:i.id,rank:t},Ai.W.event("video_cover_click",Object.assign(Object.assign({},e),{enter_method:"video_detail",type:"video_detail"})),s.current="related_list_click",T.handleSelectVideo({newIndex:t,language:M,abTestVersion:P,user:L})}),[g,i.id,t,T,M,P,L,s]),_=(0,r.useCallback)((()=>{w(!0)}),[]),R=(0,r.useCallback)((()=>{w(!1)}),[]),{showVideoMask:B}=(0,jn.g)({item:null!=i?i:{},playMode:4}),{hideMaskTempVideoId:V}=(0,n.mp)(In.P),D=B&&V!==i.id,E=(0,n.qj)(yr.bg),z=(0,r.useCallback)((e=>{D||(e.preventDefault(),e.stopPropagation(),i&&E.removeBlockVideo(i.id))}),[E,i,D]),Z=(0,n.mp)(yr.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),{isUIOptimization:q,isVideoPlayerOptimization:F,hasPip:Y,isVideoDetailExperiment:H}=(0,b.iA)(),U=H&&(D||Z.includes((null==i?void 0:i.id)||"")),G=!U&&l&&(F||Y);return(0,o.jsxs)(Qn,Object.assign({isUIOptimization:q,isNarrowState:a,onClick:A},{children:[(0,o.jsxs)(Xn,Object.assign({onMouseEnter:_,onMouseLeave:R},{children:[(0,o.jsx)(er,{src:(null==v?void 0:v[480])||d},void 0),!k||U||G?null:(0,o.jsx)($n,{children:(0,o.jsx)(kr.N,{ref:y,horizontal:!1,itemMute:!0,muteSetting:wr.PA[4].forceMute,defaultMute:wr.PA[4].defaultMute,playProgress:0,src:u},void 0)},void 0),G&&(0,o.jsx)(Sr,{},void 0),U&&(0,o.jsx)(ur,{children:(0,o.jsx)(vr,Object.assign({onClick:z},{children:(0,o.jsx)(br.Z,{width:"24",height:"24"},void 0)}),void 0)},void 0),q?(0,o.jsxs)(pr,{children:[(0,o.jsx)(hr,{width:20,height:20,fill:"#fff"},void 0),(0,m.BT)(null==f?void 0:f.playCount)]},void 0):(0,o.jsx)(ir,{children:(0,W.xo)(c)},void 0)]}),void 0),(0,o.jsx)(tr,Object.assign({isUIOptimization:q},{children:h}),void 0),(0,o.jsxs)(or,{children:[q&&(0,o.jsx)(mr,{src:O,size:16},void 0),(0,o.jsx)(nr,{children:I},void 0),S&&(0,o.jsx)(Fe.Q,{width:10,height:10},void 0)]},void 0),!q&&(0,o.jsxs)(rr,{children:[(0,o.jsx)(ar,{children:j(1e3*Number(x))},void 0),(0,o.jsx)(lr,{width:16,height:16,fill:"currentcolor"},void 0),(0,m.BT)(null==f?void 0:f.diggCount)]},void 0)]}),void 0)})),Tr=(0,r.memo)((0,r.forwardRef)((({itemList:e,isNarrowState:i,onLoadMore:t,hasMore:a,isLoading:l,videoChangeMethodRef:s},d)=>{const c=e.slice(1),u=(0,O.Q)(),{narrowStateHasMore:v,handleLoadMore:m,narrowStateList:p}=function({relatedList:e,isNarrowState:i,onLoadMore:t,hasMore:o}){const[n,a]=(0,r.useState)(1),[l,s]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{i&&(a(1),s(!0))}),[i]),{narrowStateHasMore:l,handleLoadMore:(0,r.useCallback)((()=>{e.length-16*(n+1)<0&&o&&t(),a(n+1)}),[t,e,n,o]),narrowStateList:(0,r.useMemo)((()=>e.slice(0,16*n)),[e,n])}}({relatedList:c,isNarrowState:i,onLoadMore:t,hasMore:a}),{currentIndex:h}=(0,n.mp)(N.Y),g=(e,i,t)=>{if(!e)return null;const n=i+1;return(0,o.jsx)(Or,{videoChangeMethodRef:s,playing:h===n,isNarrowState:t,index:n,item:e},e.id)};return i?(0,o.jsxs)(sr,{children:[(0,o.jsx)(Jn,Object.assign({isNarrowState:i},{children:p.map(((e,i)=>g(e,i,!0)))}),void 0),v?(0,o.jsx)(dr,Object.assign({size:"medium",disabled:l,buttonTheme:"line",onClick:m},{children:u("video_details_page_morevideos_btn")}),void 0):null]},void 0):(0,o.jsxs)(Jn,Object.assign({ref:d},{children:[c.map(((e,i)=>g(e,i,!1))),l&&c.length>1&&a?(0,o.jsx)(cr,{children:(0,o.jsx)(Nn.g,{},void 0)},void 0):null]}),void 0)}))),Mr=(0,o.jsx)(j.Z,Object.assign({},_.vj),void 0),Pr=(0,o.jsx)(I.Z,Object.assign({},_.vj),void 0),Lr=(0,S.l)((function({videoChangeMethodRef:e}){var i;const t=(0,O.Q)(),[l,d]=(0,r.useState)(!1),[{currentIndex:u,itemListKey:h,subtitleContent:f,ifShowSubtitle:y},k]=(0,n.b7)(N.Y),w=(0,r.useRef)(null),C=(0,r.useRef)(null),j=(0,r.useRef)(null),I=(0,r.useCallback)((e=>{var i;null===(i=null==j?void 0:j.current)||void 0===i||i.seekTime(e)}),[j]);(0,T.$v)(4),(0,r.useEffect)((()=>{d(window.innerWidth<903)}),[]);const{browserList:S,listHasMore:R,listLoading:B}=(0,n.mp)(c.h,{selector:e=>{const i=e[null!=h?h:""];return i?{browserList:i.browserList,listHasMore:!0,listLoading:i.loading}:{browserList:[],listHasMore:!0,listLoading:!1}},dependencies:[]}),[{itemList:V,currentItem:D,subtitleInfos:E}]=(0,n.b7)(g.A,{selector:e=>{var i,t;return{itemList:S.map((i=>e[i])),currentItem:e[S[u]],subtitleInfos:null===(t=null===(i=e[S[u]])||void 0===i?void 0:i.video)||void 0===t?void 0:t.subtitleInfos}},dependencies:[S,u]}),z=null!==(i=null==D?void 0:D.id)&&void 0!==i?i:"",Z=(0,r.useRef)(null);(0,r.useEffect)((()=>{var i;"mini_player_switch"!==e.current&&z&&function(e){if(e){const{y:i}=e.getBoundingClientRect();return i<-100}return!1}(Z.current)&&(null===(i=Z.current)||void 0===i||i.scrollIntoView())}),[z]);const W=(0,r.useMemo)((()=>({author:"",scheduleTime:""})),[]),{author:q="",scheduleTime:F}=null!=D?D:W,Y=Ei({id:z}),[H,U]=(0,r.useState)(!0);(0,r.useEffect)((()=>{E&&(null==E?void 0:E.length)>0&&k.downloadTranscript({subtitleInfos:E})}),[E,k]);const G=function(){const{currentIndex:e}=(0,n.mp)(N.Y),[{loading:i,hasMore:t,currentItemId:o},a]=(0,n.b7)(c.h,{selector:i=>{var t,o,n,r,a,l;return{loading:null!==(o=null===(t=null==i?void 0:i.video)||void 0===t?void 0:t.loading)&&void 0!==o&&o,hasMore:null===(r=null===(n=null==i?void 0:i.video)||void 0===n?void 0:n.hasMore)||void 0===r||r,currentItemId:null!==(l=null===(a=null==i?void 0:i.video)||void 0===a?void 0:a.browserList[e])&&void 0!==l?l:0}},dependencies:[e]}),{user:l,abTestVersion:s,language:d}=(0,m.m7)((0,p.Lh)((()=>["user","language","abTestVersion"]),[])),u=(0,v.HX)();return(0,r.useCallback)((()=>{i||!t||u||a.getRelatedList({key:"video",itemId:o,user:l,abTestVersion:s,language:d})}),[i,t,u,a,o,l,s,d])}();(0,M.q)({onHitBottom:G,elemRef:w});const K=(0,n.mp)(ke,{selector:({statusCode:e})=>e,dependencies:[]}),J=(0,x.K$)(D),Q=(0,r.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:i="",format:t="",videoQuality:o="",encodeUserTag:n="",codecType:r="",definition:a=""}={},authorId:l="",id:s="",secret:d=!1,forFriend:c=!1,adLabelVersion:u,poi:v}=null!=D?D:{video:{}};return Object.assign({author_id:l,group_id:s,bitrate:Number(e),encodedType:i,format:t,videoQuality:o,encodeUserTag:n,codecType:r,definition:a,secret:d,forFriend:c,isPaidPartnership:2===u,poi_id:null==v?void 0:v.id},J)}),[D,J]),{isServerError:X,isCommonError:$,isInitLoading:ee,isEmpty:ie}=we(),te=(()=>{const{id:e}=(0,a.UO)(),i=(0,n.qj)(c.h),t=(0,n.qj)(ke),{user:o,abTestVersion:l,language:s,appType:d}=(0,m.m7)((0,p.Lh)((()=>["abTestVersion","language","user","appType"]),[]));return(0,r.useCallback)((()=>{i.resetItemList({key:"video"}),t.getVideoDetail({itemId:e,user:o,abTestVersion:l,language:s,appType:d})}),[i,e,o,l,s,t,d])})(),oe=(0,r.useCallback)((e=>{e!==l&&d(e)}),[l]),{shouldUseNewTitle:ne,isUIOptimization:re}=(0,b.iA)();zi({onPageWidthBreakPoint:oe});const ae=(0,r.useCallback)((()=>{const i={onLoadMore:G,isLoading:B,hasMore:R,isNarrowState:l,itemList:V};return(null==V?void 0:V.length)<=1&&R||ee?(0,o.jsx)(mt,{},void 0):(0,o.jsx)(Tr,Object.assign({videoChangeMethodRef:e,ref:w},i),void 0)}),[V,R,ee,l,B,G,e]),le=(0,r.useCallback)((()=>{var e;null===(e=null==C?void 0:C.current)||void 0===e||e.scrollIntoView()}),[C]),{shouldRenderDirectory:se,directoryLinksList:de}=(0,s.VK)(!1,D),ce=(0,v.HX)();if(X)return(0,o.jsx)(Se,{children:(0,o.jsx)(P.T,{iconElem:_.hE,title:t("server_error_title"),desc:t("server_error_sub"),buttonText:t("refresh"),onButtonClick:te},void 0)},void 0);if($){const{title:e,desc:i}=(0,L.S9)(K),n=10239===K?Pr:Mr;return(0,o.jsx)(Se,{children:(0,o.jsx)(P.T,{iconElem:n,title:t((0,L.V5)(K)),desc:t((0,L.ox)(K)),e2eTitle:e,e2eDesc:i},void 0)},void 0)}return ie?null:(0,o.jsxs)(Wi,{children:[(0,o.jsx)(qi,{ref:Z},void 0),(0,o.jsxs)(Fi,{children:[(0,o.jsxs)(Yi,Object.assign({isHideSideComponent:ce},{children:[ee?(0,o.jsx)(Ni,{},void 0):(0,o.jsx)(Gn,{onScrollToComment:le,teaParams:Q,item:D,currentIndex:u,ref:j,totalLength:S.length,videoChangeMethodRef:e},void 0),q&&!ce?(0,o.jsx)(Hi,Object.assign({ref:C,isUIOptimization:re},{children:(0,o.jsx)(ei,{teaParams:Q,uniqueId:q,videoId:z},void 0)}),void 0):null,l&&y&&(null==f?void 0:f.length)>0&&!ce?(0,o.jsx)(dt,{item:D,onSeek:I,isNarrow:!0,isListShow:H,setIsListShow:U},void 0):null,l&&!ce?ae():null,(0,o.jsx)(wi,{scheduleTime:Number(F),ref:Y,teaParams:Q,itemId:z,disableReply:!1},void 0)]}),void 0),l||ce?null:(0,o.jsxs)(Ui,{children:[y&&(null==f?void 0:f.length)>0?(0,o.jsx)(dt,{item:D,onSeek:I,isNarrow:!1,isListShow:H,setIsListShow:U},void 0):null,(0,o.jsx)(Gi,{children:t(ne?"pc_web_you_may_like":"video_details_page_relatedvideos_panel_header")},void 0),ae()]},void 0)]},void 0),se&&(0,o.jsx)(A.t,{directoryLinksList:de},void 0)]},void 0)}));var Ar,_r=t(3995);!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Redirect=2]="Redirect"}(Ar||(Ar={}));const Rr=e=>{var i,t;null===(i=null==e?void 0:e.preventDefault)||void 0===i||i.call(e),null===(t=null==e?void 0:e.stopPropagation)||void 0===t||t.call(e)},Br=(0,Ce.Z)("div",{target:"eo7etkj0"})((({reactive:e})=>({width:"100%",position:"absolute",zIndex:1,userSelect:"none",height:"100%",opacity:1,bottom:0,cursor:"initial",display:"flex",flexDirection:"column",background:e?"":"#000",borderRadius:"4px"})),"label:DivVideoControlContainer;"),Vr=(0,Ce.Z)("div",{target:"eo7etkj1"})((({active:e})=>[{position:"absolute",width:"100%",display:"flex",alignItems:"center",paddingInlineStart:"16px",bottom:"22px",opacity:e?"1":"0",transition:"all .3s ease"}]),"label:DivControlButtonWrapper;"),Dr=(0,Ce.Z)("div",{target:"eo7etkj2"})((({theme:{direction:e},active:i,showActionBar:t})=>[Object.assign({position:"absolute",cursor:"pointer",bottom:"20px",display:"flex",flexDirection:"column",alignItems:"center",opacity:i?"1":"0",transition:"opacity .5s"},(0,eo.s)()),(0,je.YJ)({direction:e,start:"unset",end:t?"72px":"16px"})]),"label:DivVoiceControlContainer;"),Er=(0,Ce.Z)("div",{target:"eo7etkj3"})(Object.assign({opacity:1,width:"40px",height:"24px",display:"flex",justifyContent:"center",transition:"opacity .3s"},(0,eo.s)()),"label:DivMuteIconContainer;"),zr=(0,Ce.Z)("div",{target:"eo7etkj4"})(Object.assign({width:"24px",height:"24px",display:"flex",justifyContent:"center",cursor:"pointer"},(0,eo.s)()),"label:DivPlayIconContainer;"),Zr={width:24,height:24,fill:"#fff"},Wr=(0,r.memo)((function(e){const[i,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),l=(0,r.useRef)(0),s=(0,r.useRef)(null),{photoVideoRef:d,pause:c=!1,teaParams:u,onDoubleClick:v,onTogglePlay:m}=e,{mute:p,setMute:h}=(0,T.s_)(4),[g,x]=(0,r.useState)(!1),f=(0,r.useCallback)((e=>{var i,t,o;e.preventDefault(),e.stopPropagation(),!c&&(null===(o=null===(t=null===(i=d.current)||void 0===i?void 0:i.audio)||void 0===t?void 0:t.play)||void 0===o||o.call(t)),h(!p,"click",u)}),[c,d,h,p,u]),b=(0,r.useMemo)((()=>c?(0,o.jsx)("svg",Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Zr,{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0):(0,o.jsx)(Zo.Z,Object.assign({},Zr),void 0)),[c]),y=(0,r.useMemo)((()=>p?(0,o.jsx)(Wo.Z,Object.assign({},Zr),void 0):(0,o.jsx)(qo.Z,Object.assign({},Zr),void 0)),[p]),k=(0,r.useCallback)((()=>{clearTimeout(l.current),t(!0)}),[]),w=(0,r.useCallback)((()=>{l.current=window.setTimeout((()=>{t(!1)}),500)}),[]),C=(0,r.useCallback)((()=>{a(!0)}),[]),j=(0,r.useCallback)((()=>{a(!1)}),[]),I=(0,Oi.D)((()=>({onClick:m,onDoubleClick:v})),[m,v]),S=(0,r.useCallback)((e=>{(0,Mi.UW)(e),m(e)}),[m]),O=(0,r.useMemo)((()=>({onClick:I,onMouseDown:Mi.UW})),[c]),M=i||p||g;return(0,o.jsxs)(Br,Object.assign({reactive:!0,ref:s,onMouseEnter:k,onMouseLeave:w},O,{children:[(0,o.jsx)(zo.ZP,Object.assign({in:i,timeout:500,nodeRef:s},{children:(0,o.jsx)(Vr,Object.assign({active:i},{children:(0,o.jsx)(zr,Object.assign({onClick:S},{children:b}),void 0)}),void 0)}),void 0),(0,o.jsx)(zo.ZP,Object.assign({in:M,timeout:500,nodeRef:s},{children:(0,o.jsxs)(Dr,Object.assign({showActionBar:!0,active:M,onMouseEnter:C,onMouseLeave:j,onMouseDown:Mi.UW},{children:[g||n?(0,o.jsx)(Yo.y,{isStyleV2:!0,setVolumeDragging:x,teaParams:u},void 0):null,(0,o.jsx)(Er,Object.assign({mute:p,onClick:f},{children:y}),void 0)]}),void 0)}),void 0)]}),void 0)})),qr=({theme:{colors:e,direction:i},disabled:t=!1})=>({position:"absolute",zIndex:2,top:"50%",display:"flex",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",borderRadius:"100%",backgroundColor:e.ConstBGInverse4,color:t?e.ConstTextInverse5:e.ConstTextInverse,cursor:"pointer",transform:`translateY(-50%) rotate(${"rtl"===i?"180deg":"0"})`}),Fr=(0,Ce.Z)("div",{target:"e12r6zyh0"})((({theme:{direction:e}})=>[qr,(0,je.YJ)({direction:e,start:"16px"})]),"label:DivLeftArrow;"),Yr=(0,Ce.Z)("div",{target:"e12r6zyh1"})((({theme:{direction:e}})=>[qr,(0,je.YJ)({direction:e,end:"16px"})]),"label:DivRightArrow;"),Hr=({photoVideoRef:e,num:i})=>{const[t,o]=(0,r.useState)(0);return(0,r.useEffect)((()=>{var t,n;null===(n=null===(t=e.current)||void 0===t?void 0:t.swiper)||void 0===n||n.onActiveIndexChange((e=>{let t=e.activeIndex;0===t?t=i:t===i+1&&(t=1),o(t-1)}))}),[i,e]),t},Ur=(0,r.memo)((({photoVideoRef:e,item:i})=>{var t,a,l;const s=null!==(l=null===(a=null===(t=null==i?void 0:i.imagePost)||void 0===t?void 0:t.images)||void 0===a?void 0:a.length)&&void 0!==l?l:0,d=Hr({photoVideoRef:e,num:s}),{disabledLeft:c,disabledRight:u}=(0,r.useMemo)((()=>({disabledLeft:0===d,disabledRight:d===s-1})),[d,s]),{handleSwitchLeft:v,handleSwitchRight:m}=(({photoVideoRef:e,disabledLeft:i,disabledRight:t})=>{const o=(0,n.mp)(Ii.r,{selector:e=>e.isOpen,dependencies:[]}),a=(0,r.useCallback)((t=>()=>{var o,n,r,a,l,s;i||(null===(r=null===(n=null===(o=e.current)||void 0===o?void 0:o.swiper)||void 0===n?void 0:n.slidePrev)||void 0===r||r.call(n,"keyboard"===t?"keyboard":"manual_click"),null===(s=null===(l=null===(a=e.current)||void 0===a?void 0:a.swiper)||void 0===l?void 0:l.pause)||void 0===s||s.call(l,t))}),[i,e]),l=(0,r.useCallback)((i=>()=>{var o,n,r,a,l,s;t||(null===(r=null===(n=null===(o=e.current)||void 0===o?void 0:o.swiper)||void 0===n?void 0:n.slideNext)||void 0===r||r.call(n,"keyboard"===i?"keyboard":"manual_click"),null===(s=null===(l=null===(a=e.current)||void 0===a?void 0:a.swiper)||void 0===l?void 0:l.pause)||void 0===s||s.call(l,i))}),[t,e]),s=(0,r.useMemo)((()=>{const e=new Map;return e.set(37,a("keyboard")),e.set(39,l("keyboard")),e}),[a,l]),d=(0,r.useCallback)((e=>{const i=Number(e.keyCode);27!==i&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||o||(e.preventDefault(),!s.has(i))||s.get(i)()}),[o,s]);return(0,r.useEffect)((()=>(document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)})),[d]),{handleSwitchLeft:a,handleSwitchRight:l}})({photoVideoRef:e,disabledLeft:c,disabledRight:u});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Fr,Object.assign({disabled:c,onClick:v("slide")},{children:(0,o.jsx)(uo.d,{size:20},void 0)}),void 0),(0,o.jsx)(Yr,Object.assign({disabled:u,onClick:m("slide")},{children:(0,o.jsx)(vo.c,{size:20},void 0)}),void 0)]},void 0)})),Gr=(0,Ce.Z)("div",{target:"e1k52za00"})((({num:e})=>({display:"flex",overflow:"hidden",position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)",bottom:"21px",width:12*e+"px",height:"12px"})),"label:DivPaginationContainer;"),Nr=(0,Ce.Z)("div",{target:"e1k52za01"})((({theme:{direction:e},index:i})=>[{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"12px",height:"12px",transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"},(0,je.YJ)({direction:e,start:12*i})]),"label:DivDotWrapper;"),Kr=(0,Ce.Z)("div",{target:"e1k52za02"})((({active:e})=>({width:"6px",height:"6px",margin:"3px",borderRadius:"100%",backgroundColor:e?"#fff":"rgba(255, 255, 255, .6)",transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"})),"label:DivDot;"),Jr=(0,Ce.Z)("div",{target:"e1k52za03"})({position:"absolute",zIndex:1,left:"50%",transform:"translateX(-50%)",bottom:"24px",width:"98px",height:"6px",background:"rgba(0, 0, 0, 1)",filter:"blur(25px)"},"label:DivPaginationBackground;"),Qr=(e,i)=>12*(e-i)+"px",Xr=({originIndex:e,startIndex:i,maxShowNum:t,num:o})=>0===e||e===o-1||e>i&&e<i+t-1?{width:"6px",height:"6px"}:{width:"4px",height:"4px"},$r=(0,r.memo)((({photoVideoRef:e,item:i,maxShowNum:t=6})=>{var n,a;const l=(null!==(a=null===(n=null==i?void 0:i.imagePost)||void 0===n?void 0:n.images)&&void 0!==a?a:[]).length,[s,d]=(0,r.useState)(0),{direction:c}=(0,Oe.u)(),u=Hr({photoVideoRef:e,num:l});if((0,r.useEffect)((()=>{l<t||(u-s>=t-1?d(u-t+(u===l-1?1:2)):u<=s&&0!==s&&d(u-(0===u?0:1)))}),[u,t,l,s]),l>=t){const e="ltr"===c?"left":"right";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Gr,Object.assign({dynamic:!0,num:t},{children:new Array(l).fill(0).map(((i,n)=>(0,o.jsx)(Nr,Object.assign({index:n,style:{[e]:Qr(n,s)}},{children:(0,o.jsx)(Kr,{active:u===n,style:Object.assign({},Xr({originIndex:n,startIndex:s,maxShowNum:t,num:l}))},void 0)}),n)))}),void 0),(0,o.jsx)(Jr,{},void 0)]},void 0)}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Gr,Object.assign({num:l},{children:new Array(l).fill(0).map(((e,i)=>(0,o.jsx)(Nr,Object.assign({index:i},{children:(0,o.jsx)(Kr,{active:u===i},void 0)}),i)))}),void 0),(0,o.jsx)(Jr,{},void 0)]},void 0)})),ea=(0,r.forwardRef)((e=>{var i;const{item:t,teaParams:a,onScrollToComment:l}=e,s=null!==(i=null==t?void 0:t.id)&&void 0!==i?i:"",{video:{duration:d},imagePost:c,warnInfo:u,poi:p}=(0,m.m7)(t),h=(0,n.qj)(g.A),f=(0,v.HX)(),[b,y]=(0,r.useState)(f?0:1),k=0===b,w=2===b,C=(0,r.useRef)(null),j=(0,r.useRef)(null),I=(0,r.useRef)(null),S=(0,r.useRef)(!1),O=(0,r.useRef)(!1),M=(0,r.useCallback)(((e="click")=>{h.postLikeVideo(Object.assign({id:s,enter_method:e},a))}),[h,s,a]),P=(0,Ze.X)({action:M,modalConfig:{query:{enter_method:"click_like"}}}),L=(0,Ze.X)({action:(0,r.useCallback)((e=>{const{clientX:i,clientY:t}=e;new Si.B(i,t).emit(),h.postLikeVideo({id:s,forceLike:!0})}),[s,h])}),A=(0,r.useRef)(-1);(0,Bi.CG)({pause:k,isActive:S.current,animationTimerRef:A});const _=(0,x.K$)(t),{handleLinkClick:R,handleTogglePlayWithoutReport:B,handleVideoPlay:V}=function({pause:e,setPlayStatus:i,groupId:t,handleLikeClick:o,playModeForTea:a,playMode:l,shouldShowPauseAnim:s,photoVideoRef:d,playKeyboardDisable:c,photoTeaParams:u}){const{hasLogin:m}=(0,Vi.pu)(),{mute:p,setMute:h}=(0,T.s_)(l),x=(0,n.qj)(g.A),f=(0,n.qj)(Ii.r),b=(0,r.useCallback)((()=>{h(!p,"keydown",u)}),[p,h,u]),y=(0,r.useCallback)((()=>{var t,o,n,r,a,l,s,c,u,v,m,p;i(e?1:0),e?(null===(n=null===(o=null===(t=d.current)||void 0===t?void 0:t.swiper)||void 0===o?void 0:o.play)||void 0===n||n.call(o),null===(l=null===(a=null===(r=d.current)||void 0===r?void 0:r.audio)||void 0===a?void 0:a.play)||void 0===l||l.call(a)):(null===(u=null===(c=null===(s=d.current)||void 0===s?void 0:s.swiper)||void 0===c?void 0:c.pause)||void 0===u||u.call(c,"click_pause"),null===(p=null===(m=null===(v=d.current)||void 0===v?void 0:v.audio)||void 0===m?void 0:m.pause)||void 0===p||p.call(m))}),[e,d,i]),k=(0,r.useCallback)((e=>{if(!m)return void f.openModal({query:{enter_method:"click_comment"}});const{clientX:i,clientY:o}=e;new Si.B(i,o).emit(),x.postLikeVideo({id:t,forceLike:!0,play_mode:a})}),[t,m,x,f,a]),w=(0,r.useRef)(""),[,C]=(0,r.useState)(0),[{isInputEmpty:j,noReplyUser:I}]=(0,n.b7)(Ti.p,{selector:({isInputEmpty:e,reply:i})=>({isInputEmpty:e,noReplyUser:0===i.nickname.length}),dependencies:[]}),[,S]=(0,r.useState)(!1),O=(0,v.HX)(),M=(0,r.useCallback)(((e,i)=>{j&&I||(Rr(e),C(2),S(!0),w.current=i),O&&((0,Mi.NS)(e),window.open(i))}),[j,I,O]),P=(0,n.mp)(Ii.r,{selector:e=>e.isOpen,dependencies:[]}),L=(0,r.useMemo)((()=>{const e=new Map;return!c&&(e.set(76,(()=>{o("keydown")})),e.set(77,b)),e}),[c,b,o]),A=(0,r.useCallback)((e=>{const i=Number(e.keyCode);27!==i&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||P||(e.preventDefault(),!L.has(i))||L.get(i)()}),[P,L]);(0,r.useEffect)((()=>(document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)})),[A]);const _=(0,r.useCallback)((()=>{s.current=!1,i(0)}),[i,s]),R=(0,r.useCallback)((()=>{s.current=!1,i(1)}),[i,s]);return{handleKeyDown:A,preventDefault:Rr,handleToggleMute:b,handleLinkClick:M,handleDoubleClick:k,handleVideoPause:_,handleVideoPlay:R,handleTogglePlayWithoutReport:y}}({pause:k,handleLikeClick:P,setPlayStatus:e=>{y(e)},playModeForTea:"video_detail",playMode:4,groupId:s,shouldShowPauseAnim:S,photoVideoRef:I,playKeyboardDisable:O.current,photoTeaParams:_}),D=(0,n.qj)(Xi.M),E=(0,r.useCallback)((e=>{var i,t,o;D.setVideoInfo({videoId:s,videoPercent:e,duration:d,currentTime:null!==(o=null===(t=null===(i=I.current)||void 0===i?void 0:i.audio)||void 0===t?void 0:t.currentTime)&&void 0!==o?o:0})}),[s,D,I,d]),z=(0,r.useCallback)((e=>{var i,t,o,n,r,a,l,s,d,c,u,v;"play-video"===e.data.type?(null===(o=null===(t=null===(i=I.current)||void 0===i?void 0:i.swiper)||void 0===t?void 0:t.play)||void 0===o||o.call(t),null===(a=null===(r=null===(n=I.current)||void 0===n?void 0:n.audio)||void 0===r?void 0:r.play)||void 0===a||a.call(r),y(1)):"pause-video"===e.data.type&&(null===(d=null===(s=null===(l=I.current)||void 0===l?void 0:l.swiper)||void 0===s?void 0:s.pause)||void 0===d||d.call(s,"other"),null===(v=null===(u=null===(c=I.current)||void 0===c?void 0:c.audio)||void 0===u?void 0:u.pause)||void 0===v||v.call(u),y(0))}),[]);(0,r.useEffect)((()=>{if(f)return window.addEventListener("message",z),()=>{window.removeEventListener("message",z)}}),[f,z]),(0,r.useEffect)((()=>{var e,i,t,o,n,r;S.current=!1,O.current||f||(E(0),null===(t=null===(i=null===(e=I.current)||void 0===e?void 0:e.swiper)||void 0===i?void 0:i.play)||void 0===t||t.call(i),null===(r=null===(n=null===(o=I.current)||void 0===o?void 0:o.audio)||void 0===n?void 0:n.play)||void 0===r||r.call(n))}),[s]);const Z=(0,r.useCallback)((()=>{l()}),[l]),{handleLightenVideoControls:W}=(0,Vi.MQ)();(0,r.useEffect)((()=>{W()}),[]);const q=(0,r.useCallback)((e=>{O.current=e,e!==k&&!f&&B()}),[k,f,B]);return t&&(null==t?void 0:t.video)?(0,o.jsxs)(Bn,Object.assign({ref:C},{children:[(0,o.jsxs)(En,Object.assign({onMouseMove:W,ref:j},{children:[(0,o.jsx)(Dn,{children:(0,o.jsx)(_r.C,{ref:I,mode:4,playModeForTea:4,item:t,teaParams:a,index:0,onAudioPlay:V,onTimeUpdate:E},void 0)},void 0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Wr,{photoVideoRef:I,pause:k,teaParams:_,onDoubleClick:L,onTogglePlay:B},void 0),(0,o.jsx)(co,{onlyShowExtra:w,onClickComment:Z,itemId:s},void 0),(0,o.jsx)(Ur,{photoVideoRef:I,item:t},void 0),(0,o.jsx)($r,{photoVideoRef:I,item:t},void 0)]},void 0),(0,o.jsx)(wt.C,{onReportMaskVisibleChange:q,style:{borderRadius:"4px",zIndex:"0"},item:t},void 0),(null==u?void 0:u[0])&&(0,o.jsx)(Zn,{children:(0,o.jsx)(Lt,{info:null==u?void 0:u[0]},void 0)},void 0)]}),void 0),(0,o.jsxs)(Rn,Object.assign({hasBottomLine:!0},{children:[(null==c?void 0:c.title)&&(0,o.jsx)(Hn,{children:null==c?void 0:c.title},void 0),(0,o.jsx)(ht.p,Object.assign({onlyKey:s,lineClamp:4,overflowLineNum:8},{children:(0,o.jsx)(gt.Q,{onLinkClick:R,item:t,e2eTag:"browse-video-desc",reportParams:a},void 0)}),void 0),(0,o.jsx)(xt.C,{item:t},void 0),(0,o.jsx)(ft.L,{info:p,playMode:4,teaParams:a},void 0),(0,o.jsx)(bt._,{onLinkClick:R,styleType:4,item:t,e2eTag:"browse-music",teaParams:a},void 0)]}),void 0)]}),void 0):(0,Be.G)(["item.video"])})),ia=(0,S.l)((function({videoChangeMethodRef:e}){var i;const[t,a]=(0,r.useState)(!1),[{currentIndex:l,itemListKey:d},u]=(0,n.b7)(N.Y),m=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,T.$v)(4),(0,r.useEffect)((()=>{a(window.innerWidth<903)}),[]);const{browserList:h}=(0,n.mp)(c.h,{selector:e=>{const i=e[null!=d?d:""];return i?{browserList:i.browserList,listHasMore:!0,listLoading:i.loading}:{browserList:[],listHasMore:!0,listLoading:!1}},dependencies:[]}),[{currentItem:f,subtitleInfos:y}]=(0,n.b7)(g.A,{selector:e=>{var i,t;return{itemList:h.map((i=>e[i])),currentItem:e[h[l]],subtitleInfos:null===(t=null===(i=e[h[l]])||void 0===i?void 0:i.video)||void 0===t?void 0:t.subtitleInfos}},dependencies:[h,l]}),k=null!==(i=null==f?void 0:f.id)&&void 0!==i?i:"",w=(0,r.useRef)(null);(0,r.useEffect)((()=>{var i;"mini_player_switch"!==e.current&&k&&function(e){if(e){const{y:i}=e.getBoundingClientRect();return i<-100}return!1}(w.current)&&(null===(i=w.current)||void 0===i||i.scrollIntoView())}),[k]);const C=(0,r.useMemo)((()=>({author:"",scheduleTime:""})),[]),{author:j="",scheduleTime:I}=null!=f?f:C,S=Ei({id:k});(0,r.useEffect)((()=>{y&&(null==y?void 0:y.length)>0&&u.downloadTranscript({subtitleInfos:y})}),[y,u]);const O=(0,x.K$)(f),M=(0,r.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:i="",format:t="",videoQuality:o="",encodeUserTag:n="",codecType:r="",definition:a=""}={},authorId:l="",id:s="",secret:d=!1,forFriend:c=!1,adLabelVersion:u,poi:v}=null!=f?f:{video:{}};return Object.assign({author_id:l,group_id:s,bitrate:Number(e),encodedType:i,format:t,videoQuality:o,encodeUserTag:n,codecType:r,definition:a,secret:d,forFriend:c,isPaidPartnership:2===u,poi_id:null==v?void 0:v.id},O)}),[f,O]),{isInitLoading:P,isEmpty:L}=we(),_=(0,r.useCallback)((e=>{e!==t&&a(e)}),[t]),{isUIOptimization:R}=(0,b.iA)();zi({onPageWidthBreakPoint:_});const B=(0,r.useCallback)((()=>{var e;null===(e=null==m?void 0:m.current)||void 0===e||e.scrollIntoView()}),[m]),{shouldRenderDirectory:V,directoryLinksList:D}=(0,s.VK)(!1,f),E=(0,v.HX)();return L?null:(0,o.jsxs)(Wi,{children:[(0,o.jsx)(qi,{ref:w},void 0),(0,o.jsx)(Fi,Object.assign({style:{justifyContent:"center"}},{children:(0,o.jsxs)(Yi,Object.assign({isPhoto:!0,isHideSideComponent:E},{children:[P?(0,o.jsx)(Ni,{},void 0):(0,o.jsx)(ea,{onScrollToComment:B,teaParams:M,item:f,currentIndex:l,ref:p,totalLength:h.length,videoChangeMethodRef:e},void 0),j&&!E?(0,o.jsx)(Hi,Object.assign({ref:m,isUIOptimization:R},{children:(0,o.jsx)(ei,{teaParams:M,uniqueId:j,videoId:k},void 0)}),void 0):null,(0,o.jsx)(wi,{scheduleTime:Number(I),ref:S,teaParams:M,itemId:k,disableReply:!1},void 0)]}),void 0)}),void 0),V&&(0,o.jsx)(A.t,{directoryLinksList:D},void 0)]},void 0)})),ta=(0,l.Z)("video_detail")((function({containerID:e,tabIndex:i}){(0,s.aY)();const[{statusCode:t},l]=(0,n.b7)(ke),{enterForyou:j}=(0,n.mp)(d.e),[{list:I,preloadList:S},O]=(0,n.b7)(c.h,{selector:e=>{var i,t,o,n;return{list:null!==(t=null===(i=e.video)||void 0===i?void 0:i.list)&&void 0!==t?t:[],preloadList:null!==(n=null===(o=e.video)||void 0===o?void 0:o.preloadList)&&void 0!==n?n:[]}},dependencies:[]}),T=(0,r.useRef)("scroll"),M=(0,n.qj)(N.Y),{id:P}=(0,a.UO)(),[L,A]=(0,r.useState)(void 0),_=null!=L?L:P;!function(){var e;const i=(0,a.k6)(),{user:t,region:o=""}=null!==(e=(0,p.Lh)((()=>["user","region"]),[]))&&void 0!==e?e:{},{id:n}=(0,a.UO)();(0,q.L)((()=>{const{search:e,pathname:r,hash:a}=window.location,l=(0,V.parse)(e),s=Object.assign({},l);l.cid&&"string"==typeof l.cid&&(delete s.cid,window.history.replaceState(window.history.state,window.document.title,`${r}?${(0,V.stringify)(s)}${a}`));const d=H.SV.includes(o),c=F.$I.getItem("cid"),u=null!=c?c:l.cid;if(!d||!u||"string"!=typeof u)return;if(!Boolean(t))return F.$I.setItem("cid",u),void F.$I.setItem("vid",n);const v=F.$I.getItem("vid");if(F.$I.removeAll(),void 0!==v&&v!==n)return;const m=(0,Y._)(u);m&&(s.browserMode="1",i.push(`${r}?${(0,V.stringify)(s)}${a}`,{cid:m,vid:n,browserMode:!0}))}),[i,t,o,n])}(),(()=>{const{list:e}=(0,n.mp)(c.h,{selector:e=>{var i;return null!==(i=e.video)&&void 0!==i?i:{list:[],loading:!1,statusCode:0}},dependencies:[]}),{search:i,pathname:t}=(0,a.TH)(),o=(0,z.cQ)(t),{setEnterForyou:l}=(0,n.qj)(d.e),s=(0,n.mp)(Z.f,{selector:e=>{var i,t;return Number(null!==(t=null===(i=e.currentVideo)||void 0===i?void 0:i.index)&&void 0!==t?t:0)},dependencies:[]}),u=e[s],v=(0,n.mp)(g.A,{selector:e=>e[null!=u?u:""],dependencies:[u]}),m=(0,D.pu)(null==v?void 0:v.author),{uniqueId:p="",secUid:h=""}=null!=m?m:{},x=function(e,i,t,o,n){const r=(0,E.fH)({uniqueId:i,videoId:t,secUid:o});return n?(0,V.stringifyUrl)({url:r,query:B()((0,V.parse)(e),"sender_device","sender_web_id","item_id")},{skipNull:!0}):`${(0,V.stringifyUrl)({url:"/foryou",query:B()((0,V.parse)(e),"sender_device","sender_web_id","item_id")},{skipNull:!0})}#${r}`}(i,p,u,h,o);(0,r.useEffect)((()=>{location.pathname!==U.Ad.foryou&&s>0&&e.length>0&&G.W.handleEnterTrending({enter_method:"see_more"});const i=o?s>=0:s>0;(location.pathname===U.Ad.foryou||i)&&e.length>0&&(l(!o),window.history.replaceState(window.history.state,"video-detail",x))}),[s,e,x,l,o])})(),(()=>{const{id:e}=(0,a.UO)(),{pathname:i,search:t}=(0,a.TH)(),o=(0,r.useMemo)((()=>{var e;return null===(e=/^\/@(.*)\/video\/\d+/.exec(i))||void 0===e?void 0:e[1]}),[i]),l=(0,r.useMemo)((()=>{var e;return null===(e=/^\/@.*\/video\/(\d+)/.exec(i))||void 0===e?void 0:e[1]}),[i]),s=(0,n.mp)(g.A,{selector:e=>e[null!=l?l:""],dependencies:[l]}),d=(0,D.pu)(null==s?void 0:s.author),{uniqueId:c,secUid:u}=null!=d?d:{},v=(0,E.Pz)({uniqueId:c,secUid:u});(0,r.useEffect)((()=>{if(v&&l===e&&o!==v){const e=`/@${v}/video/${l}${t}`,i=Object.assign(Object.assign({},history.state),{as:e});window.history.replaceState(i,"open_video_page",e)}}),[e,v,o,t,l])})(),(0,u.s)(S),(0,w.B)();const R=(0,v.HX)(),W=(0,r.useCallback)((e=>{"on-video-change"===e.data.type&&A(e.data.id)}),[A]);(0,r.useEffect)((()=>{if(R)return window.addEventListener("message",W),()=>{window.removeEventListener("message",W)}}),[R,W]);const{abTestVersion:K,user:J,language:Q,appType:X}=(0,m.m7)((0,p.Lh)((()=>["user","abTestVersion","language","appType"]),[]));(0,r.useEffect)((()=>{l.getVideoDetail({itemId:_,abTestVersion:K,user:J,language:Q,appType:X})}),[l,_,K,J,Q,X]),(0,r.useEffect)((()=>{(0,h.U)("on-load",{from:"video"})}),[]);const{browserList:$}=(0,n.mp)(c.h,{selector:e=>{const i=e.video;return i?{browserList:i.browserList}:{browserList:[]}},dependencies:[]}),{currentItem:ee}=(0,n.mp)(g.A,{selector:e=>({currentItem:e[$[0]]}),dependencies:[$]}),ie=(0,x.kw)(ee),{aweme_type:te,pic_cnt:oe}=(0,x.K$)(ee),ne=(0,r.useMemo)((()=>{const e=null==ee?void 0:ee.id,i=null==ee?void 0:ee.authorId;return{aweme_type:te,pic_cnt:oe,group_id:e,author_id:i,notReady:void 0===ee&&0===t}}),[te,ee,oe,t]);(0,C.a)(j?"homepage_hot":ie?"graphic_detail":"video_detail",void 0,ne),(0,r.useEffect)((()=>{1===I.length&&"related_list_click"!==T.current&&(M.handleFirstVideo(),!R&&!ie&&O.getRelatedList({key:"video",itemId:_,abTestVersion:K,user:J,language:Q}))}),[_,K,J,Q,I,R,ie]),(0,r.useEffect)((()=>()=>{O.resetItemList({key:"video",loading:!0})}),[_,O]);const[{isModalShow:re},ae]=(0,n.b7)(f.D,{selector:e=>({isModalShow:e.isModalShow}),dependencies:[]}),le=(0,r.useCallback)((()=>{ae.setIsModalShow(!1)}),[ae]),{isVideoDetailExperiment:se}=(0,b.iA)();return(0,o.jsxs)(Ie,Object.assign({isHideSideComponent:R,id:e,tabIndex:i},{children:[ie?(0,o.jsx)(ia,{videoChangeMethodRef:T},void 0):(0,o.jsx)(Lr,{videoChangeMethodRef:T},void 0),!se&&!R&&(0,o.jsx)(y.vr,{},"static-fixed"),se&&(0,o.jsx)(k._,{visible:re,onClose:le},void 0)]}),void 0)})),oa=ta}}]);