SlardarLite.plugin.perf=function(){"use strict";function f(){return i<0&&(i=n(),u(),d(function(){setTimeout(function(){i=n(),u()},0)})),{get firstHiddenTime(){return i}}}function o(t,n){function e(n){-1<S&&t(n)}function r(n){var t,e;n.hadRecentInput||(t=c[0],e=c[c.length-1],o&&n.startTime-e.startTime<1e3&&n.startTime-t.startTime<5e3?(o+=n.value,c.push(n)):(o=n.value,c=[n]),o>u.value&&(u.value=o,u.entries=c,i()))}E||(w(function(n){S=n.value}),E=!0);var i,u=h("CLS",0),o=0,c=[],f=L("layout-shift",r);f?(i=m(e,u,n),l(function(){f.takeRecords().forEach(r),i()}),d(function(){S=-1,u=h("CLS",o=0),i=m(e,u,n)})):(u.isSupport=!1,t(u))}function c(n,t){a||(a=t,v=n,r=new Date,D(removeEventListener),F())}function t(n,t){function e(n){n.startTime<r.firstHiddenTime&&(i.value=n.processingStart-n.startTime,i.entries.push(n),p.add(i),o())}var r=f(),i=h("FID"),u=L("first-input",e),o=m(n,i,t);u&&l(function(){u.takeRecords().forEach(e),u.disconnect()},!0),u?d(function(){i=h("FID"),o=m(n,i,t),s=[],v=-1,a=null,D(addEventListener),s.push(e),F()}):(i.isSupport=!1,n(i))}function e(t,e){function n(n){var t=n.startTime;t<u.firstHiddenTime&&(o.value=t,o.entries.push(n))}var r,i,u=f(),o=h("LCP"),c=L("largest-contentful-paint",n);c?(r=m(t,o,e),i=function(){p.has(o)||(c.takeRecords().forEach(n),c.disconnect(),p.add(o),r())},["keydown","click"].forEach(function(n){addEventListener(n,i,{once:!0,capture:!0})}),l(i,!0),d(function(n){o=h("LCP"),r=m(t,o,e),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-n.timeStamp,p.add(o),r()})})})):(o.isSupport=!1,t(o))}var a,v,r,s,p=new("function"==typeof WeakSet?WeakSet:Set),m=function(n,t,e){var r;return function(){0<=t.value&&(e||p.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),!t.delta&&void 0!==r||(r=t.value,n(t)))}},d=function(t){addEventListener("pageshow",function(n){n.persisted&&t(n)},!0)},l=function(t,e){function r(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))}addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},i=-1,n=function(){return"hidden"===document.visibilityState?0:1/0},u=function(){l(function(n){n=n.timeStamp;i=n},!0)},y=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},h=function(n,t){return{name:n,value:void 0===t?-1:t,delta:0,entries:[],id:y(),isSupport:!0}},L=function(n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(function(n){return n.getEntries().map(t)});return e.observe({type:n,buffered:!0}),e}}catch(n){}},w=function(t,e){function n(n){"first-contentful-paint"===n.name&&(c&&c.disconnect(),n.startTime<i.firstHiddenTime&&(u.value=n.startTime,u.entries.push(n),p.add(u),r()))}var r,i=f(),u=h("FCP"),o=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=o?null:L("paint",n);o||c?(r=m(t,u,e),o&&n(o),d(function(n){u=h("FCP"),r=m(t,u,e),requestAnimationFrame(function(){requestAnimationFrame(function(){u.value=performance.now()-n.timeStamp,p.add(u),r()})})})):(u.isSupport=!1,t(u))},E=!1,S=-1,b={passive:!0,capture:!0},g=new Date,F=function(){var t;0<=v&&v<r-g&&(t={entryType:"first-input",name:a.type,target:a.target,cancelable:a.cancelable,startTime:a.timeStamp,processingStart:a.timeStamp+v},s.forEach(function(n){n(t)}),s=[])},P=function(n){var t,e,r,i,u;function o(){removeEventListener("pointerup",i,b),removeEventListener("pointercancel",u,b)}n.cancelable&&(t=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp,"pointerdown"==n.type?(e=t,r=n,i=function(){c(e,r),o()},u=function(){o()},addEventListener("pointerup",i,b),addEventListener("pointercancel",u,b)):c(t,n))},D=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(n){return t(n,P,b)})},T=[function(n){return n(w)},"fcp"];function k(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,i,u=e.call(n),o=[];try{for(;(void 0===t||0<t--)&&!(r=u.next()).done;)o.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}return o}function C(){return Date.now()}function q(n){/complete|interactive/.test(document.readyState)?n():addEventListener("load",n,!1)}function A(n){addEventListener("beforeunload",n)}function M(n){return Number(n.toFixed(2))}var O=window.requestIdleCallback||function(n){return setTimeout(n,1)};return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(n,t){return t(e,n)},n)}}(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e,r){return e.s(function(t){return n.forEach(function(n){n=n(e,r);n&&n.u(t)})})}}(function(n){var t=n.s,u=n.config;return t(function(n){var t,e=0;O(function(){o(function(n){return t=n},!0)});function r(){t&&n([3,{name:"cls",value:M(t.value-e),isSupport:t.isSupport,timestamp:C()}])}var i=u.pid;Object.defineProperty(u,"pid",{set:function(n){n!==i&&(i&&(r(),e=t?t.value:e),i=n)},get:function(){return i}}),A(r)})},function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){var e=n.s;return e(function(u){var o=[],c={};t.forEach(function(n,r){var n=k(n,2),t=n[0],i=n[1];u(c[i]={}),O(function(){t(e).u(function(n){var t=n.name,e=n.value,n=n.isSupport;o[r]={name:t.toLowerCase(),value:M(e),isSupport:n,timestamp:C()},(c[i].c||u)([3,o[r]])})})}),A(function(){return t.filter(function(n,t){return!o[t]}).map(function(n){return{name:k(n,2)[1],isBounced:!0,value:0,isSupport:!0,timestamp:C()}}).forEach(function(n){return(c[n.name].c||u)([3,n])})})})}}(T,[function(n){return n(t)},"fid"],[function(n){return n(e)},"lcp"]),function(n){return n.s(function(t){var e;q(function(){t([5,[!1]]);var n=performance.getEntriesByName("first-paint")[0];n&&(n=n.startTime,t([3,{name:"fp",value:n,isSupport:!0,timestamp:n}])),e=!0}),A(function(){return!e&&t([5,[!0]])})})},function(n){return n.s(function(t){q(function(){O(function(){O(function(){!function(e,t){var r=new PerformanceObserver(function(n,t){return e(n.getEntries(),t)});try{r.observe({type:t,buffered:!0})}catch(n){r.observe({entryTypes:[t]})}}(function(n){return t([6,n])},"longtask")})})})})}),function(n,t){return t&&n.s(function(i){var u,o=!1,c=0;t.u(function(r){r[0]&&(i(r),o||O(function(){var n,t,e;o||(t=(n=k(r,2))[0],e=n[1],6===t&&u&&e.forEach(function(n){var t=n.duration,n=n.startTime;return u<n&&(c=Math.max(c,t))}),3===t&&(n=e.name,t=e.value,e=e.isSupport,"fcp"===n&&(u=t),"fid"===n&&u&&(i([3,{name:"mpfid",value:Math.max(c,t),timestamp:C(),isSupport:e}]),o=!0)))}))})})})}();
