var t;(t=document.currentScript)&&t.hasAttribute("nomodule")&&"onbeforeload"in t||function(){var t,e,n,i,o,r,a,s,c,l,u;function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=g(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},v.apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(t,e)||P(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,r=Object.create(o.prototype),a=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return{value:void 0,done:!0}}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==e&&n.call(g,o)&&(p=g);var m=d.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function i(o,r,a,s){var c=l(t[o],t,r);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==G(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,o){i(t,n,e,o)}))}return o=o?o.then(r,r):r()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(k.prototype),s(k.prototype,r,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new k(c(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function k(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){k(r,i,o,a,s,"next",t)}function s(t){k(r,i,o,a,s,"throw",t)}a(void 0)}))}}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}function E(t){var e=T();return function(){var n,i=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){var e="function"==typeof Map?new Map:void 0;return A=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return C(t,arguments,O(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),M(i,t)},A(t)}function C(t,e,n){return C=T()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&M(o,n.prototype),o},C.apply(null,arguments)}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function D(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=P(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function P(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}void 0===Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var t=this.attributes,e=t.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i].name;return n});var j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(t,e){return t(e={exports:{}},e.exports),e.exports}function L(t){return t&&t.default||t}var N,U,V=function(t){return t&&t.Math==Math&&t},K=V("object"==("undefined"==typeof globalThis?"undefined":G(globalThis))&&globalThis)||V("object"==("undefined"==typeof window?"undefined":G(window))&&window)||V("object"==("undefined"==typeof self?"undefined":G(self))&&self)||V("object"==G(j)&&j)||function(){return this}()||Function("return this")(),F=function(t){try{return!!t()}catch(t){return!0}},H=!F((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),W=Function.prototype,q=W.apply,Y=W.call,J="object"==("undefined"==typeof Reflect?"undefined":G(Reflect))&&Reflect.apply||(H?Y.bind(q):function(){return Y.apply(q,arguments)}),X=Function.prototype,Z=X.call,Q=H&&X.bind.bind(Z,Z),tt=H?Q:function(t){return function(){return Z.apply(t,arguments)}},et=tt({}.toString),nt=tt("".slice),it=function(t){return nt(et(t),8,-1)},ot=function(t){if("Function"===it(t))return tt(t)},rt="object"==("undefined"==typeof document?"undefined":G(document))&&document.all,at={all:rt,IS_HTMLDDA:void 0===rt&&void 0!==rt},st=at.all,ct=at.IS_HTMLDDA?function(t){return"function"==typeof t||t===st}:function(t){return"function"==typeof t},lt=!F((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ut=Function.prototype.call,ht=H?ut.bind(ut):function(){return ut.apply(ut,arguments)},ft={}.propertyIsEnumerable,dt=Object.getOwnPropertyDescriptor,pt=dt&&!ft.call({1:2},1)?function(t){var e=dt(this,t);return!!e&&e.enumerable}:ft,vt={f:pt},gt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},mt=Object,yt=tt("".split),_t=F((function(){return!mt("z").propertyIsEnumerable(0)}))?function(t){return"String"==it(t)?yt(t,""):mt(t)}:mt,kt=function(t){return null==t},bt=TypeError,wt=function(t){if(kt(t))throw bt("Can't call method on "+t);return t},Et=function(t){return _t(wt(t))},St=at.all,xt=at.IS_HTMLDDA?function(t){return"object"==G(t)?null!==t:ct(t)||t===St}:function(t){return"object"==G(t)?null!==t:ct(t)},At={},Ct=function(t){return ct(t)?t:void 0},Tt=function(t,e){return arguments.length<2?Ct(At[t])||Ct(K[t]):At[t]&&At[t][e]||K[t]&&K[t][e]},Mt=tt({}.isPrototypeOf),Ot="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Dt=K.process,Pt=K.Deno,It=Dt&&Dt.versions||Pt&&Pt.version,Rt=It&&It.v8;Rt&&(U=(N=Rt.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!U&&Ot&&(!(N=Ot.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=Ot.match(/Chrome\/(\d+)/))&&(U=+N[1]);var zt=U,$t=!!Object.getOwnPropertySymbols&&!F((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&zt&&zt<41})),Gt=$t&&!Symbol.sham&&"symbol"==G(Symbol.iterator),jt=Object,Bt=Gt?function(t){return"symbol"==G(t)}:function(t){var e=Tt("Symbol");return ct(e)&&Mt(e.prototype,jt(t))},Lt=String,Nt=function(t){try{return Lt(t)}catch(t){return"Object"}},Ut=TypeError,Vt=function(t){if(ct(t))return t;throw Ut(Nt(t)+" is not a function")},Kt=function(t,e){var n=t[e];return kt(n)?void 0:Vt(n)},Ft=TypeError,Ht=Object.defineProperty,Wt="__core-js_shared__",qt=K[Wt]||function(t,e){try{Ht(K,t,{value:e,configurable:!0,writable:!0})}catch(n){K[t]=e}return e}(Wt,{}),Yt=B((function(t){(t.exports=function(t,e){return qt[t]||(qt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.27.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})})),Jt=Object,Xt=function(t){return Jt(wt(t))},Zt=tt({}.hasOwnProperty),Qt=Object.hasOwn||function(t,e){return Zt(Xt(t),e)},te=0,ee=Math.random(),ne=tt(1..toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++te+ee,36)},oe=K.Symbol,re=Yt("wks"),ae=Gt?oe.for||oe:oe&&oe.withoutSetter||ie,se=function(t){return Qt(re,t)||(re[t]=$t&&Qt(oe,t)?oe[t]:ae("Symbol."+t)),re[t]},ce=TypeError,le=se("toPrimitive"),ue=function(t,e){if(!xt(t)||Bt(t))return t;var n,i=Kt(t,le);if(i){if(void 0===e&&(e="default"),n=ht(i,t,e),!xt(n)||Bt(n))return n;throw ce("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,i;if("string"===e&&ct(n=t.toString)&&!xt(i=ht(n,t)))return i;if(ct(n=t.valueOf)&&!xt(i=ht(n,t)))return i;if("string"!==e&&ct(n=t.toString)&&!xt(i=ht(n,t)))return i;throw Ft("Can't convert object to primitive value")}(t,e)},he=function(t){var e=ue(t,"string");return Bt(e)?e:e+""},fe=K.document,de=xt(fe)&&xt(fe.createElement),pe=function(t){return de?fe.createElement(t):{}},ve=!lt&&!F((function(){return 7!=Object.defineProperty(pe("div"),"a",{get:function(){return 7}}).a})),ge=Object.getOwnPropertyDescriptor,me=lt?ge:function(t,e){if(t=Et(t),e=he(e),ve)try{return ge(t,e)}catch(t){}if(Qt(t,e))return gt(!ht(vt.f,t,e),t[e])},ye={f:me},_e=/#|\.prototype\./,ke=function(t,e){var n=we[be(t)];return n==Se||n!=Ee&&(ct(e)?F(e):!!e)},be=ke.normalize=function(t){return String(t).replace(_e,".").toLowerCase()},we=ke.data={},Ee=ke.NATIVE="N",Se=ke.POLYFILL="P",xe=ke,Ae=ot(ot.bind),Ce=function(t,e){return Vt(t),void 0===e?t:H?Ae(t,e):function(){return t.apply(e,arguments)}},Te=lt&&F((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Me=String,Oe=TypeError,De=function(t){if(xt(t))return t;throw Oe(Me(t)+" is not an object")},Pe=TypeError,Ie=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,ze="enumerable",$e="configurable",Ge="writable",je=lt?Te?function(t,e,n){if(De(t),e=he(e),De(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ge in n&&!n.writable){var i=Re(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:$e in n?n.configurable:i.configurable,enumerable:ze in n?n.enumerable:i.enumerable,writable:!1})}return Ie(t,e,n)}:Ie:function(t,e,n){if(De(t),e=he(e),De(n),ve)try{return Ie(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Pe("Accessors not supported");return"value"in n&&(t[e]=n.value),t},Be={f:je},Le=lt?function(t,e,n){return Be.f(t,e,gt(1,n))}:function(t,e,n){return t[e]=n,t},Ne=ye.f,Ue=function(t){var e=function e(n,i,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,o)}return J(t,this,arguments)};return e.prototype=t.prototype,e},Ve=function(t,e){var n,i,o,r,a,s,c,l,u,h=t.target,f=t.global,d=t.stat,p=t.proto,v=f?K:d?K[h]:(K[h]||{}).prototype,g=f?At:At[h]||Le(At,h,{})[h],m=g.prototype;for(r in e)i=!(n=xe(f?r:h+(d?".":"#")+r,t.forced))&&v&&Qt(v,r),s=g[r],i&&(c=t.dontCallGetSet?(u=Ne(v,r))&&u.value:v[r]),a=i&&c?c:e[r],i&&G(s)==G(a)||(l=t.bind&&i?Ce(a,K):t.wrap&&i?Ue(a):p&&ct(a)?ot(a):a,(t.sham||a&&a.sham||s&&s.sham)&&Le(l,"sham",!0),Le(g,r,l),p&&(Qt(At,o=h+"Prototype")||Le(At,o,{}),Le(At[o],r,a),t.real&&m&&(n||!m[r])&&Le(m,r,a)))},Ke=String,Fe=TypeError,He=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=tt(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return De(n),function(t){if("object"==G(t)||ct(t))return t;throw Fe("Can't set "+Ke(t)+" as a prototype")}(i),e?t(n,i):n.__proto__=i,n}}():void 0);Ve({target:"Object",stat:!0},{setPrototypeOf:He}),At.Object.setPrototypeOf;var We,qe=Math.ceil,Ye=Math.floor,Je=Math.trunc||function(t){var e=+t;return(e>0?Ye:qe)(e)},Xe=function(t){var e=+t;return e!=e||0===e?0:Je(e)},Ze=Math.max,Qe=Math.min,tn=function(t,e){var n=Xe(t);return n<0?Ze(n+e,0):Qe(n,e)},en=Math.min,nn=function(t){return t>0?en(Xe(t),9007199254740991):0},on=function(t){return nn(t.length)},rn=function(t){return function(e,n,i){var o,r=Et(e),a=on(r),s=tn(i,a);if(t&&n!=n){for(;a>s;)if((o=r[s++])!=o)return!0}else for(;a>s;s++)if((t||s in r)&&r[s]===n)return t||s||0;return!t&&-1}},an={includes:rn(!0),indexOf:rn(!1)},sn={},cn=an.indexOf,ln=tt([].push),un=function(t,e){var n,i=Et(t),o=0,r=[];for(n in i)!Qt(sn,n)&&Qt(i,n)&&ln(r,n);for(;e.length>o;)Qt(i,n=e[o++])&&(~cn(r,n)||ln(r,n));return r},hn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fn=Object.keys||function(t){return un(t,hn)},dn=lt&&!Te?Object.defineProperties:function(t,e){De(t);for(var n,i=Et(e),o=fn(e),r=o.length,a=0;r>a;)Be.f(t,n=o[a++],i[n]);return t},pn={f:dn},vn=Tt("document","documentElement"),gn=Yt("keys"),mn=function(t){return gn[t]||(gn[t]=ie(t))},yn=mn("IE_PROTO"),_n=function(){},kn=function(t){return"<script>"+t+"<\/script>"},bn=function(t){t.write(kn("")),t.close();var e=t.parentWindow.Object;return t=null,e},wn=function(){try{We=new ActiveXObject("htmlfile")}catch(t){}var t,e;wn="undefined"!=typeof document?document.domain&&We?bn(We):((e=pe("iframe")).style.display="none",vn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(kn("document.F=Object")),t.close(),t.F):bn(We);for(var n=hn.length;n--;)delete wn.prototype[hn[n]];return wn()};sn[yn]=!0;var En=Object.create||function(t,e){var n;return null!==t?(_n.prototype=De(t),n=new _n,_n.prototype=null,n[yn]=t):n=wn(),void 0===e?n:pn.f(n,e)};Ve({target:"Object",stat:!0,sham:!lt},{create:En});var Sn=At.Object,xn=function(t,e){return Sn.create(t,e)},An=xn,Cn={f:Object.getOwnPropertySymbols},Tn=Object.assign,Mn=Object.defineProperty,On=tt([].concat),Dn=!Tn||F((function(){if(lt&&1!==Tn({b:1},Tn(Mn({},"a",{enumerable:!0,get:function(){Mn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=Tn({},t)[n]||fn(Tn({},e)).join("")!=i}))?function(t,e){for(var n=Xt(t),i=arguments.length,o=1,r=Cn.f,a=vt.f;i>o;)for(var s,c=_t(arguments[o++]),l=r?On(fn(c),r(c)):fn(c),u=l.length,h=0;u>h;)s=l[h++],lt&&!ht(a,c,s)||(n[s]=c[s]);return n}:Tn;Ve({target:"Object",stat:!0,arity:2,forced:Object.assign!==Dn},{assign:Dn});var Pn=At.Object.assign,In=function(t,e){var n=[][t];return!!n&&F((function(){n.call(null,e||function(){return 1},1)}))},Rn=an.indexOf,zn=ot([].indexOf),$n=!!zn&&1/zn([1],1,-0)<0,Gn=$n||!In("indexOf");Ve({target:"Array",proto:!0,forced:Gn},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return $n?zn(this,t,e)||0:Rn(this,t,e)}});var jn=function(t){return At[t+"Prototype"]},Bn=jn("Array").indexOf,Ln=Array.prototype,Nn=function(t){var e=t.indexOf;return t===Ln||Mt(Ln,t)&&e===Ln.indexOf?Bn:e},Un=Nn,Vn={};Vn[se("toStringTag")]="z";var Kn,Fn,Hn,Wn="[object z]"===String(Vn),qn=se("toStringTag"),Yn=Object,Jn="Arguments"==it(function(){return arguments}()),Xn=Wn?it:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Yn(t),qn))?n:Jn?it(e):"Object"==(i=it(e))&&ct(e.callee)?"Arguments":i},Zn=String,Qn=function(t){if("Symbol"===Xn(t))throw TypeError("Cannot convert a Symbol value to a string");return Zn(t)},ti=hn.concat("length","prototype"),ei=Object.getOwnPropertyNames||function(t){return un(t,ti)},ni={f:ei},ii=function(t,e,n){var i=he(e);i in t?Be.f(t,i,gt(0,n)):t[i]=n},oi=Array,ri=Math.max,ai=ni.f,si="object"==("undefined"==typeof window?"undefined":G(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ci=function(t){try{return ai(t)}catch(t){return function(t,e,n){for(var i=on(t),o=tn(e,i),r=tn(void 0===n?i:n,i),a=oi(ri(r-o,0)),s=0;o<r;o++,s++)ii(a,s,t[o]);return a.length=s,a}(si)}},li={f:function(t){return si&&"Window"==it(t)?ci(t):ai(Et(t))}},ui=function(t,e,n,i){return i&&i.enumerable?t[e]=n:Le(t,e,n),t},hi={f:se},fi=Be.f,di=function(t){var e=At.Symbol||(At.Symbol={});Qt(e,t)||fi(e,t,{value:hi.f(t)})},pi=function(){var t=Tt("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=se("toPrimitive");e&&!e[i]&&ui(e,i,(function(t){return ht(n,this)}),{arity:1})},vi=Wn?{}.toString:function(){return"[object "+Xn(this)+"]"},gi=Be.f,mi=se("toStringTag"),yi=function(t,e,n,i){if(t){var o=n?t:t.prototype;Qt(o,mi)||gi(o,mi,{configurable:!0,value:e}),i&&!Wn&&Le(o,"toString",vi)}},_i=K.WeakMap,ki=ct(_i)&&/native code/.test(String(_i)),bi="Object already initialized",wi=K.TypeError,Ei=K.WeakMap;if(ki||qt.state){var Si=qt.state||(qt.state=new Ei);Si.get=Si.get,Si.has=Si.has,Si.set=Si.set,Kn=function(t,e){if(Si.has(t))throw wi(bi);return e.facade=t,Si.set(t,e),e},Fn=function(t){return Si.get(t)||{}},Hn=function(t){return Si.has(t)}}else{var xi=mn("state");sn[xi]=!0,Kn=function(t,e){if(Qt(t,xi))throw wi(bi);return e.facade=t,Le(t,xi,e),e},Fn=function(t){return Qt(t,xi)?t[xi]:{}},Hn=function(t){return Qt(t,xi)}}var Ai={set:Kn,get:Fn,has:Hn,enforce:function(t){return Hn(t)?Fn(t):Kn(t,{})},getterFor:function(t){return function(e){var n;if(!xt(e)||(n=Fn(e)).type!==t)throw wi("Incompatible receiver, "+t+" required");return n}}},Ci=Array.isArray||function(t){return"Array"==it(t)},Ti=tt(Function.toString);ct(qt.inspectSource)||(qt.inspectSource=function(t){return Ti(t)});var Mi=qt.inspectSource,Oi=function(){},Di=[],Pi=Tt("Reflect","construct"),Ii=/^\s*(?:class|function)\b/,Ri=tt(Ii.exec),zi=!Ii.exec(Oi),$i=function(t){if(!ct(t))return!1;try{return Pi(Oi,Di,t),!0}catch(t){return!1}},Gi=function(t){if(!ct(t))return!1;switch(Xn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zi||!!Ri(Ii,Mi(t))}catch(t){return!0}};Gi.sham=!0;var ji=!Pi||F((function(){var t;return $i($i.call)||!$i(Object)||!$i((function(){t=!0}))||t}))?Gi:$i,Bi=se("species"),Li=Array,Ni=function(t,e){return new(function(t){var e;return Ci(t)&&(e=t.constructor,(ji(e)&&(e===Li||Ci(e.prototype))||xt(e)&&null===(e=e[Bi]))&&(e=void 0)),void 0===e?Li:e}(t))(0===e?0:e)},Ui=tt([].push),Vi=function(t){var e=1==t,n=2==t,i=3==t,o=4==t,r=6==t,a=7==t,s=5==t||r;return function(c,l,u,h){for(var f,d,p=Xt(c),v=_t(p),g=Ce(l,u),m=on(v),y=0,_=h||Ni,k=e?_(c,m):n||a?_(c,0):void 0;m>y;y++)if((s||y in v)&&(d=g(f=v[y],y,p),t))if(e)k[y]=d;else if(d)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:Ui(k,f)}else switch(t){case 4:return!1;case 7:Ui(k,f)}return r?-1:i||o?o:k}},Ki={forEach:Vi(0),map:Vi(1),filter:Vi(2),some:Vi(3),every:Vi(4),find:Vi(5),findIndex:Vi(6),filterReject:Vi(7)},Fi=Ki.forEach,Hi=mn("hidden"),Wi="Symbol",qi=Ai.set,Yi=Ai.getterFor(Wi),Ji=Object.prototype,Xi=K.Symbol,Zi=Xi&&Xi.prototype,Qi=K.TypeError,to=K.QObject,eo=ye.f,no=Be.f,io=li.f,oo=vt.f,ro=tt([].push),ao=Yt("symbols"),so=Yt("op-symbols"),co=Yt("wks"),lo=!to||!to.prototype||!to.prototype.findChild,uo=lt&&F((function(){return 7!=En(no({},"a",{get:function(){return no(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=eo(Ji,e);i&&delete Ji[e],no(t,e,n),i&&t!==Ji&&no(Ji,e,i)}:no,ho=function(t,e){var n=ao[t]=En(Zi);return qi(n,{type:Wi,tag:t,description:e}),lt||(n.description=e),n},fo=function(t,e,n){t===Ji&&fo(so,e,n),De(t);var i=he(e);return De(n),Qt(ao,i)?(n.enumerable?(Qt(t,Hi)&&t[Hi][i]&&(t[Hi][i]=!1),n=En(n,{enumerable:gt(0,!1)})):(Qt(t,Hi)||no(t,Hi,gt(1,{})),t[Hi][i]=!0),uo(t,i,n)):no(t,i,n)},po=function(t,e){De(t);var n=Et(e),i=fn(n).concat(yo(n));return Fi(i,(function(e){lt&&!ht(vo,n,e)||fo(t,e,n[e])})),t},vo=function(t){var e=he(t),n=ht(oo,this,e);return!(this===Ji&&Qt(ao,e)&&!Qt(so,e))&&(!(n||!Qt(this,e)||!Qt(ao,e)||Qt(this,Hi)&&this[Hi][e])||n)},go=function(t,e){var n=Et(t),i=he(e);if(n!==Ji||!Qt(ao,i)||Qt(so,i)){var o=eo(n,i);return!o||!Qt(ao,i)||Qt(n,Hi)&&n[Hi][i]||(o.enumerable=!0),o}},mo=function(t){var e=io(Et(t)),n=[];return Fi(e,(function(t){Qt(ao,t)||Qt(sn,t)||ro(n,t)})),n},yo=function(t){var e=t===Ji,n=io(e?so:Et(t)),i=[];return Fi(n,(function(t){!Qt(ao,t)||e&&!Qt(Ji,t)||ro(i,ao[t])})),i};$t||(Xi=function(){if(Mt(Zi,this))throw Qi("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Qn(arguments[0]):void 0,e=ie(t),n=function t(n){this===Ji&&ht(t,so,n),Qt(this,Hi)&&Qt(this[Hi],e)&&(this[Hi][e]=!1),uo(this,e,gt(1,n))};return lt&&lo&&uo(Ji,e,{configurable:!0,set:n}),ho(e,t)},Zi=Xi.prototype,ui(Zi,"toString",(function(){return Yi(this).tag})),ui(Xi,"withoutSetter",(function(t){return ho(ie(t),t)})),vt.f=vo,Be.f=fo,pn.f=po,ye.f=go,ni.f=li.f=mo,Cn.f=yo,hi.f=function(t){return ho(se(t),t)},lt&&no(Zi,"description",{configurable:!0,get:function(){return Yi(this).description}})),Ve({global:!0,constructor:!0,wrap:!0,forced:!$t,sham:!$t},{Symbol:Xi}),Fi(fn(co),(function(t){di(t)})),Ve({target:Wi,stat:!0,forced:!$t},{useSetter:function(){lo=!0},useSimple:function(){lo=!1}}),Ve({target:"Object",stat:!0,forced:!$t,sham:!lt},{create:function(t,e){return void 0===e?En(t):po(En(t),e)},defineProperty:fo,defineProperties:po,getOwnPropertyDescriptor:go}),Ve({target:"Object",stat:!0,forced:!$t},{getOwnPropertyNames:mo}),pi(),yi(Xi,Wi),sn[Hi]=!0;var _o=$t&&!!Symbol.for&&!!Symbol.keyFor,ko=Yt("string-to-symbol-registry"),bo=Yt("symbol-to-string-registry");Ve({target:"Symbol",stat:!0,forced:!_o},{for:function(t){var e=Qn(t);if(Qt(ko,e))return ko[e];var n=Tt("Symbol")(e);return ko[e]=n,bo[n]=e,n}});var wo=Yt("symbol-to-string-registry");Ve({target:"Symbol",stat:!0,forced:!_o},{keyFor:function(t){if(!Bt(t))throw TypeError(Nt(t)+" is not a symbol");if(Qt(wo,t))return wo[t]}});var Eo=tt([].slice),So=Tt("JSON","stringify"),xo=tt(/./.exec),Ao=tt("".charAt),Co=tt("".charCodeAt),To=tt("".replace),Mo=tt(1..toString),Oo=/[\uD800-\uDFFF]/g,Do=/^[\uD800-\uDBFF]$/,Po=/^[\uDC00-\uDFFF]$/,Io=!$t||F((function(){var t=Tt("Symbol")();return"[null]"!=So([t])||"{}"!=So({a:t})||"{}"!=So(Object(t))})),Ro=F((function(){return'"\\udf06\\ud834"'!==So("\udf06\ud834")||'"\\udead"'!==So("\udead")})),zo=function(t,e){var n=Eo(arguments),i=e;if((xt(e)||void 0!==t)&&!Bt(t))return Ci(e)||(e=function(t,e){if(ct(i)&&(e=ht(i,this,t,e)),!Bt(e))return e}),n[1]=e,J(So,null,n)},$o=function(t,e,n){var i=Ao(n,e-1),o=Ao(n,e+1);return xo(Do,t)&&!xo(Po,o)||xo(Po,t)&&!xo(Do,i)?"\\u"+Mo(Co(t,0),16):t};So&&Ve({target:"JSON",stat:!0,arity:3,forced:Io||Ro},{stringify:function(t,e,n){var i=Eo(arguments),o=J(Io?zo:So,null,i);return Ro&&"string"==typeof o?To(o,Oo,$o):o}});var Go=!$t||F((function(){Cn.f(1)}));Ve({target:"Object",stat:!0,forced:Go},{getOwnPropertySymbols:function(t){var e=Cn.f;return e?e(Xt(t)):[]}});var jo=At.Object.getOwnPropertySymbols,Bo=ye.f,Lo=!lt||F((function(){Bo(1)}));Ve({target:"Object",stat:!0,forced:Lo,sham:!lt},{getOwnPropertyDescriptor:function(t,e){return Bo(Et(t),e)}});var No=B((function(t){var e=At.Object,n=t.exports=function(t,n){return e.getOwnPropertyDescriptor(t,n)};e.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),Uo=No,Vo=Be.f;Ve({target:"Object",stat:!0,forced:Object.defineProperty!==Vo,sham:!lt},{defineProperty:Vo});var Ko=B((function(t){var e=At.Object,n=t.exports=function(t,n,i){return e.defineProperty(t,n,i)};e.defineProperty.sham&&(n.sham=!0)})),Fo=Ko,Ho=!F((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Wo=mn("IE_PROTO"),qo=Object,Yo=qo.prototype,Jo=Ho?qo.getPrototypeOf:function(t){var e=Xt(t);if(Qt(e,Wo))return e[Wo];var n=e.constructor;return ct(n)&&e instanceof n?n.prototype:e instanceof qo?Yo:null},Xo=tt([].concat),Zo=Tt("Reflect","ownKeys")||function(t){var e=ni.f(De(t)),n=Cn.f;return n?Xo(e,n(t)):e},Qo=function(t,e){xt(e)&&"cause"in e&&Le(t,"cause",e.cause)},tr=Error,er=tt("".replace),nr=String(tr("zxcasd").stack),ir=/\n\s*at [^:]*:[^\n]*/,or=ir.test(nr),rr=!F((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",gt(1,7)),7!==t.stack)})),ar=Error.captureStackTrace,sr=function(t,e,n,i){rr&&(ar?ar(t,e):Le(t,"stack",function(t,e){if(or&&"string"==typeof t&&!tr.prepareStackTrace)for(;e--;)t=er(t,ir,"");return t}(n,i)))},cr={},lr=se("iterator"),ur=Array.prototype,hr=se("iterator"),fr=function(t){if(!kt(t))return Kt(t,hr)||Kt(t,"@@iterator")||cr[Xn(t)]},dr=TypeError,pr=function(t,e,n){var i,o;De(t);try{if(!(i=Kt(t,"return"))){if("throw"===e)throw n;return n}i=ht(i,t)}catch(t){o=!0,i=t}if("throw"===e)throw n;if(o)throw i;return De(i),n},vr=TypeError,gr=function(t,e){this.stopped=t,this.result=e},mr=gr.prototype,yr=function(t,e,n){var i,o,r,a,s,c,l,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=Ce(e,u),g=function(t){return i&&pr(i,"normal",t),new gr(!0,t)},m=function(t){return h?(De(t),p?v(t[0],t[1],g):v(t[0],t[1])):p?v(t,g):v(t)};if(f)i=t.iterator;else if(d)i=t;else{if(!(o=fr(t)))throw vr(Nt(t)+" is not iterable");if(function(t){return void 0!==t&&(cr.Array===t||ur[lr]===t)}(o)){for(r=0,a=on(t);a>r;r++)if((s=m(t[r]))&&Mt(mr,s))return s;return new gr(!1)}i=function(t,e){var n=arguments.length<2?fr(t):e;if(Vt(n))return De(ht(n,t));throw dr(Nt(t)+" is not iterable")}(t,o)}for(c=f?t.next:i.next;!(l=ht(c,i)).done;){try{s=m(l.value)}catch(t){pr(i,"throw",t)}if("object"==G(s)&&s&&Mt(mr,s))return s}return new gr(!1)},_r=function(t,e){return void 0===t?arguments.length<2?"":e:Qn(t)},kr=se("toStringTag"),br=Error,wr=[].push,Er=function(t,e){var n,i=Mt(Sr,this);He?n=He(br(),i?Jo(this):Sr):(n=i?this:En(Sr),Le(n,kr,"Error")),void 0!==e&&Le(n,"message",_r(e)),sr(n,Er,n.stack,1),arguments.length>2&&Qo(n,arguments[2]);var o=[];return yr(t,wr,{that:o}),Le(n,"errors",o),n};He?He(Er,br):function(t,e,n){for(var i=Zo(e),o=Be.f,r=ye.f,a=0;a<i.length;a++){var s=i[a];Qt(t,s)||n&&Qt(n,s)||o(t,s,r(e,s))}}(Er,br,{name:!0});var Sr=Er.prototype=En(br.prototype,{constructor:gt(1,Er),message:gt(1,""),name:gt(1,"AggregateError")});Ve({global:!0,constructor:!0,arity:2},{AggregateError:Er});var xr,Ar,Cr,Tr=Function.prototype,Mr=lt&&Object.getOwnPropertyDescriptor,Or=Qt(Tr,"name"),Dr={EXISTS:Or,PROPER:Or&&"something"===function(){}.name,CONFIGURABLE:Or&&(!lt||lt&&Mr(Tr,"name").configurable)},Pr=se("iterator"),Ir=!1;[].keys&&("next"in(Cr=[].keys())?(Ar=Jo(Jo(Cr)))!==Object.prototype&&(xr=Ar):Ir=!0);var Rr=!xt(xr)||F((function(){var t={};return xr[Pr].call(t)!==t}));xr=Rr?{}:En(xr),ct(xr[Pr])||ui(xr,Pr,(function(){return this}));var zr={IteratorPrototype:xr,BUGGY_SAFARI_ITERATORS:Ir},$r=zr.IteratorPrototype,Gr=function(){return this},jr=Dr.PROPER,Br=zr.BUGGY_SAFARI_ITERATORS,Lr=se("iterator"),Nr="keys",Ur="values",Vr="entries",Kr=function(){return this},Fr=function(t,e,n,i,o,r,a){!function(t,e,n,i){var o=e+" Iterator";t.prototype=En($r,{next:gt(+!i,n)}),yi(t,o,!1,!0),cr[o]=Gr}(n,e,i);var s,c,l,u=function(t){if(t===o&&v)return v;if(!Br&&t in d)return d[t];switch(t){case Nr:case Ur:case Vr:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",f=!1,d=t.prototype,p=d[Lr]||d["@@iterator"]||o&&d[o],v=!Br&&p||u(o),g="Array"==e&&d.entries||p;if(g&&(s=Jo(g.call(new t)))!==Object.prototype&&s.next&&(yi(s,h,!0,!0),cr[h]=Kr),jr&&o==Ur&&p&&p.name!==Ur&&(f=!0,v=function(){return ht(p,this)}),o)if(c={values:u(Ur),keys:r?v:u(Nr),entries:u(Vr)},a)for(l in c)(Br||f||!(l in d))&&ui(d,l,c[l]);else Ve({target:e,proto:!0,forced:Br||f},c);return a&&d[Lr]!==v&&ui(d,Lr,v,{name:o}),cr[e]=v,c},Hr=function(t,e){return{value:t,done:e}};Be.f;var Wr="Array Iterator",qr=Ai.set,Yr=Ai.getterFor(Wr);Fr(Array,"Array",(function(t,e){qr(this,{type:Wr,target:Et(t),index:0,kind:e})}),(function(){var t=Yr(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,Hr(void 0,!0)):Hr("keys"==n?i:"values"==n?e[i]:[i,e[i]],!1)}),"values"),cr.Arguments=cr.Array;var Jr,Xr,Zr,Qr,ta=Object.freeze({__proto__:null}),ea="undefined"!=typeof process&&"process"==it(process),na=se("species"),ia=function(t){var e=Tt(t),n=Be.f;lt&&e&&!e[na]&&n(e,na,{configurable:!0,get:function(){return this}})},oa=TypeError,ra=function(t,e){if(Mt(e,t))return t;throw oa("Incorrect invocation")},aa=TypeError,sa=se("species"),ca=function(t,e){var n,i=De(t).constructor;return void 0===i||kt(n=De(i)[sa])?e:function(t){if(ji(t))return t;throw aa(Nt(t)+" is not a constructor")}(n)},la=TypeError,ua=function(t,e){if(t<e)throw la("Not enough arguments");return t},ha=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ot),fa=K.setImmediate,da=K.clearImmediate,pa=K.process,va=K.Dispatch,ga=K.Function,ma=K.MessageChannel,ya=K.String,_a=0,ka={},ba="onreadystatechange";F((function(){Jr=K.location}));var wa=function(t){if(Qt(ka,t)){var e=ka[t];delete ka[t],e()}},Ea=function(t){return function(){wa(t)}},Sa=function(t){wa(t.data)},xa=function(t){K.postMessage(ya(t),Jr.protocol+"//"+Jr.host)};fa&&da||(fa=function(t){ua(arguments.length,1);var e=ct(t)?t:ga(t),n=Eo(arguments,1);return ka[++_a]=function(){J(e,void 0,n)},Xr(_a),_a},da=function(t){delete ka[t]},ea?Xr=function(t){pa.nextTick(Ea(t))}:va&&va.now?Xr=function(t){va.now(Ea(t))}:ma&&!ha?(Qr=(Zr=new ma).port2,Zr.port1.onmessage=Sa,Xr=Ce(Qr.postMessage,Qr)):K.addEventListener&&ct(K.postMessage)&&!K.importScripts&&Jr&&"file:"!==Jr.protocol&&!F(xa)?(Xr=xa,K.addEventListener("message",Sa,!1)):Xr=ba in pe("script")?function(t){vn.appendChild(pe("script")).onreadystatechange=function(){vn.removeChild(this),wa(t)}}:function(t){setTimeout(Ea(t),0)});var Aa={set:fa,clear:da},Ca=function(){this.head=null,this.tail=null};Ca.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Ta,Ma,Oa,Da,Pa,Ia=Ca,Ra=/ipad|iphone|ipod/i.test(Ot)&&"undefined"!=typeof Pebble,za=/web0s(?!.*chrome)/i.test(Ot),$a=ye.f,Ga=Aa.set,ja=K.MutationObserver||K.WebKitMutationObserver,Ba=K.document,La=K.process,Na=K.Promise,Ua=$a(K,"queueMicrotask"),Va=Ua&&Ua.value;if(!Va){var Ka=new Ia,Fa=function(){var t,e;for(ea&&(t=La.domain)&&t.exit();e=Ka.get();)try{e()}catch(t){throw Ka.head&&Ta(),t}t&&t.enter()};ha||ea||za||!ja||!Ba?!Ra&&Na&&Na.resolve?((Da=Na.resolve(void 0)).constructor=Na,Pa=Ce(Da.then,Da),Ta=function(){Pa(Fa)}):ea?Ta=function(){La.nextTick(Fa)}:(Ga=Ce(Ga,K),Ta=function(){Ga(Fa)}):(Ma=!0,Oa=Ba.createTextNode(""),new ja(Fa).observe(Oa,{characterData:!0}),Ta=function(){Oa.data=Ma=!Ma}),Va=function(t){Ka.head||Ta(),Ka.add(t)}}var Ha,Wa,qa=Va,Ya=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ja=K.Promise,Xa="object"==("undefined"==typeof Deno?"undefined":G(Deno))&&Deno&&"object"==G(Deno.version),Za=!Xa&&!ea&&"object"==("undefined"==typeof window?"undefined":G(window))&&"object"==("undefined"==typeof document?"undefined":G(document)),Qa=Ja&&Ja.prototype,ts=se("species"),es=!1,ns=ct(K.PromiseRejectionEvent),is=xe("Promise",(function(){var t=Mi(Ja),e=t!==String(Ja);if(!e&&66===zt)return!0;if(!Qa.catch||!Qa.finally)return!0;if(!zt||zt<51||!/native code/.test(t)){var n=new Ja((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[ts]=i,!(es=n.then((function(){}))instanceof i))return!0}return!e&&(Za||Xa)&&!ns})),os={CONSTRUCTOR:is,REJECTION_EVENT:ns,SUBCLASSING:es},rs=TypeError,as=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw rs("Bad Promise constructor");e=t,n=i})),this.resolve=Vt(e),this.reject=Vt(n)},ss={f:function(t){return new as(t)}},cs=Aa.set,ls="Promise",us=os.CONSTRUCTOR,hs=os.REJECTION_EVENT,fs=Ai.getterFor(ls),ds=Ai.set,ps=Ja&&Ja.prototype,vs=Ja,gs=ps,ms=K.TypeError,ys=K.document,_s=K.process,ks=ss.f,bs=ks,ws=!!(ys&&ys.createEvent&&K.dispatchEvent),Es="unhandledrejection",Ss=function(t){var e;return!(!xt(t)||!ct(e=t.then))&&e},xs=function(t,e){var n,i,o,r=e.value,a=1==e.state,s=a?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&Os(e),e.rejection=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),o=!0)),n===t.promise?l(ms("Promise-chain cycle")):(i=Ss(n))?ht(i,n,c,l):c(n)):l(r)}catch(t){u&&!o&&u.exit(),l(t)}},As=function(t,e){t.notified||(t.notified=!0,qa((function(){for(var n,i=t.reactions;n=i.get();)xs(n,t);t.notified=!1,e&&!t.rejection&&Ts(t)})))},Cs=function(t,e,n){var i,o;ws?((i=ys.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),K.dispatchEvent(i)):i={promise:e,reason:n},!hs&&(o=K["on"+t])?o(i):t===Es&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},Ts=function(t){ht(cs,K,(function(){var e,n=t.facade,i=t.value;if(Ms(t)&&(e=Ya((function(){ea?_s.emit("unhandledRejection",i,n):Cs(Es,n,i)})),t.rejection=ea||Ms(t)?2:1,e.error))throw e.value}))},Ms=function(t){return 1!==t.rejection&&!t.parent},Os=function(t){ht(cs,K,(function(){var e=t.facade;ea?_s.emit("rejectionHandled",e):Cs("rejectionhandled",e,t.value)}))},Ds=function(t,e,n){return function(i){t(e,i,n)}},Ps=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,As(t,!0))},Is=function t(e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===n)throw ms("Promise can't be resolved itself");var o=Ss(n);o?qa((function(){var i={done:!1};try{ht(o,n,Ds(t,i,e),Ds(Ps,i,e))}catch(t){Ps(i,t,e)}})):(e.value=n,e.state=1,As(e,!1))}catch(t){Ps({done:!1},t,e)}}};us&&(gs=(vs=function(t){ra(this,gs),Vt(t),ht(Ha,this);var e=fs(this);try{t(Ds(Is,e),Ds(Ps,e))}catch(t){Ps(e,t)}}).prototype,(Ha=function(t){ds(this,{type:ls,done:!1,notified:!1,parent:!1,reactions:new Ia,rejection:!1,state:0,value:void 0})}).prototype=ui(gs,"then",(function(t,e){var n=fs(this),i=ks(ca(this,vs));return n.parent=!0,i.ok=!ct(t)||t,i.fail=ct(e)&&e,i.domain=ea?_s.domain:void 0,0==n.state?n.reactions.add(i):qa((function(){xs(i,n)})),i.promise})),Wa=function(){var t=new Ha,e=fs(t);this.promise=t,this.resolve=Ds(Is,e),this.reject=Ds(Ps,e)},ss.f=ks=function(t){return t===vs||void 0===t?new Wa(t):bs(t)}),Ve({global:!0,constructor:!0,wrap:!0,forced:us},{Promise:vs}),yi(vs,ls,!1,!0),ia(ls);var Rs=se("iterator"),zs=!1;try{var $s=0,Gs={next:function(){return{done:!!$s++}},return:function(){zs=!0}};Gs[Rs]=function(){return this},Array.from(Gs,(function(){throw 2}))}catch(t){}var js=os.CONSTRUCTOR||!function(t,e){if(!e&&!zs)return!1;var n=!1;try{var i={};i[Rs]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}((function(t){Ja.all(t).then(void 0,(function(){}))}));Ve({target:"Promise",stat:!0,forced:js},{all:function(t){var e=this,n=ss.f(e),i=n.resolve,o=n.reject,r=Ya((function(){var n=Vt(e.resolve),r=[],a=0,s=1;yr(t,(function(t){var c=a++,l=!1;s++,ht(n,e,t).then((function(t){l||(l=!0,r[c]=t,--s||i(r))}),o)})),--s||i(r)}));return r.error&&o(r.value),n.promise}});var Bs=os.CONSTRUCTOR;Ja&&Ja.prototype,Ve({target:"Promise",proto:!0,forced:Bs,real:!0},{catch:function(t){return this.then(void 0,t)}}),Ve({target:"Promise",stat:!0,forced:js},{race:function(t){var e=this,n=ss.f(e),i=n.reject,o=Ya((function(){var o=Vt(e.resolve);yr(t,(function(t){ht(o,e,t).then(n.resolve,i)}))}));return o.error&&i(o.value),n.promise}}),Ve({target:"Promise",stat:!0,forced:os.CONSTRUCTOR},{reject:function(t){var e=ss.f(this);return ht(e.reject,void 0,t),e.promise}});var Ls=function(t,e){if(De(t),xt(e)&&e.constructor===t)return e;var n=ss.f(t);return(0,n.resolve)(e),n.promise},Ns=os.CONSTRUCTOR,Us=Tt("Promise"),Vs=!Ns;Ve({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Ls(Vs&&this===Us?Ja:this,t)}}),Ve({target:"Promise",stat:!0,forced:js},{allSettled:function(t){var e=this,n=ss.f(e),i=n.resolve,o=n.reject,r=Ya((function(){var n=Vt(e.resolve),o=[],r=0,a=1;yr(t,(function(t){var s=r++,c=!1;a++,ht(n,e,t).then((function(t){c||(c=!0,o[s]={status:"fulfilled",value:t},--a||i(o))}),(function(t){c||(c=!0,o[s]={status:"rejected",reason:t},--a||i(o))}))})),--a||i(o)}));return r.error&&o(r.value),n.promise}});var Ks="No one promise resolved";Ve({target:"Promise",stat:!0,forced:js},{any:function(t){var e=this,n=Tt("AggregateError"),i=ss.f(e),o=i.resolve,r=i.reject,a=Ya((function(){var i=Vt(e.resolve),a=[],s=0,c=1,l=!1;yr(t,(function(t){var u=s++,h=!1;c++,ht(i,e,t).then((function(t){h||l||(l=!0,o(t))}),(function(t){h||l||(h=!0,a[u]=t,--c||r(new n(a,Ks)))}))})),--c||r(new n(a,Ks))}));return a.error&&r(a.value),i.promise}});var Fs=Ja&&Ja.prototype,Hs=!!Ja&&F((function(){Fs.finally.call({then:function(){}},(function(){}))}));Ve({target:"Promise",proto:!0,real:!0,forced:Hs},{finally:function(t){var e=ca(this,Tt("Promise")),n=ct(t);return this.then(n?function(n){return Ls(e,t()).then((function(){return n}))}:t,n?function(n){return Ls(e,t()).then((function(){throw n}))}:t)}});var Ws=tt("".charAt),qs=tt("".charCodeAt),Ys=tt("".slice),Js=function(t){return function(e,n){var i,o,r=Qn(wt(e)),a=Xe(n),s=r.length;return a<0||a>=s?t?"":void 0:(i=qs(r,a))<55296||i>56319||a+1===s||(o=qs(r,a+1))<56320||o>57343?t?Ws(r,a):i:t?Ys(r,a,a+2):o-56320+(i-55296<<10)+65536}},Xs=(Js(!1),Js(!0)),Zs="String Iterator",Qs=Ai.set,tc=Ai.getterFor(Zs);Fr(String,"String",(function(t){Qs(this,{type:Zs,string:Qn(t),index:0})}),(function(){var t,e=tc(this),n=e.string,i=e.index;return i>=n.length?Hr(void 0,!0):(t=Xs(n,i),e.index+=t.length,Hr(t,!1))})),L(ta);var ec=At.Promise,nc=se("toStringTag");for(var ic in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var oc=K[ic],rc=oc&&oc.prototype;rc&&Xn(rc)!==nc&&Le(rc,nc,ic),cr[ic]=cr.Array}var ac=ec,sc=TypeError,cc=function(t){if(t>9007199254740991)throw sc("Maximum allowed index exceeded");return t},lc=se("species"),uc=function(t){return zt>=51||!F((function(){var e=[];return(e.constructor={})[lc]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},hc=se("isConcatSpreadable"),fc=zt>=51||!F((function(){var t=[];return t[hc]=!1,t.concat()[0]!==t})),dc=function(t){if(!xt(t))return!1;var e=t[hc];return void 0!==e?!!e:Ci(t)},pc=!fc||!uc("concat");Ve({target:"Array",proto:!0,arity:1,forced:pc},{concat:function(t){var e,n,i,o,r,a=Xt(this),s=Ni(a,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(dc(r=-1===e?a:arguments[e]))for(o=on(r),cc(c+o),n=0;n<o;n++,c++)n in r&&ii(s,c,r[n]);else cc(c+1),ii(s,c++,r);return s.length=c,s}}),di("asyncIterator");var vc=Object.freeze({__proto__:null});di("hasInstance"),di("isConcatSpreadable"),di("iterator"),di("match"),di("matchAll"),di("replace"),di("search"),di("species"),di("split"),di("toPrimitive"),pi(),di("toStringTag"),yi(Tt("Symbol"),"Symbol"),di("unscopables"),yi(K.JSON,"JSON",!0);var gc=Object.freeze({__proto__:null}),mc=Object.freeze({__proto__:null});L(vc),L(gc),L(mc);var yc=At.Symbol;hi.f("iterator");var _c=fr,kc=jn("Array").concat,bc=Array.prototype,wc=function(t){var e=t.concat;return t===bc||Mt(bc,t)&&e===bc.concat?kc:e},Ec=wc,Sc=uc("slice"),xc=se("species"),Ac=Array,Cc=Math.max;Ve({target:"Array",proto:!0,forced:!Sc},{slice:function(t,e){var n,i,o,r=Et(this),a=on(r),s=tn(t,a),c=tn(void 0===e?a:e,a);if(Ci(r)&&(n=r.constructor,(ji(n)&&(n===Ac||Ci(n.prototype))||xt(n)&&null===(n=n[xc]))&&(n=void 0),n===Ac||void 0===n))return Eo(r,s,c);for(i=new(void 0===n?Ac:n)(Cc(c-s,0)),o=0;s<c;s++,o++)s in r&&ii(i,o,r[s]);return i.length=o,i}});var Tc=jn("Array").slice,Mc=Array.prototype,Oc=function(t){var e=t.slice;return t===Mc||Mt(Mc,t)&&e===Mc.slice?Tc:e},Dc=Oc;function Pc(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Uo(e,n):i;"undefined"==typeof Reflect||G(Reflect);for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Fo(e,n,a),a}hi.f("asyncIterator"),At.JSON||(At.JSON={stringify:JSON.stringify});var Ic=function(t,e,n){return J(At.JSON.stringify,null,arguments)},Rc=Ic,zc=F((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),$c=Object.isExtensible,Gc=F((function(){$c(1)}))||zc?function(t){return!!xt(t)&&(!zc||"ArrayBuffer"!=it(t))&&(!$c||$c(t))}:$c,jc=!F((function(){return Object.isExtensible(Object.preventExtensions({}))})),Bc=B((function(t){var e=Be.f,n=!1,i=ie("meta"),o=0,r=function(t){e(t,i,{value:{objectID:"O"+o++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},n=!0;var t=ni.f,e=tt([].splice),o={};o[i]=1,t(o).length&&(ni.f=function(n){for(var o=t(n),r=0,a=o.length;r<a;r++)if(o[r]===i){e(o,r,1);break}return o},Ve({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:li.f}))},fastKey:function(t,e){if(!xt(t))return"symbol"==G(t)?t:("string"==typeof t?"S":"P")+t;if(!Qt(t,i)){if(!Gc(t))return"F";if(!e)return"E";r(t)}return t[i].objectID},getWeakData:function(t,e){if(!Qt(t,i)){if(!Gc(t))return!0;if(!e)return!1;r(t)}return t[i].weakData},onFreeze:function(t){return jc&&n&&Gc(t)&&!Qt(t,i)&&r(t),t}};sn[i]=!0}));Bc.enable,Bc.fastKey,Bc.getWeakData,Bc.onFreeze;var Lc=Be.f,Nc=Ki.forEach,Uc=Ai.set,Vc=Ai.getterFor,Kc=function(t,e,n){var i,o=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),a=o?"set":"add",s=K[t],c=s&&s.prototype,l={};if(lt&&ct(s)&&(r||c.forEach&&!F((function(){(new s).entries().next()})))){var u=(i=e((function(e,n){Uc(ra(e,u),{type:t,collection:new s}),null!=n&&yr(n,e[a],{that:e,AS_ENTRIES:o})}))).prototype,h=Vc(t);Nc(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||r&&"clear"==t||Le(u,t,(function(n,i){var o=h(this).collection;if(!e&&r&&!xt(n))return"get"==t&&void 0;var a=o[t](0===n?0:n,i);return e?this:a}))})),r||Lc(u,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,o,a),Bc.enable();return yi(i,t,!1,!0),l[t]=i,Ve({global:!0,forced:!0},l),r||n.setStrong(i,t,o),i},Fc=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:ui(t,i,e[i],n);return t},Hc=Be.f,Wc=Bc.fastKey,qc=Ai.set,Yc=Ai.getterFor,Jc={getConstructor:function(t,e,n,i){var o=t((function(t,o){ra(t,r),qc(t,{type:e,index:En(null),first:void 0,last:void 0,size:0}),lt||(t.size=0),kt(o)||yr(o,t[i],{that:t,AS_ENTRIES:n})})),r=o.prototype,a=Yc(e),s=function(t,e,n){var i,o,r=a(t),s=c(t,e);return s?s.value=n:(r.last=s={index:o=Wc(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=s),i&&(i.next=s),lt?r.size++:t.size++,"F"!==o&&(r.index[o]=s)),t},c=function(t,e){var n,i=a(t),o=Wc(e);if("F"!==o)return i.index[o];for(n=i.first;n;n=n.next)if(n.key==e)return n};return Fc(r,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,lt?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),i=c(e,t);if(i){var o=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),n.first==i&&(n.first=o),n.last==i&&(n.last=r),lt?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=a(this),i=Ce(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Fc(r,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),lt&&Hc(r,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var i=e+" Iterator",o=Yc(e),r=Yc(i);Fr(t,e,(function(t,e){qc(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?Hr("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,Hr(void 0,!0))}),n?"entries":"values",!n,!0),ia(e)}};Kc("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Jc);var Xc=At.Map,Zc=Ki.forEach,Qc=In("forEach")?[].forEach:function(t){return Zc(this,t,arguments.length>1?arguments[1]:void 0)};Ve({target:"Array",proto:!0,forced:[].forEach!=Qc},{forEach:Qc});var tl=jn("Array").forEach,el=Array.prototype,nl={DOMTokenList:!0,NodeList:!0},il=function(t){var e=t.forEach;return t===el||Mt(el,t)&&e===el.forEach||Qt(nl,Xn(t))?tl:e},ol=F((function(){Jo(1)}));Ve({target:"Object",stat:!0,forced:ol,sham:!Ho},{getPrototypeOf:function(t){return Jo(Xt(t))}});var rl=At.Object.getPrototypeOf,al=li.f,sl=F((function(){return!Object.getOwnPropertyNames(1)}));Ve({target:"Object",stat:!0,forced:sl},{getOwnPropertyNames:al});var cl=At.Object,ll=function(t){return cl.getOwnPropertyNames(t)},ul=ll;Ve({target:"Array",stat:!0},{isArray:Ci});var hl=At.Array.isArray;Kc("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Jc);var fl=At.Set,dl=tt([].reverse),pl=[1,2];Ve({target:"Array",proto:!0,forced:String(pl)===String(pl.reverse())},{reverse:function(){return Ci(this)&&(this.length=this.length),dl(this)}});var vl=jn("Array").reverse,gl=Array.prototype,ml=function(t){var e=t.reverse;return t===gl||Mt(gl,t)&&e===gl.reverse?vl:e},yl=ml,_l=function t(e,n,i,o,r,a,s,c){for(var l,u=r,h=0,f=!!s&&Ce(s,c);h<o;)h in i&&(l=f?f(i[h],h,n):i[h],a>0&&Ci(l)?u=t(e,n,l,on(l),u,a-1)-1:(cc(u+1),e[u]=l),u++),h++;return u};Ve({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Xt(this),n=on(e),i=Ni(e,0);return i.length=_l(i,e,e,n,0,void 0===t?1:Xe(t)),i}});var kl=jn("Array").flat,bl=Array.prototype,wl=function(t){var e=t.flat;return t===bl||Mt(bl,t)&&e===bl.flat?kl:e},El=wl,Sl=TypeError,xl=Object.getOwnPropertyDescriptor,Al=lt&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Ci(t)&&!xl(t,"length").writable)throw Sl("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Cl=TypeError,Tl=function(t,e){if(!delete t[e])throw Cl("Cannot delete property "+Nt(e)+" of "+Nt(t))},Ml=uc("splice"),Ol=Math.max,Dl=Math.min;Ve({target:"Array",proto:!0,forced:!Ml},{splice:function(t,e){var n,i,o,r,a,s,c=Xt(this),l=on(c),u=tn(t,l),h=arguments.length;for(0===h?n=i=0:1===h?(n=0,i=l-u):(n=h-2,i=Dl(Ol(Xe(e),0),l-u)),cc(l+n-i),o=Ni(c,i),r=0;r<i;r++)(a=u+r)in c&&ii(o,r,c[a]);if(o.length=i,n<i){for(r=u;r<l-i;r++)s=r+n,(a=r+i)in c?c[s]=c[a]:Tl(c,s);for(r=l;r>l-i+n;r--)Tl(c,r-1)}else if(n>i)for(r=l-i;r>u;r--)s=r+n-1,(a=r+i-1)in c?c[s]=c[a]:Tl(c,s);for(r=0;r<n;r++)c[r+u]=arguments[r+2];return Al(c,l-i+n),o}});var Pl=jn("Array").splice,Il=Array.prototype,Rl=function(t){var e=t.splice;return t===Il||Mt(Il,t)&&e===Il.splice?Pl:e},zl=Rl,$l=Bc.getWeakData,Gl=Ai.set,jl=Ai.getterFor,Bl=Ki.find,Ll=Ki.findIndex,Nl=tt([].splice),Ul=0,Vl=function(t){return t.frozen||(t.frozen=new Kl)},Kl=function(){this.entries=[]},Fl=function(t,e){return Bl(t.entries,(function(t){return t[0]===e}))};Kl.prototype={get:function(t){var e=Fl(this,t);if(e)return e[1]},has:function(t){return!!Fl(this,t)},set:function(t,e){var n=Fl(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Ll(this.entries,(function(e){return e[0]===t}));return~e&&Nl(this.entries,e,1),!!~e}};var Hl,Wl={getConstructor:function(t,e,n,i){var o=t((function(t,o){ra(t,r),Gl(t,{type:e,id:Ul++,frozen:void 0}),kt(o)||yr(o,t[i],{that:t,AS_ENTRIES:n})})),r=o.prototype,a=jl(e),s=function(t,e,n){var i=a(t),o=$l(De(e),!0);return!0===o?Vl(i).set(e,n):o[i.id]=n,t};return Fc(r,{delete:function(t){var e=a(this);if(!xt(t))return!1;var n=$l(t);return!0===n?Vl(e).delete(t):n&&Qt(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!xt(t))return!1;var n=$l(t);return!0===n?Vl(e).has(t):n&&Qt(n,e.id)}}),Fc(r,n?{get:function(t){var e=a(this);if(xt(t)){var n=$l(t);return!0===n?Vl(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),o}},ql=Ai.enforce,Yl=Object,Jl=Array.isArray,Xl=Yl.isExtensible,Zl=Yl.isFrozen,Ql=Yl.isSealed,tu=Yl.freeze,eu=Yl.seal,nu={},iu={},ou=!K.ActiveXObject&&"ActiveXObject"in K,ru=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},au=Kc("WeakMap",ru,Wl),su=au.prototype,cu=tt(su.set);if(ki)if(ou){Hl=Wl.getConstructor(ru,"WeakMap",!0),Bc.enable();var lu=tt(su.delete),uu=tt(su.has),hu=tt(su.get);Fc(su,{delete:function(t){if(xt(t)&&!Xl(t)){var e=ql(this);return e.frozen||(e.frozen=new Hl),lu(this,t)||e.frozen.delete(t)}return lu(this,t)},has:function(t){if(xt(t)&&!Xl(t)){var e=ql(this);return e.frozen||(e.frozen=new Hl),uu(this,t)||e.frozen.has(t)}return uu(this,t)},get:function(t){if(xt(t)&&!Xl(t)){var e=ql(this);return e.frozen||(e.frozen=new Hl),uu(this,t)?hu(this,t):e.frozen.get(t)}return hu(this,t)},set:function(t,e){if(xt(t)&&!Xl(t)){var n=ql(this);n.frozen||(n.frozen=new Hl),uu(this,t)?cu(this,t,e):n.frozen.set(t,e)}else cu(this,t,e);return this}})}else jc&&F((function(){var t=tu([]);return cu(new au,t,1),!Zl(t)}))&&Fc(su,{set:function(t,e){var n;return Jl(t)&&(Zl(t)?n=nu:Ql(t)&&(n=iu)),cu(this,t,e),n==nu&&tu(t),n==iu&&eu(t),this}});var fu=At.WeakMap,du=TypeError,pu=function(t){return function(e,n,i,o){Vt(n);var r=Xt(e),a=_t(r),s=on(r),c=t?s-1:0,l=t?-1:1;if(i<2)for(;;){if(c in a){o=a[c],c+=l;break}if(c+=l,t?c<0:s<=c)throw du("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=l)c in a&&(o=n(o,a[c],c,r));return o}},vu=[pu(!1),pu(!0)][0],gu=!ea&&zt>79&&zt<83||!In("reduce");Ve({target:"Array",proto:!0,forced:gu},{reduce:function(t){var e=arguments.length;return vu(this,t,e,e>1?arguments[1]:void 0)}});var mu=jn("Array").reduce,yu=Array.prototype,_u=function(t){var e=t.reduce;return t===yu||Mt(yu,t)&&e===yu.reduce?mu:e},ku=_u,bu=Ki.map,wu=uc("map");Ve({target:"Array",proto:!0,forced:!wu},{map:function(t){return bu(this,t,arguments.length>1?arguments[1]:void 0)}});var Eu,Su=jn("Array").map,xu=Array.prototype,Au=function(t){var e=t.map;return t===xu||Mt(xu,t)&&e===xu.map?Su:e},Cu=Au,Tu=window,Mu=Tu.ShadowRoot&&(void 0===Tu.ShadyCSS||Tu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ou=yc(),Du=new fu,Pu=function(){function t(e,n,i){if(R(this,t),this._$cssResult$=!0,i!==Ou)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}return $(t,[{key:"styleSheet",get:function(){var t=this.o,e=this.t;if(Mu&&void 0===t){var n=void 0!==e&&1===e.length;n&&(t=Du.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&Du.set(e,t))}return t}},{key:"toString",value:function(){return this.cssText}}]),t}(),Iu=function(t){return new Pu("string"==typeof t?t:t+"",void 0,Ou)},Ru=Mu?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var e,n="",i=D(t.cssRules);try{for(i.s();!(e=i.n()).done;)n+=e.value.cssText}catch(t){i.e(t)}finally{i.f()}return Iu(n)}(t):t},zu=window,$u=zu.trustedTypes,Gu=$u?$u.emptyScript:"",ju=zu.reactiveElementPolyfillSupport,Bu={toAttribute:function(t,e){switch(e){case Boolean:t=t?Gu:null;break;case Object:case Array:t=null==t?t:Rc(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},Lu=function(t,e){return e!==t&&(e==e||t==t)},Nu={attribute:!0,type:String,converter:Bu,reflect:!1,hasChanged:Lu},Uu=function(t){w(i,t);var e,n=E(i);function i(){var t;return R(this,i),(t=n.call(this))._$Ei=new Xc,t.isUpdatePending=!1,t.hasUpdated=!1,t._$El=null,t.u(),t}return $(i,[{key:"u",value:function(){var t,e=this;this._$E_=new ac((function(t){return e.enableUpdating=t})),this._$AL=new Xc,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||il(t).call(t,(function(t){return t(e)}))}},{key:"addController",value:function(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}},{key:"removeController",value:function(t){var e,n;null===(n=this._$ES)||void 0===n||zl(n).call(n,Un(e=this._$ES).call(e,t)>>>0,1)}},{key:"_$Eg",value:function(){var t,e=this;il(t=this.constructor.elementProperties).call(t,(function(t,n){e.hasOwnProperty(n)&&(e._$Ei.set(n,e[n]),delete e[n])}))}},{key:"createRenderRoot",value:function(){var t,e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function(t,e){Mu?t.adoptedStyleSheets=Cu(e).call(e,(function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):il(e).call(e,(function(e){var n=document.createElement("style"),i=Tu.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}))}(e,this.constructor.elementStyles),e}},{key:"connectedCallback",value:function(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||il(t).call(t,(function(t){var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}},{key:"enableUpdating",value:function(t){}},{key:"disconnectedCallback",value:function(){var t;null===(t=this._$ES)||void 0===t||il(t).call(t,(function(t){var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}},{key:"attributeChangedCallback",value:function(t,e,n){this._$AK(t,n)}},{key:"_$EO",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu,o=this.constructor._$Ep(t,i);if(void 0!==o&&!0===i.reflect){var r=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:Bu).toAttribute(e,i.type);this._$El=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}},{key:"_$AK",value:function(t,e){var n,i=this.constructor,o=i._$Ev.get(t);if(void 0!==o&&this._$El!==o){var r=i.getPropertyOptions(o),a="function"==typeof r.converter?{fromAttribute:r.converter}:void 0!==(null===(n=r.converter)||void 0===n?void 0:n.fromAttribute)?r.converter:Bu;this._$El=o,this[o]=a.fromAttribute(e,r.type),this._$El=null}}},{key:"requestUpdate",value:function(t,e,n){var i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||Lu)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Xc),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(e=b(_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isUpdatePending=!0,t.prev=1,t.next=4,this._$E_;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),ac.reject(t.t0);case 9:if(e=this.scheduleUpdate(),t.t1=null!=e,!t.t1){t.next=14;break}return t.next=14,e;case 14:return t.abrupt("return",!this.isUpdatePending);case 15:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(){return e.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var t,e,n=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(il(t=this._$Ei).call(t,(function(t,e){return n[e]=t})),this._$Ei=void 0);var i=!1,o=this._$AL;try{(i=this.shouldUpdate(o))?(this.willUpdate(o),null===(e=this._$ES)||void 0===e||il(e).call(e,(function(t){var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(o)):this._$Ek()}catch(e){throw i=!1,this._$Ek(),e}i&&this._$AE(o)}}},{key:"willUpdate",value:function(t){}},{key:"_$AE",value:function(t){var e;null===(e=this._$ES)||void 0===e||il(e).call(e,(function(t){var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function(){this._$AL=new Xc,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e,n=this;void 0!==this._$EC&&(il(e=this._$EC).call(e,(function(t,e){return n._$EO(e,n[e],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}}],[{key:"addInitializer",value:function(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}},{key:"observedAttributes",get:function(){var t,e=this;this.finalize();var n=[];return il(t=this.elementProperties).call(t,(function(t,i){var o=e._$Ep(i,t);void 0!==o&&(e._$Ev.set(o,i),n.push(o))})),n}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"==G(t)?yc():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Fo(this.prototype,t,i)}}},{key:"getPropertyDescriptor",value:function(t,e,n){return{get:function(){return this[e]},set:function(i){var o=this[t];this[e]=i,this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){return this.elementProperties.get(t)||Nu}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=rl(this);if(t.finalize(),this.elementProperties=new Xc(t.elementProperties),this._$Ev=new Xc,this.hasOwnProperty("properties")){var e,n=this.properties,i=D([].concat(y(ul(n)),y(jo(n))));try{for(i.s();!(e=i.n()).done;){var o=e.value;this.createProperty(o,n[o])}}catch(t){i.e(t)}finally{i.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(t){var e=[];if(hl(t)){var n,i,o=D(new fl(yl(n=El(t).call(t,1/0)).call(n)));try{for(o.s();!(i=o.n()).done;){var r=i.value;e.unshift(Ru(r))}}catch(t){o.e(t)}finally{o.f()}}else void 0!==t&&e.push(Ru(t));return e}},{key:"_$Ep",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}}]),i}(A(HTMLElement));Uu.finalized=!0,Uu.elementProperties=new Xc,Uu.elementStyles=[],Uu.shadowRootOptions={mode:"open"},null==ju||ju({ReactiveElement:Uu}),(null!==(Eu=zu.reactiveElementVersions)&&void 0!==Eu?Eu:zu.reactiveElementVersions=[]).push("1.4.1");var Vu=At.Symbol.for,Ku=se("match"),Fu=TypeError,Hu=function(t){if(function(t){var e;return xt(t)&&(void 0!==(e=t[Ku])?!!e:"RegExp"==it(t))}(t))throw Fu("The method doesn't accept regular expressions");return t},Wu=se("match"),qu=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Wu]=!1,"/./"[t](e)}catch(t){}}return!1},Yu=ot("".startsWith),Ju=ot("".slice),Xu=Math.min,Zu=qu("startsWith");Ve({target:"String",proto:!0,forced:!Zu},{startsWith:function(t){var e=Qn(wt(this));Hu(t);var n=nn(Xu(arguments.length>1?arguments[1]:void 0,e.length)),i=Qn(t);return Yu?Yu(e,i,n):Ju(e,n,n+i.length)===i}});var Qu=jn("String").startsWith,th=String.prototype,eh=function(t){var e=t.startsWith;return"string"==typeof t||t===th||Mt(th,t)&&e===th.startsWith?Qu:e},nh=eh,ih=ot("".endsWith),oh=ot("".slice),rh=Math.min,ah=qu("endsWith");Ve({target:"String",proto:!0,forced:!ah},{endsWith:function(t){var e=Qn(wt(this));Hu(t);var n=arguments.length>1?arguments[1]:void 0,i=e.length,o=void 0===n?i:rh(nn(n),i),r=Qn(t);return ih?ih(e,r,o):oh(e,o-r.length,o)===r}});var sh=jn("String").endsWith,ch=String.prototype,lh=function(t){var e=t.endsWith;return"string"==typeof t||t===ch||Mt(ch,t)&&e===ch.endsWith?sh:e},uh=lh,hh=jn("Array").values,fh=Array.prototype,dh={DOMTokenList:!0,NodeList:!0},ph=function(t){var e=t.values;return t===fh||Mt(fh,t)&&e===fh.values||Qt(dh,Xn(t))?hh:e};Ve({target:"Array",proto:!0},{fill:function(t){for(var e=Xt(this),n=on(e),i=arguments.length,o=tn(i>1?arguments[1]:void 0,n),r=i>2?arguments[2]:void 0,a=void 0===r?n:tn(r,n);a>o;)e[o++]=t;return e}});var vh,gh,mh=jn("Array").fill,yh=Array.prototype,_h=function(t){var e=t.fill;return t===yh||Mt(yh,t)&&e===yh.fill?mh:e},kh=_h,bh=window,wh=bh.trustedTypes,Eh=wh?wh.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,Sh="lit$".concat(Dc(vh=Math.random()+"").call(vh,9),"$"),xh="?"+Sh,Ah="<".concat(xh,">"),Ch=document,Th=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ch.createComment(t)},Mh=function(t){return null===t||"object"!=G(t)&&"function"!=typeof t},Oh=hl,Dh=function(t){return Oh(t)||"function"==typeof(null==t?void 0:_c(t))},Ph=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ih=/-->/g,Rh=/>/g,zh=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),$h=/'/g,Gh=/"/g,jh=/^(?:script|style|textarea|title)$/i,Bh=function(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return{_$litType$:t,strings:e,values:i}}}(1),Lh=Vu("lit-noChange"),Nh=Vu("lit-nothing"),Uh=new fu,Vh=Ch.createTreeWalker(Ch,129,null,!1),Kh=function(){function t(e,n){var i,o=e.strings,r=e._$litType$;R(this,t),this.parts=[];var a=0,s=0,c=o.length-1,l=this.parts,u=function(t,e){for(var n,i=t.length-1,o=[],r=2===e?"<svg>":"",a=Ph,s=0;s<i;s++){for(var c,l=t[s],u=void 0,h=void 0,f=-1,d=0;d<l.length&&(a.lastIndex=d,null!==(h=a.exec(l)));)d=a.lastIndex,a===Ph?"!--"===h[1]?a=Ih:void 0!==h[1]?a=Rh:void 0!==h[2]?(jh.test(h[2])&&(n=RegExp("</"+h[2],"g")),a=zh):void 0!==h[3]&&(a=zh):a===zh?">"===h[0]?(a=null!=n?n:Ph,f=-1):void 0===h[1]?f=-2:(f=a.lastIndex-h[2].length,u=h[1],a=void 0===h[3]?zh:'"'===h[3]?Gh:$h):a===Gh||a===$h?a=zh:a===Ih||a===Rh?a=Ph:(a=zh,n=void 0);var p=a===zh&&nh(c=t[s+1]).call(c,"/>")?" ":"";r+=a===Ph?l+Ah:f>=0?(o.push(u),Dc(l).call(l,0,f)+"$lit$"+Dc(l).call(l,f)+Sh+p):l+Sh+(-2===f?(o.push(void 0),s):p)}var v=r+(t[i]||"<?>")+(2===e?"</svg>":"");if(!hl(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==Eh?Eh.createHTML(v):v,o]}(o,r),h=m(u,2),f=h[0],d=h[1];if(this.el=t.createElement(f,n),Vh.currentNode=this.el.content,2===r){var p=this.el.content,v=p.firstChild;v.remove(),p.append.apply(p,y(v.childNodes))}for(;null!==(i=Vh.nextNode())&&l.length<c;){if(1===i.nodeType){if(i.hasAttributes()){var g,_=[],k=D(i.getAttributeNames());try{for(k.s();!(g=k.n()).done;){var b=g.value;if(uh(b).call(b,"$lit$")||nh(b).call(b,Sh)){var w=d[s++];if(_.push(b),void 0!==w){var E=i.getAttribute(w.toLowerCase()+"$lit$").split(Sh),S=/([.?@])?(.*)/.exec(w);l.push({type:1,index:a,name:S[2],strings:E,ctor:"."===S[1]?Yh:"?"===S[1]?Xh:"@"===S[1]?Zh:qh})}else l.push({type:6,index:a})}}}catch(t){k.e(t)}finally{k.f()}for(var x=0,A=_;x<A.length;x++){var C=A[x];i.removeAttribute(C)}}if(jh.test(i.tagName)){var T=i.textContent.split(Sh),M=T.length-1;if(M>0){i.textContent=wh?wh.emptyScript:"";for(var O=0;O<M;O++)i.append(T[O],Th()),Vh.nextNode(),l.push({type:2,index:++a});i.append(T[M],Th())}}}else if(8===i.nodeType)if(i.data===xh)l.push({type:2,index:a});else for(var P=-1;-1!==(P=Un(I=i.data).call(I,Sh,P+1));){var I;l.push({type:7,index:a}),P+=Sh.length-1}a++}}return $(t,null,[{key:"createElement",value:function(t,e){var n=Ch.createElement("template");return n.innerHTML=t,n}}]),t}();function Fh(t,e){var n,i,o,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=arguments.length>3?arguments[3]:void 0;if(e===Lh)return e;var c=void 0!==s?null===(n=a._$Cl)||void 0===n?void 0:n[s]:a._$Cu,l=Mh(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(i=null==c?void 0:c._$AO)||void 0===i||i.call(c,!1),void 0===l?c=void 0:(c=new l(t))._$AT(t,a,s),void 0!==s?(null!==(o=(r=a)._$Cl)&&void 0!==o?o:r._$Cl=[])[s]=c:a._$Cu=c),void 0!==c&&(e=Fh(t,c._$AS(t,ph(e)),c,s)),e}var Hh=function(){function t(e,n){R(this,t),this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=n}return $(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(t){var e,n=this._$AD,i=n.el.content,o=n.parts,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:Ch).importNode(i,!0);Vh.currentNode=r;for(var a=Vh.nextNode(),s=0,c=0,l=o[0];void 0!==l;){if(s===l.index){var u=void 0;2===l.type?u=new Wh(a,a.nextSibling,this,t):1===l.type?u=new l.ctor(a,l.name,l.strings,this,t):6===l.type&&(u=new Qh(a,this,t)),this.v.push(u),l=o[++c]}s!==(null==l?void 0:l.index)&&(a=Vh.nextNode(),s++)}return r}},{key:"m",value:function(t){var e,n=0,i=D(this.v);try{for(i.s();!(e=i.n()).done;){var o=e.value;void 0!==o&&(void 0!==o.strings?(o._$AI(t,o,n),n+=o.strings.length-2):o._$AI(t[n])),n++}}catch(t){i.e(t)}finally{i.f()}}}]),t}(),Wh=function(){function t(e,n,i,o){var r;R(this,t),this.type=2,this._$AH=Nh,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=o,this._$C_=null===(r=null==o?void 0:o.isConnected)||void 0===r||r}return $(t,[{key:"_$AU",get:function(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}},{key:"parentNode",get:function(){var t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=Fh(this,t,e),Mh(t)?t===Nh||null==t||""===t?(this._$AH!==Nh&&this._$AR(),this._$AH=Nh):t!==this._$AH&&t!==Lh&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):Dh(t)?this.O(t):this.$(t)}},{key:"S",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,e)}},{key:"k",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}},{key:"$",value:function(t){this._$AH!==Nh&&Mh(this._$AH)?this._$AA.nextSibling.data=t:this.k(Ch.createTextNode(t)),this._$AH=t}},{key:"T",value:function(t){var e,n=t.values,i=t._$litType$,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Kh.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.m(n);else{var r=new Hh(o,this),a=r.p(this.options);r.m(n),this.k(a),this._$AH=r}}},{key:"_$AC",value:function(t){var e=Uh.get(t.strings);return void 0===e&&Uh.set(t.strings,e=new Kh(t)),e}},{key:"O",value:function(e){Oh(this._$AH)||(this._$AH=[],this._$AR());var n,i,o=this._$AH,r=0,a=D(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;r===o.length?o.push(n=new t(this.S(Th()),this.S(Th()),this,this.options)):n=o[r],n._$AI(s),r++}}catch(t){a.e(t)}finally{a.f()}r<o.length&&(this._$AR(n&&n._$AB.nextSibling,r),o.length=r)}},{key:"_$AR",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,n);e&&e!==this._$AB;){var i=e.nextSibling;e.remove(),e=i}}},{key:"setConnected",value:function(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}]),t}(),qh=function(){function t(e,n,i,o,r){var a;R(this,t),this.type=1,this._$AH=Nh,this._$AN=void 0,this.element=e,this.name=n,this._$AM=o,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=kh(a=Array(i.length-1)).call(a,new String),this.strings=i):this._$AH=Nh}return $(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.strings,r=!1;if(void 0===o)t=Fh(this,t,e,0),(r=!Mh(t)||t!==this._$AH&&t!==Lh)&&(this._$AH=t);else{var a,s,c=t;for(t=o[0],a=0;a<o.length-1;a++)(s=Fh(this,c[n+a],e,a))===Lh&&(s=this._$AH[a]),r||(r=!Mh(s)||s!==this._$AH[a]),s===Nh?t=Nh:t!==Nh&&(t+=(null!=s?s:"")+o[a+1]),this._$AH[a]=s}r&&!i&&this.P(t)}},{key:"P",value:function(t){t===Nh?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),t}(),Yh=function(t){w(n,t);var e=E(n);function n(){var t;return R(this,n),(t=e.apply(this,arguments)).type=3,t}return $(n,[{key:"P",value:function(t){this.element[this.name]=t===Nh?void 0:t}}]),n}(qh),Jh=wh?wh.emptyScript:"",Xh=function(t){w(n,t);var e=E(n);function n(){var t;return R(this,n),(t=e.apply(this,arguments)).type=4,t}return $(n,[{key:"P",value:function(t){t&&t!==Nh?this.element.setAttribute(this.name,Jh):this.element.removeAttribute(this.name)}}]),n}(qh),Zh=function(t){w(n,t);var e=E(n);function n(t,i,o,r,a){var s;return R(this,n),(s=e.call(this,t,i,o,r,a)).type=5,s}return $(n,[{key:"_$AI",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(e=Fh(this,t,n,0))&&void 0!==e?e:Nh)!==Lh){var i=this._$AH,o=t===Nh&&i!==Nh||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==Nh&&(i===Nh||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}]),n}(qh),Qh=function(){function t(e,n,i){R(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}return $(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){Fh(this,t)}}]),t}(),tf=bh.litHtmlPolyfillSupport;null==tf||tf(Kh,Wh),(null!==(gh=bh.litHtmlVersions)&&void 0!==gh?gh:bh.litHtmlVersions=[]).push("2.3.1"),Ve({global:!0,forced:K.globalThis!==K},{globalThis:K});var ef,nf,of=K,rf=function(t){w(n,t);var e=E(n);function n(){var t;return R(this,n),(t=e.apply(this,arguments)).renderOptions={host:x(t)},t._$Do=void 0,t}return $(n,[{key:"createRenderRoot",value:function(){var t,e,i=v(O(n.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}},{key:"update",value:function(t){var e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),v(O(n.prototype),"update",this).call(this,t),this._$Do=function(t,e,n){var i,o,r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e,a=r._$litPart$;if(void 0===a){var s=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=a=new Wh(e.insertBefore(Th(),s),s,void 0,null!=n?n:{})}return a._$AI(t),a}(e,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var t;v(O(n.prototype),"connectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var t;v(O(n.prototype),"disconnectedCallback",this).call(this),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}},{key:"render",value:function(){return Lh}}]),n}(Uu);rf.finalized=!0,rf._$litElement$=!0,null===(ef=of.litElementHydrateSupport)||void 0===ef||ef.call(of,{LitElement:rf});var af=of.litElementPolyfillSupport;null==af||af({LitElement:rf}),(null!==(nf=of.litElementVersions)&&void 0!==nf?nf:of.litElementVersions=[]).push("3.2.2");var sf=Ki.filter,cf=uc("filter");Ve({target:"Array",proto:!0,forced:!cf},{filter:function(t){return sf(this,t,arguments.length>1?arguments[1]:void 0)}});var lf=jn("Array").filter,uf=Array.prototype,hf=function(t){var e=t.filter;return t===uf||Mt(uf,t)&&e===uf.filter?lf:e},ff=hf,df=F((function(){fn(1)}));Ve({target:"Object",stat:!0,forced:df},{keys:function(t){return fn(Xt(t))}});var pf,vf=At.Object.keys,gf=1,mf=2,yf=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return{_$litDirective$:t,values:n}}},_f=function(){function t(e){R(this,t)}return $(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}},{key:"_$AS",value:function(t,e){return this.update(t,e)}},{key:"update",value:function(t,e){return this.render.apply(this,y(e))}}]),t}(),kf=yf(function(t){w(n,t);var e=E(n);function n(t){var i,o;if(R(this,n),i=e.call(this,t),t.type!==gf||"class"!==t.name||(null===(o=t.strings)||void 0===o?void 0:o.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return S(i)}return $(n,[{key:"render",value:function(t){var e;return" "+ff(e=vf(t)).call(e,(function(e){return t[e]})).join(" ")+" "}},{key:"update",value:function(t,e){var n,i,o,r=this,a=m(e,1)[0];if(void 0===this.nt){var s;for(var c in this.nt=new fl,void 0!==t.strings&&(this.st=new fl(ff(s=t.strings.join(" ").split(/\s/)).call(s,(function(t){return""!==t})))),a)a[c]&&!(null===(i=this.st)||void 0===i?void 0:i.has(c))&&this.nt.add(c);return this.render(a)}var l=t.element.classList;for(var u in il(n=this.nt).call(n,(function(t){t in a||(l.remove(t),r.nt.delete(t))})),a){var h=!!a[u];h===this.nt.has(u)||(null===(o=this.st)||void 0===o?void 0:o.has(u))||(h?(l.add(u),this.nt.add(u)):(l.remove(u),this.nt.delete(u)))}return Lh}}]),n}(_f)),bf=function(t){return function(e){return"function"==typeof e?function(t,e){return customElements.define(t,e),e}(t,e):function(t,e){return{kind:e.kind,elements:e.elements,finisher:function(e){customElements.define(t,e)}}}(t,e)}};function wf(t){return function(e,n){return void 0!==n?function(t,e,n){e.constructor.createProperty(n,t)}(t,e,n):function(t,e){return"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?d(d({},e),{},{finisher:function(n){n.createProperty(e.key,t)}}):{kind:"field",key:yc(),placement:"own",descriptor:{},originalKey:e.key,initializer:function(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher:function(n){n.createProperty(e.key,t)}}}(t,e)}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */function Ef(t){return wf(d(d({},t),{},{state:!0}))}
/**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */null===(pf=window.HTMLSlotElement)||void 0===pf||pf.prototype.assignedElements;var Sf=["AT","BE","BG","HR","CH","CY","CZ","DE","DK","EE","EL","FI","FR","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","NO","IS","LI"],xf=["ar"],Af="cookie-consent",Cf='<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M814.983529 404.781176a45.176471 45.176471 0 0 1 0 63.849412l-256 256a45.176471 45.176471 0 0 1-63.849411 0L239.134118 468.630588a45.176471 45.176471 0 0 1 63.849411-63.849412l224.075295 224.075295 224.075294-224.075295a45.176471 45.176471 0 0 1 63.849411 0z"></path></svg>',Tf='<svg width="1" height="24" viewBox="0 0 1 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="0" y1="24" x2="0" stroke="#161823" stroke-opacity="0.12" stroke-width="1"/>\n</svg>',Mf=Date,Of=tt(Mf.prototype.getTime);Ve({target:"Date",stat:!0},{now:function(){return Of(new Mf)}});var Df=At.Date.now,Pf=Bc.onFreeze,If=Object.freeze,Rf=F((function(){If(1)}));Ve({target:"Object",stat:!0,forced:Rf,sham:!jc},{freeze:function(t){return If&&xt(t)?If(Pf(t)):t}});var zf=At.Object.freeze;
/*! js-cookie v3.0.1 | MIT */
function $f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var Gf=function t(e,n){function i(t,i,o){if("undefined"!=typeof document){"number"==typeof(o=$f({},n,o)).expires&&(o.expires=new Date(Df()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in o)o[a]&&(r+="; "+a,!0!==o[a]&&(r+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(i,t)+r}}return An({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],i={},o=0;o<n.length;o++){var r=n[o].split("="),a=Dc(r).call(r,1).join("=");try{var s=decodeURIComponent(r[0]);if(i[s]=e.read(a,s),t===s)break}catch(t){}}return t?i[t]:i}},remove:function(t,e){i(t,"",$f({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,$f({},this.attributes,e))},withConverter:function(e){return t($f({},this.converter,e),this.attributes)}},{attributes:{value:zf(n)},converter:{value:zf(e)}})}({read:function(t){return'"'===t[0]&&(t=Dc(t).call(t,1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),jf="\t\n\v\f\r                　\u2028\u2029\ufeff",Bf=tt("".replace),Lf="["+jf+"]",Nf=RegExp("^"+Lf+Lf+"*"),Uf=RegExp(Lf+Lf+"*$"),Vf=function(t){return function(e){var n=Qn(wt(e));return 1&t&&(n=Bf(n,Nf,"")),2&t&&(n=Bf(n,Uf,"")),n}},Kf={start:Vf(1),end:Vf(2),trim:Vf(3)},Ff=Kf.trim,Hf=K.parseInt,Wf=K.Symbol,qf=Wf&&Wf.iterator,Yf=/^[+-]?0x/i,Jf=tt(Yf.exec),Xf=8!==Hf(jf+"08")||22!==Hf(jf+"0x16")||qf&&!F((function(){Hf(Object(qf))}))?function(t,e){var n=Ff(Qn(t));return Hf(n,e>>>0||(Jf(Yf,n)?16:10))}:Hf;Ve({global:!0,forced:parseInt!=Xf},{parseInt:Xf});var Zf=At.parseInt,Qf="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,td=K.Function,ed=/MSIE .\./.test(Ot)||Qf&&function(){var t=K.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}(),nd=function(t,e){var n=e?2:1;return ed?function(i,o){var r=ua(arguments.length,1)>n,a=ct(i)?i:td(i),s=r?Eo(arguments,n):[],c=r?function(){J(a,this,s)}:a;return e?t(c,o):t(c)}:t},id=nd(K.setInterval,!0);Ve({global:!0,bind:!0,forced:K.setInterval!==id},{setInterval:id});var od=nd(K.setTimeout,!0);Ve({global:!0,bind:!0,forced:K.setTimeout!==od},{setTimeout:od});var rd=At.setTimeout,ad=Kf.trim,sd=tt("".charAt),cd=K.parseFloat,ld=K.Symbol,ud=ld&&ld.iterator,hd=1/cd(jf+"-0")!=-1/0||ud&&!F((function(){cd(Object(ud))}))?function(t){var e=ad(Qn(t)),n=cd(e);return 0===n&&"-"==sd(e,0)?-0:n}:cd;Ve({global:!0,forced:parseFloat!=hd},{parseFloat:hd});var fd,dd=At.parseFloat,pd=Dr.PROPER,vd=Kf.trim;Ve({target:"String",proto:!0,forced:(fd="trim",F((function(){return!!jf[fd]()||"​᠎"!=="​᠎"[fd]()||pd&&jf[fd].name!==fd})))},{trim:function(){return vd(this)}});var gd=jn("String").trim,md=String.prototype,yd=function(t){var e=t.trim;return"string"==typeof t||t===md||Mt(md,t)&&e===md.trim?gd:e},_d=yd,kd=At.setInterval,bd=Ki.some,wd=In("some");Ve({target:"Array",proto:!0,forced:!wd},{some:function(t){return bd(this,t,arguments.length>1?arguments[1]:void 0)}});var Ed=jn("Array").some,Sd=Array.prototype,xd=function(t){var e=t.some;return t===Sd||Mt(Sd,t)&&e===Sd.some?Ed:e},Ad=xd,Cd=an.includes,Td=F((function(){return!Array(1).includes()}));Ve({target:"Array",proto:!0,forced:Td},{includes:function(t){return Cd(this,t,arguments.length>1?arguments[1]:void 0)}});var Md=jn("Array").includes,Od=tt("".indexOf);Ve({target:"String",proto:!0,forced:!qu("includes")},{includes:function(t){return!!~Od(Qn(wt(this)),Qn(Hu(t)),arguments.length>1?arguments[1]:void 0)}});var Dd=jn("String").includes,Pd=Array.prototype,Id=String.prototype,Rd=function(t){var e=t.includes;return t===Pd||Mt(Pd,t)&&e===Pd.includes?Md:"string"==typeof t||t===Id||Mt(Id,t)&&e===Id.includes?Dd:e},zd=Rd,$d=Function,Gd=tt([].concat),jd=tt([].join),Bd={},Ld=function(t,e,n){if(!Qt(Bd,e)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";Bd[e]=$d("C,a","return new C("+jd(i,",")+")")}return Bd[e](t,n)},Nd=H?$d.bind:function(t){var e=Vt(this),n=e.prototype,i=Eo(arguments,1),o=function(){var n=Gd(i,Eo(arguments));return this instanceof o?Ld(e,n.length,n):e.apply(t,n)};return xt(n)&&(o.prototype=n),o};Ve({target:"Function",proto:!0,forced:Function.bind!==Nd},{bind:Nd});var Ud,Vd=jn("Function").bind,Kd=Function.prototype,Fd=function(t){var e=t.bind;return t===Kd||Mt(Kd,t)&&e===Kd.bind?Vd:e},Hd=Fd,Wd=function(){return(Wd=Pn||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function qd(t){var e="function"==typeof yc&&_c(t),n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Yd(t,e){var n="function"==typeof yc&&_c(t);if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Jd(){for(var t=[],e=0;e<arguments.length;e++)t=Ec(t).call(t,Yd(arguments[e]));return t}var Xd,Zd=function(){function t(){this._hooks={},this._cache=[],this._hooksCache={}}return t.prototype.on=function(t,e){t&&e&&"function"==typeof e&&(this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e))},t.prototype.once=function(t,e){var n=this;t&&e&&"function"==typeof e&&this.on(t,(function i(o){e(o),n.off(t,i)}))},t.prototype.off=function(t,e){if(t&&this._hooks[t]&&this._hooks[t].length)if(e){var n,i,o=Un(n=this._hooks[t]).call(n,e);-1!==o&&zl(i=this._hooks[t]).call(i,o,1)}else this._hooks[t]=[]},t.prototype.emit=function(t,e,n){if(n){var i;if(!t)return;-1!==Un(i=this._cache).call(i,n)?this._emit(t,e):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(t)||(this._hooksCache[n][t]=[]),this._hooksCache[n][t].push(e))}else this._emit(t,e)},t.prototype._emit=function(t,e){var n;t&&this._hooks[t]&&this._hooks[t].length&&il(n=Jd(this._hooks[t])).call(n,(function(t){try{t(e)}catch(t){}}))},t.prototype.set=function(t){var e;t&&-1===Un(e=this._cache).call(e,t)&&this._cache.push(t)},t}(),Qd=function(t){return null!=t&&"[object Object]"==Object.prototype.toString.call(t)},tp=function(t){return hl(t)},ep=(Xd=+Df()+Number(Dc(Ud=""+Math.random()).call(Ud,2,8)),function(){return Xd+=1}),np=function(t){return function(t,e,n){if("string"==typeof t&&"number"==typeof n){var i,o=[];n=n<=25?n:n%25;var r=String.fromCharCode(n+97);i=t.split(r);for(var a=0;a<i.length;a++){var s=Zf(i[a],n);s=1*s^64;var c=String.fromCharCode(s);o.push(c)}return o.join("")}}(t,0,25)},ip=function(t){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",t,!1):window.addEventListener("beforeunload",t,!1)},op=function(t,e,n){var i=document.createElement("script");i.src=t,i.onerror=function(){n(t)},i.onload=function(){e()},document.getElementsByTagName("head")[0].appendChild(i)},rp=function(){var t,e=0;return il(t=["hidden","msHidden","webkitHidden"]).call(t,(function(t){void 0!==document[t]&&(e=1)})),e},ap=function(t){var e=document.createElement("a");return e.href=t,e},sp=function(t){var e={};try{var n,i=ap(t).search;il(n=(i=Dc(i).call(i,1)).split("&")).call(n,(function(t){var n,i,o=t.split("=");o.length&&(n=o[0],i=o[1]);try{e[n]=decodeURIComponent(void 0===i?"":i)}catch(t){e[n]=i}}))}catch(t){}return e},cp=function(t){for(var e=0,n=0,i=(t+="").length,o=0;o<i;o++)((e=31*e+t.charCodeAt(n++))>0x7fffffffffff||e<-0x800000000000)&&(e&=0xffffffffffff);return e<0&&(e+=0x7ffffffffffff),e};function lp(t,e){return t(e={exports:{}},e.exports),e.exports}var up,hp,fp=lp((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=t({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=Rc(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),c=Dc(s).call(s,1).join("=");n||'"'!==c.charAt(0)||(c=Dc(c).call(c,1,-1));try{var l=e(s[0]);if(c=(i.read||i)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=r,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){r(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()})),dp=function(t,e){try{return fp.get(t,{domain:e||document.domain})}catch(t){return""}},pp=function(t,e,n,i){try{var o=i||document.domain,r=+new Date+(n||6048e5);fp.set(t,e,{expires:new Date(r),path:"/",domain:o})}catch(t){}},vp=function(){function t(){this.cache={}}return t.prototype.setItem=function(t,e){this.cache[t]=e},t.prototype.getItem=function(t){return this.cache[t]},t.prototype.removeItem=function(t){this.cache[t]=void 0},t.prototype.getCookie=function(t,e){return dp(t,e)},t.prototype.setCookie=function(t,e,n,i){pp(t,e,n,i)},t}(),gp={getItem:function(t){try{var e=localStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||{}}catch(t){}return{}},setItem:function(t,e){try{var n="string"==typeof e?e:Rc(e);localStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{localStorage.removeItem(t)}catch(t){}},getCookie:function(t,e){return dp(t,e)},setCookie:function(t,e,n,i){pp(t,e,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},mp={getItem:function(t){try{var e=sessionStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||{}}catch(t){}return{}},setItem:function(t,e){try{var n="string"==typeof e?e:Rc(e);sessionStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{sessionStorage.removeItem(t)}catch(t){}},getCookie:function(t,e){return dp(t,e)},setCookie:function(t,e,n,i){pp(t,e,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},yp=function(){function t(t,e){this._storage=e&&"session"===e?mp:!t&&gp.isSupportLS?gp:new vp}return t.prototype.getItem=function(t){return this._storage.getItem(t)},t.prototype.setItem=function(t,e){this._storage.setItem(t,e)},t.prototype.getCookie=function(t,e){return this._storage.getCookie(t,e)},t.prototype.setCookie=function(t,e,n,i){this._storage.setCookie(t,e,n,i)},t.prototype.removeItem=function(t){this._storage.removeItem(t)},t}(),_p=function(){function t(t,e,n){this.appid=t,this.domain=e,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return t.prototype.init=function(){var t=window.navigator.userAgent,e=window.navigator.language,n=document.referrer,i=n?ap(n).hostname:"",o=sp(window.location.href),r=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(t,e,n,i){var o=new yp(!1),r=new yp(!1,"session"),a=t?"_tea_utm_cache_"+t:"_tea_utm_cache",s=t?"_$utm_from_url_"+t:"_$utm_from_url",c={},l=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],u={ad_id:Number(e.ad_id)||void 0,campaign_id:Number(e.campaign_id)||void 0,creative_id:Number(e.creative_id)||void 0,utm_source:e.utm_source,utm_medium:e.utm_medium,utm_campaign:e.utm_campaign,utm_term:e.utm_term,utm_content:e.utm_content,tr_shareuser:e.tr_shareuser,tr_admaster:e.tr_admaster,tr_param1:e.tr_param1,tr_param2:e.tr_param2,tr_param3:e.tr_param3,tr_param4:e.tr_param4};try{var h=!1;for(var f in u)u[f]&&(-1!==Un(l).call(l,f)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[f]=u[f]):c[f]=u[f],h=!0);if(h)r.setItem(s,"1"),o.setCookie(a,Rc(c),i,n);else{var d=o.getCookie(a,n);d&&(c=JSON.parse(d))}r.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(t){return u}return c}(this.appid,o,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:r,os_name:s.os_name,os_version:s.os_version,userAgent:t,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:e,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},t.prototype.last=function(t,e){var n="",i="",o="",r=location.hostname,a=!1;if(t&&e&&r!==e){n=t,i=e,a=!0;var s=sp(t);s.keyword&&(o=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:o,isLast:a}},t.prototype.browser=function(){var t,e,n="",i=""+dd(this.appVersion),o=this.userAgent;return-1!==Un(o).call(o,"Edge")||-1!==Un(o).call(o,"Edg")?(n="Microsoft Edge",-1!==Un(o).call(o,"Edge")?(t=Un(o).call(o,"Edge"),i=o.substring(t+5)):(t=Un(o).call(o,"Edg"),i=o.substring(t+4))):-1!==(t=Un(o).call(o,"MSIE"))?(n="Microsoft Internet Explorer",i=o.substring(t+5)):-1!==(t=Un(o).call(o,"Lark"))?(n="Lark",i=o.substring(t+5,t+11)):-1!==Un(o).call(o,"Chrome")?-1!==(t=Un(o).call(o,"TTWebView"))?(n="TTWebView",i=o.substring(t+10,t+23)):(-1!==(t=Un(o).call(o,"Chrome"))||-1!==(t=Un(o).call(o,"Chrome")))&&(n="Chrome",i=o.substring(t+7)):-1!==Un(o).call(o,"Safari")?-1!==(t=Un(o).call(o,"Safari"))&&(n="Safari",i=o.substring(t+7),-1!==(t=Un(o).call(o,"Version"))&&(i=o.substring(t+8))):-1!==(t=Un(o).call(o,"Firefox"))&&(n="Firefox",i=o.substring(t+8)),-1!==(e=Un(i).call(i,";"))&&(i=i.substring(0,e)),-1!==(e=Un(i).call(i," "))&&(i=i.substring(0,e)),-1!==(e=Un(i).call(i,")"))&&(i=i.substring(0,e)),{browser:n,browser_version:i}},t.prototype.os=function(){for(var t="",e="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],i=0;i<n.length;i++){var o=n[i];if(o.r.test(this.userAgent)){"Mac OS X"===(t=o.s)&&this.isNewIpad()&&(t="iOS");break}}var r,a,s=function(t,e){var n=t.exec(e);return n&&n[1]?n[1]:""},c=function(t,e){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+t+")","i").exec(e);return n?Dc(n).call(n,1)[0]:""};switch(/Windows/.test(t)&&(e=s(/Windows (.*)/,t),t="windows"),t){case"Mac OS X":e=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),t="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,r=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,r)),e=a,t="android";break;case"iOS":e=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(e=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?e[1]+"."+e[2]+"."+(0|e[3]):"",t="ios"}return{os_name:t,os_version:e}},t.prototype.getDeviceModel=function(t){var e="";try{var n;if("android"===t)il(n=navigator.userAgent.split(";")).call(n,(function(t){Un(t).call(t,"Build/")>-1&&(e=Dc(t).call(t,0,Un(t).call(t,"Build/")))}));else if("ios"===t||"mac"===t||"windows"===t)if(this.isNewIpad())e="iPad";else{var i=navigator.userAgent.replace("Mozilla/5.0 (",""),o=Un(i).call(i,";");e=Dc(i).call(i,0,o)}}catch(t){return _d(e).call(e)}return _d(e).call(e)},t.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},t}(),kp={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},bp={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},wp={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},Ep={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},Sp="5.0.34_oversea",xp=function(){function t(t,e){this.collector=t,this.config=e,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return t.prototype.checkVerify=function(t){var e=this;if(!t||!t.length)return!1;var n=t[0];if(!n)return!1;var i=n.events,o=n.header;if(!i||!i.length)return!1;var r=!0;return il(i).call(i,(function(t){if(!t)return r=!1,void(t.checkEvent="事件异常");e.checkEventName(t.event)||(r=!1,t.checkEvent="事件名不能以 $ or __开头"),e.checkEventParams(t.params)||(r=!1,t.checkParams="属性名不能以 $ or __开头")})),this.checkEventParams(o)||(r=!1),r},t.prototype.checkEventName=function(t){return!!t&&this.calculate(t,"event")},t.prototype.checkEventParams=function(t){var e=t;if("string"==typeof t&&(e=JSON.parse(e)),!vf(e).length)return!0;for(var n in e)return!(!this.calculate(n,"params")||"string"==typeof e[n]&&e[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},t.prototype.calculate=function(t,e){var n;return-1!==Un(n="event"===e?this.eventNameWhiteList:this.paramsNameWhiteList).call(n,t)||!new RegExp("^\\$").test(t)&&!new RegExp("^__").test(t)||(console.warn(("event"===e?"event":"params")+" name: "+t+" can not start with $ or __, pleace check;"),!1)},t}();!function(t){t.Init="init",t.Config="config",t.Start="start",t.Ready="ready",t.TokenComplete="token-complete",t.TokenStorage="token-storage",t.TokenFetch="token-fetch",t.TokenError="token-error",t.ConfigUuid="config-uuid",t.ConfigWebId="config-webid",t.ConfigDomain="config-domain",t.CustomWebId="custom-webid",t.TokenChange="token-change",t.TokenReset="token-reset",t.ConfigTransform="config-transform",t.EnvTransform="env-transform",t.SessionReset="session-reset",t.SessionResetTime="session-reset-time",t.Event="event",t.Events="events",t.EventNow="event-now",t.CleanEvents="clean-events",t.BeconEvent="becon-event",t.SubmitBefore="submit-before",t.SubmitScuess="submit-scuess",t.SubmitAfter="submit-after",t.SubmitError="submit-error",t.SubmitVerify="submit-verify",t.Stay="stay",t.ResetStay="reset-stay",t.StayReady="stay-ready",t.SetStay="set-stay",t.RouteChange="route-change",t.RouteReady="route-ready",t.Ab="ab",t.AbVar="ab-var",t.AbAllVars="ab-all-vars",t.AbConfig="ab-config",t.AbExternalVersion="ab-external-version",t.AbVersionChangeOn="ab-version-change-on",t.AbVersionChangeOff="ab-version-change-off",t.AbOpenLayer="ab-open-layer",t.AbCloseLayer="ab-close-layer",t.AbReady="ab-ready",t.AbComplete="ab-complete",t.AbTimeout="ab-timeout",t.Profile="profile",t.ProfileSet="profile-set",t.ProfileSetOnce="profile-set-once",t.ProfileUnset="profile-unset",t.ProfileIncrement="profile-increment",t.ProfileAppend="profile-append",t.ProfileClear="profile-clear",t.Autotrack="autotrack",t.AutotrackReady="autotrack-ready",t.CepReady="cep-ready",t.TracerReady="tracer-ready",t.sessionRecord="session-record",t.SessionRecordStart="session-record-start",t.SessionRecordPause="session-record-pause",t.SessionRecordEnd="session-record-end",t.SessionRecordReport="session-record-report"}(up||(up={})),function(t){t.DEBUGGER_MESSAGE="debugger-message",t.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",t.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",t.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",t.DEBUGGER_MESSAGE_EVENT="debugger-message-event",t.DEVTOOL_WEB_READY="devtool-web-ready"}(hp||(hp={}));var Ap=up,Cp=void 0,Tp=(new Date).getTimezoneOffset(),Mp=Zf(""+-Tp/60,10),Op=60*Tp,Dp=function(){function t(t,e){this.is_first_time=!0,this.configPersist=!1,this.initConfig=e,this.collect=t;var n=new _p(e.app_id,e.cookie_domain||"",e.cookie_expire||6048e5).init();this.eventCheck=new xp(t,e);var i="__tea_cache_first_"+e.app_id;this.configKey="__tea_cache_config_"+e.app_id,this.sessionStorage=new yp(!1,"session"),this.localStorage=new yp(!1,"local"),this.channelUrl="tcpy"===e.channel_type||"ttp"===e.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},e.configPersist&&(this.configPersist=!0,this.storage=1===e.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(i);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:Cp,user_type:Cp,user_id:Cp,user_is_auth:Cp,user_is_login:Cp,device_id:Cp,web_id:Cp,ip_addr_id:Cp,user_unique_id_type:Cp},header:{app_id:Cp,app_name:Cp,app_install_id:Cp,install_id:Cp,app_package:Cp,app_channel:Cp,app_version:Cp,ab_version:Cp,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:Cp,traffic_type:Cp,client_ip:Cp,device_brand:Cp,os_api:Cp,access:Cp,language:n.language,region:Cp,app_language:Cp,app_region:Cp,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:Cp,rnd:Cp,platform:n.platform,sdk_version:Sp,sdk_lib:"js",province:Cp,city:Cp,timezone:Mp,tz_offset:Op,tz_name:Cp,sim_region:Cp,carrier:Cp,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:Rc(n.utm.tracer_data),custom:{},wechat_unionid:Cp,wechat_openid:Cp}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return t.prototype.initDomain=function(t){var e=this.initConfig.channel_domain;if(e)this.domain=e;else{var n=t||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?wp[n]:Ep[n]:kp[n];this.domain=np(i)}},t.prototype.setDomain=function(t){this.customDomain=!0,this.domain=t},t.prototype.getDomain=function(t){return this.customDomain||t&&this.initDomain(t),this.domain},t.prototype.initABData=function(){var t="__tea_sdk_ab_version_"+this.initConfig.app_id,e=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(t,this.initConfig.ab_cookie_domain);e=n?JSON.parse(n):null}else e=this.localStorage.getItem(t);this.setAbCache(e)},t.prototype.setAbCache=function(t){this.ab_cache=t},t.prototype.getAbCache=function(){return this.ab_cache},t.prototype.setAbVersion=function(t){this.ab_version=t},t.prototype.getAbVersion=function(){return this.ab_version},t.prototype.getUrl=function(t){var e="";switch(t){case"event":e=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":e=this.channelUrl.WEBID_URL;break;case"tobid":e=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version="+Sp+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+e+n},t.prototype.setCustom=function(t){if(t&&t.latest_data&&t.latest_data.isLast)for(var e in delete t.latest_data.isLast,this.isLast=!0,t.latest_data)this.envInfo.header.custom[e]=t.latest_data[e]},t.prototype.set=function(t){var e,n=this;il(e=vf(t)).call(e,(function(e){void 0!==t[e]&&null!==t[e]||n.delete(e);try{n.eventCheck.calculate(e,"config")}catch(t){}if("traffic_type"===e&&n.isLast&&(n.envInfo.header.custom.$latest_traffic_source_type=t[e]),"evtParams"===e)n.evtParams=Wd({},n.evtParams||{},t.evtParams||{});else if("_staging_flag"===e)n.evtParams=Wd({},n.evtParams||{},{_staging_flag:t._staging_flag});else if("reportErrorCallback"===e&&"function"==typeof t[e])n.reportErrorCallback=t[e];else{var i,o,r,a="",s="";if(Un(e).call(e,".")>-1){var c=e.split(".");a=c[0],s=c[1]}a?"user"===a||"header"===a?n.envInfo[a][s]=t[e]:n.envInfo.header.custom[s]=t[e]:Object.hasOwnProperty.call(n.envInfo.user,e)?Un(i=["user_type","ip_addr_id"]).call(i,e)>-1?n.envInfo.user[e]=t[e]?Number(t[e]):t[e]:Un(o=["user_id","web_id","user_unique_id","user_unique_id_type"]).call(o,e)>-1?n.envInfo.user[e]=t[e]?String(t[e]):t[e]:Un(r=["user_is_auth","user_is_login"]).call(r,e)>-1?n.envInfo.user[e]=Boolean(t[e]):"device_id"===e&&(n.envInfo.user[e]=t[e]):Object.hasOwnProperty.call(n.envInfo.header,e)?n.envInfo.header[e]=t[e]:n.envInfo.header.custom[e]=t[e]}}))},t.prototype.get=function(t){try{return t?"evtParams"===t?this.evtParams:"reportErrorCallback"===t?this[t]:Object.hasOwnProperty.call(this.envInfo.user,t)?this.envInfo.user[t]:Object.hasOwnProperty.call(this.envInfo.header,t)?this.envInfo.header[t]:JSON.parse(Rc(this.envInfo[t])):JSON.parse(Rc(this.envInfo))}catch(t){console.log("get config stringify error "),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.setStore=function(t){try{if(!this.configPersist)return;var e=this.storage.getItem(this.configKey)||{};if(e&&vf(t).length){var n=Pn(t,e);this.storage.setItem(this.configKey,n)}}catch(t){console.log("setStore error"),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.getStore=function(){try{if(!this.configPersist)return null;var t=this.storage.getItem(this.configKey)||{};return t&&vf(t).length?t:null}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),null}},t.prototype.delete=function(t){try{if(!this.configPersist)return;var e=this.storage.getItem(this.configKey)||{};e&&Object.hasOwnProperty.call(e,t)&&(delete e[t],this.storage.setItem(this.configKey,e))}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log("delete error")}},t}(),Pp=function(){function t(t,e){this.isLog=e||!1,this.name=t||""}return t.prototype.info=function(t){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+t)},t.prototype.warn=function(t){this.isLog&&console.warn("[instance: "+this.name+"] "+t)},t.prototype.error=function(t){this.isLog&&console.error("[instance: "+this.name+"] "+t)},t.prototype.throw=function(t){throw this.error(this.name),new Error(t)},t}(),Ip=function(){function t(t,e){this.collect=t,this.native=e}var e=t.prototype;return e.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(t){return console.log("AppLogBridge is not inject"),!1}},e.bridgeReady=function(){var t=this;return new ac((function(e,n){try{t.bridgeInject()?AppLogBridge.hasStarted((function(t){console.log("AppLogBridge is started? : "+t),t?e(!0):n(!1)})):n(!1)}catch(t){console.log("AppLogBridge, error:"+Rc(t.stack)),n(!1)}}))},e.setNativeAppId=function(t){try{AppLogBridge.setNativeAppId(Rc(t)),console.log("change bridge appid, event report with appid: "+t)}catch(t){console.error("setNativeAppId error")}},e.setConfig=function(t){var e=this;try{var n;il(n=vf(t)).call(n,(function(n){"user_unique_id"===n?e.setUserUniqueId(t[n]):t[n]?e.addHeaderInfo(n,t[n]):e.removeHeaderInfo(n)}))}catch(t){console.error("setConfig error")}},e.setUserUniqueId=function(t){try{AppLogBridge.setUserUniqueId(t)}catch(t){console.error("setUserUniqueId error")}},e.addHeaderInfo=function(t,e){try{AppLogBridge.addHeaderInfo(t,e)}catch(t){console.error("addHeaderInfo error")}},e.setHeaderInfo=function(t){try{AppLogBridge.setHeaderInfo(Rc(t))}catch(t){console.error("setHeaderInfo error")}},e.removeHeaderInfo=function(t){try{AppLogBridge.removeHeaderInfo(t)}catch(t){console.error("removeHeaderInfo error")}},e.reportPv=function(t){this.onEventV3("predefine_pageview",t)},e.onEventV3=function(t,e){try{AppLogBridge.onEventV3(t,e),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge埋点上报",time:Df(),data:[{events:[{event:t,params:e}]}],code:200,status:"success"})}catch(t){console.error("onEventV3 error")}},e.profileSet=function(t){try{AppLogBridge.profileSet(t)}catch(t){console.error("profileSet error")}},e.profileSetOnce=function(t){try{AppLogBridge.profileSetOnce(t)}catch(t){console.error("profileSetOnce error")}},e.profileIncrement=function(t){try{AppLogBridge.profileIncrement(t)}catch(t){console.error("profileIncrement error")}},e.profileUnset=function(t){try{AppLogBridge.profileUnset(t)}catch(t){console.error("profileUnset error")}},e.profileAppend=function(t){try{AppLogBridge.profileAppend(t)}catch(t){console.error("profileAppend error")}},t}(),Rp=500,zp=5005;function $p(t,e,n,i,o,r,a,s,c){try{var l=new XMLHttpRequest,u=s||"POST";l.open(u,""+t,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&l.setRequestHeader("X-MCS-AppKey",""+a),i&&(l.withCredentials=!0),l.onload=function(){if(o){var t=null;if(l.responseText){try{t=JSON.parse(l.responseText)}catch(e){t={}}o(t,e)}}},n&&(l.timeout=n,l.ontimeout=function(){r&&r(e,zp)}),l.onerror=function(){l.abort(),r&&r(e,Rp)},c?l.send(e):l.send(Rc(e))}catch(t){}}var Gp=function(t,e,n,i){try{var o,r=t.match(/\/v\d\//);o=r?r[0]:-1!==Un(t).call(t,"/v1/")?"/v1/":"/v2/";var a=t.split(o)[0];if(!a)return void i(t,e,4001);il(e).call(e,(function(o){var r=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e+="&"+n+"="+encodeURIComponent(Rc(t[n])));return"&"===e[0]?Dc(e).call(e,1):e}(o),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,i&&i(t,e,4e3)},s.src=a+"/gif?"+r}))}catch(n){i&&i(t,e,4002,n.message)}},jp=function(t,e,n,i,o,r,a,s){var c,l=window.navigator.userAgent;if(-1===Un(c=window.navigator.appName).call(c,"Microsoft Internet Explorer")||-1===Un(l).call(l,"MSIE 8.0")&&-1===Un(l).call(l,"MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(t,Rc(e))?o():r(t,e,4003)):void Gp(t,e,o,r)}else Gp(t,e,o,r);$p(t,e,n,i,o,r,"","",s)},Bp=function(){function t(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.configManager=t.configManager,this.eventCheck=new xp(t,e),this.cacheStorgae=new yp(!0),this.localStorage=new yp(!1),this.maxReport=e.max_report||10,this.reportTime=e.reportTime||30,this.timeout=e.timeout||1e5,this.enable_ttwebid=e.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.collect.on(Ap.Ready,(function(){n.reportAll(!1)})),this.collect.on(Ap.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(Ap.Event,(function(t){n.event(t)})),this.collect.on(Ap.BeconEvent,(function(t){n.beconEvent(t)})),this.collect.on(Ap.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},t.prototype.linster=function(){var t=this;window.addEventListener("unload",(function(){t.reportAll(!0)}),!1),ip((function(){t.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.reportAll(!0)}),!1)},t.prototype.reportAll=function(t){this.report(t),this.reportBecon()},t.prototype.event=function(t){var e=this;try{var n=Jd(t,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=rd((function(){e.report(!1),e.reportTimeout=null}),i)}}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.beconEvent=function(t){var e=Jd(t,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,e),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},t.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.beconKey)||[];t&&t.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},t.prototype.report=function(t){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.eventKey)||[];e.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(e,t))}},t.prototype.sliceEvent=function(t,e){if(t.length>this.eventLimit)for(var n=0;n<t.length;n+=this.eventLimit){var i;i=Dc(t).call(t,n,n+this.eventLimit);var o=this.split(this.merge(i));this.send(o,e)}else o=this.split(this.merge(t)),this.send(o,e)},t.prototype.merge=function(t,e){var n=this,i=this.configManager.get(),o=i.header,r=i.user;o.custom=Rc(o.custom);var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=Cu(t).call(t,(function(t){try{vf(a).length&&!e&&(t.params=Wd({},a,t.params)),s&&(t.params.$user_unique_id_type=s);var i=n.configManager.getAbCache();return i&&i.uuid&&i.uuid===r.user_unique_id&&n.configManager.getAbVersion()&&(t.ab_sdk_version=n.configManager.getAbVersion()),t.session_id=n.collect.sessionManager.getSessionId(),t.params=Rc(t.params),t}catch(e){return n.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:e.message}),t}})),l=JSON.parse(Rc({events:c,user:r,header:o}));l.local_time=Math.floor(Df()/1e3),l.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,l.verbose=1;var u=[];return u.push(l),u},t.prototype.split=function(t){return Cu(t).call(t,(function(t){var e=[];return e.push(t),e}))},t.prototype.send=function(t,e){var n=this;t.length&&(this.config.disable_track_event||il(t).call(t,(function(t){try{var i,o=JSON.parse(Rc(t));ff(n.config)&&((o=ff(i=n.config).call(i,o))||console.warn("filter must return data !!")),n.collect.eventFilter&&o&&((o=n.collect.eventFilter(o))||console.warn("filterEvent api must return data !!"));var r=o||t,a=JSON.parse(Rc(r));if(n.eventCheck.checkVerify(a),!r.length)return;n.collect.emit(Ap.SubmitBefore,r),n.collect.emit(Ap.SubmitVerify,r),jp(n.reportUrl,r,n.timeout,n.enable_ttwebid,(function(t,e){t&&0!==t.e?(n.collect.emit(Ap.SubmitError,{type:"f_data",eventData:e,errorCode:t.e,response:t}),n.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_EVENT,info:"埋点上报失败",time:Df(),data:a,code:t.e,failType:"数据异常",status:"fail"})):(n.collect.emit(Ap.SubmitScuess,{eventData:e,res:t}),n.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Df(),data:a,code:200,status:"success"}))}),(function(t,e){n.configManager.get("reportErrorCallback")(t,e),n.collect.emit(Ap.SubmitError,{type:"f_net",eventData:t,errorCode:e}),n.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_EVENT,info:"埋点上报网络异常",time:Df(),data:a,code:e,failType:"网络异常",status:"fail"})}),e,!1),n.collect.emit(Ap.SubmitAfter,r)}catch(t){console.warn("something error, "+Rc(t.stack)),n.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}})))},t}(),Lp=function(){var t;return Dc(t=function t(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}().replace(/-/g,"")).call(t,0,19)},Np=function(){function t(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.configManager=this.collect.configManager,this.storage=new yp(!1),this.tokenKey="__tea_cache_tokens_"+e.app_id,this.enable_ttwebid=e.enable_ttwebid,this.enableCustomWebid=e.enable_custom_webid,this.collect.on(Ap.ConfigUuid,(function(t){n.setUuid(t)})),this.collect.on(Ap.ConfigWebId,(function(t){n.setWebId(t)})),this.enableCookie=e.cross_subdomain,this.expiresTime=e.cookie_expire||6048e5,this.cookieDomain=e.cookie_domain||"",this.checkStorage()},t.prototype.checkStorage=function(){var t=this;if(this.enableCookie){var e=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=e&&"string"==typeof e?JSON.parse(e):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(Ap.CustomWebId,(function(){t.tokenReady=!0,t.collect.emit(Ap.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},t.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:Lp(),user_unique_id:this.configManager.get("user_unique_id")||Lp()}):this.remoteWebid()},t.prototype.checkEnv=function(){var t=window.navigator.userAgent;if(-1!==Un(t).call(t,"miniProgram")||-1!==Un(t).call(t,"MiniProgram")){var e=sp(window.location.href);return!(!e||!e.Web_ID||(this.complete({web_id:""+e.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+e.Web_ID}),0))}return!1},t.prototype.remoteWebid=function(){var t=this,e=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 发起WEBID请求",logType:"fetch",level:"info",time:Df(),data:n});var i=Lp();$p(e,n,3e5,!1,(function(e){var n;e&&0===e.e?(n=e.web_id,t.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"WEBID请求成功",logType:"fetch",level:"info",time:Df(),data:e})):(n=i,t.collect.configManager.set({localWebId:i}),t.collect.emit(Ap.TokenError),t.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"WEBID请求返回值异常",logType:"fetch",level:"warn",time:Df(),data:e}),t.collect.logger.warn("appid: "+t.config.app_id+" get webid error, use local webid~")),t.complete({web_id:t.configManager.get("web_id")||n,user_unique_id:t.configManager.get("user_unique_id")||n})}),(function(){t.complete({web_id:t.configManager.get("web_id")||i,user_unique_id:t.configManager.get("user_unique_id")||i}),t.collect.configManager.set({localWebId:i}),t.collect.emit(Ap.TokenError),t.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"WEBID请求网络异常",logType:"fetch",level:"error",time:Df(),data:null}),t.collect.logger.warn("appid: "+t.config.app_id+", get webid error, use local webid~")}))},t.prototype.complete=function(t){var e=t.web_id,n=t.user_unique_id;t.timestamp=Df(),this.collect.configManager.set({web_id:e,user_unique_id:n}),this.setStorage(t),this.tokenReady=!0,this.collect.emit(Ap.TokenComplete)},t.prototype.completeTtWid=function(t){var e=t.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||e)&&this.configManager.set({user_unique_id:n||e}),this.setStorage(t),this.tokenReady=!0,this.collect.emit(Ap.TokenComplete)},t.prototype.setUuid=function(t){var e;if(t&&-1===Un(e=["null","undefined","Null","None"]).call(e,t)){var n=String(t),i=this.configManager.get("user_unique_id"),o=this.cacheToken&&this.cacheToken.user_unique_id;if(n===i&&n===o)return;this.configManager.set({user_unique_id:n}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=n,this.cacheToken.timestamp=Df(),this.setStorage(this.cacheToken),this.collect.emit(Ap.TokenChange,"uuid"),this.collect.emit(Ap.SessionReset)}else this.clearUuid()},t.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Df(),this.setStorage(this.cacheToken)),this.collect.emit(Ap.TokenReset))},t.prototype.setWebId=function(t){if(t&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==t&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?t:this.cacheToken.user_unique_id,this.cacheToken.web_id=t):(this.cacheToken={},this.cacheToken.web_id=t,this.cacheToken.user_unique_id=t),this.cacheToken.timestamp=Df();var e=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==e||(this.configManager.set({user_unique_id:t}),this.collect.emit(Ap.TokenChange,"uuid")),e!==t&&(this.configManager.set({web_id:t}),this.collect.emit(Ap.TokenChange,"webid")),this.setStorage(this.cacheToken)}},t.prototype.setStorage=function(t){var e;t._type_=this.enableCustomWebid?"custom":"default",delete t[yl(e="diss".split("")).call(e).join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,t,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete t.web_id,this.storage.setItem(this.tokenKey,t))):this.storage.setItem(this.tokenKey,t),this.cacheToken=t},t.prototype.getReady=function(){return this.tokenReady},t.prototype.getTobId=function(){var t=this,e=this.configManager.getUrl("tobid");return new ac((function(n){$p(e,{app_id:t.config.app_id,user_unique_id:t.configManager.get("user_unique_id"),web_id:t.configManager.get("web_id"),user_unique_id_type:t.configManager.get("user_unique_id_type")},3e4,t.enable_ttwebid,(function(t){t&&0===t.e?n(t.tobid):n("")}),(function(){n("")}))}))},t}(),Up=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},Vp=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.storage=new yp(!1,"session"),this.sessionKey="__tea_session_id_"+e.app_id,this.expireTime=e.expireTime||18e5,this.disableSession=e.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(Ap.SessionReset,(function(){n.resetSessionId()})),this.collect.on(Ap.SessionResetTime,(function(){n.updateSessionIdTime()})))},t.prototype.updateSessionIdTime=function(){var t=this.storage.getItem(this.sessionKey);if(t&&t.sessionId){var e=t.timestamp;Df()-e>this.expireTime?t={sessionId:Up(),timestamp:Df()}:t.timestamp=Df(),this.storage.setItem(this.sessionKey,t),this.resetExpTime()}},t.prototype.setSessionId=function(){var t=this,e=this.storage.getItem(this.sessionKey);e&&e.sessionId?e.timestamp=Df():e={sessionId:Up(),timestamp:Df()},this.storage.setItem(this.sessionKey,e),this.sessionExp=kd((function(){t.checkEXp()}),this.expireTime)},t.prototype.getSessionId=function(){var t=this.storage.getItem(this.sessionKey);return this.disableSession?"":t&&t.sessionId?t.sessionId:""},t.prototype.resetExpTime=function(){var t=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=kd((function(){t.checkEXp()}),this.expireTime))},t.prototype.resetSessionId=function(){var t={sessionId:Up(),timestamp:Df()};this.storage.setItem(this.sessionKey,t)},t.prototype.checkEXp=function(){var t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&Df()-t.timestamp+30>=this.expireTime&&(t={sessionId:Up(),timestamp:Df()},this.storage.setItem(this.sessionKey,t))},t}(),Kp=function(){function t(t,e){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=t,this.config=e,this.app_id=e.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],e.enable_debug&&this.load()}return t.prototype.loadScript=function(t){try{var e=document.createElement("script");e.src=t,e.onerror=function(){console.log("load DevTool render fail")},e.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(e)}catch(t){console.log("devTool load fail, "+t.message)}},t.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var t=sp(window.location.href);if(!t.open_devtool_web||Zf(t.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(t){console.log("debug fail, "+t.message)}},t.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},t.prototype.loadBaseInfo=function(){var t=this;this.info=[{title:"基本信息",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,"上报域名":this.collect.configManager.getDomain(),"SDK版本":Sp,"SDK引入方式":"npm"}},{title:"用户信息",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"点击获取SSID"}},{title:"公共参数信息",type:2,infoName:{"浏览器":this.collect.configManager.get("browser"),"浏览器版本":this.collect.configManager.get("browser_version"),"平台":this.collect.configManager.get("platform"),"设备型号":this.collect.configManager.get("device_model"),"操作系统":this.collect.configManager.get("os_name"),"操作系统版本":this.collect.configManager.get("os_version"),"屏幕分辨率":this.collect.configManager.get("os_version"),"来源":this.collect.configManager.get("referrer"),"自定义信息":""}},{title:"配置信息",type:3,infoName:{"全埋点":!!this.config.autotrack,"停留时长":!!this.config.enable_stay_duration}},{title:"A/B配置信息",type:4,infoName:{"A/B实验":!!this.config.enable_ab_test}},{title:"客户端信息",type:3,infoName:{"打通开关":!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(Ap.Ready,(function(){t.info[1].infoName.uuid=t.collect.configManager.get("user").user_unique_id,t.info[1].infoName.web_id=t.collect.configManager.get("user").web_id,t.info[2].infoName["自定义信息"]=Rc(t.collect.configManager.get("custom")),t.config.enable_ab_test&&(t.info[4].infoName["已曝光VID"]=t.collect.configManager.getAbVersion(),t.info[4].infoName["A/B域名"]=t.config.ab_channel_domain||np(bp[t.config.channel]),t.info[4].infoName["全部配置"]=t.collect.configManager.getAbData()),t.config.Native&&(t.info[5].infoName["是否打通"]=!!t.collect.bridgeReport)}))},t.prototype.loadHook=function(){var t=this;this.collect.on(hp.DEBUGGER_MESSAGE,(function(e){switch(e.type){case hp.DEBUGGER_MESSAGE_SDK:var n={time:e.time,type:e.logType||"sdk",level:e.level,name:e.info,show:!0,levelShow:!0,needDesc:!!e.data};return e.data&&(n.desc={content:Rc(e.data)}),t.updateLog(n),e.secType&&"AB"===e.secType?(t.info[4].infoName["已曝光VID"]=t.collect.configManager.getAbVersion(),t.info[4].infoName["全部配置"]=t.collect.configManager.getAbData()):"USER"===e.secType&&(t.info[1].infoName.uuid=t.collect.configManager.get("user").user_unique_id,t.info[1].infoName.web_id=t.collect.configManager.get("user").web_id),void t.updateInfo();case hp.DEBUGGER_MESSAGE_EVENT:if(e.data&&e.data.length){var i=e.data[0],o=i.events;if(!o.length)return;il(o).call(o,(function(n){var i;n.checkShow=!0,n.searchShow=!0,n.success=e.status,n.type=-1!==Un(i=t.filterEvent).call(i,n.event)?"sdk":"cus",n.type=t.collect.bridgeReport?"bridge":n.type,n.info="","fail"===e.status&&(n.info={message:"code: "+e.code+"， msg: "+e.failType})})),t.updateEvent(i)}return}}))},t.prototype.addLintener=function(){var t=this;window.addEventListener("message",(function(e){if(e.origin===location.origin){if(e&&e.data&&"devtool:web:ready"===e.data.type){if(t.devToolOrigin=e.origin,t.devToolReady=!0,t.sendAlready)return;console.log("inittttt"),t.sendData("devtool:web:init",{info:t.info,log:t.log,event:t.event}),t.sendAlready=!0}e&&e.data&&"devtool:web:ssid"===e.data.type&&t.collect.getToken((function(e){t.info[1].infoName.ssid=e.tobid,t.updateInfo()}))}}))},t.prototype.sendData=function(t,e){try{var n={type:t,payload:e};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(t){}},t.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},t.prototype.updateLog=function(t){this.devToolReady?this.sendData("devtool:web:log",t):this.log.push(t)},t.prototype.updateEvent=function(t){this.devToolReady?this.sendData("devtool:web:event",t):this.event.push(t)},t.prototype.loadDebuggerModule=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),t.appendChild(e);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog调试</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},t}(),Fp=function(){function t(t){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.name=t,this.hook=new Zd,this.remotePlugin=new Xc,this.Types=Ap,this.adapters.fetch=$p,this.adapters.storage=yp}return t.usePlugin=function(e,n,i){if(n){for(var o=!1,r=0,a=t.plugins.length;r<a;r++)if(t.plugins[r].name===n){t.plugins[r].plugin=e,t.plugins[r].options=i||{},o=!0;break}o||t.plugins.push({name:n,plugin:e,options:i})}else t.plugins.push({plugin:e})},t.prototype.usePlugin=function(t,e,n){t&&(this.remotePlugin.get(t)?console.info("your sdk version has "+t+" already ~"):e?"string"==typeof e?this.remotePlugin.get(t)||this.remotePlugin.set(t,{src:e,call:n}):this.remotePlugin.get(t)||this.remotePlugin.set(t,{instance:e}):this.remotePlugin.get(t)||this.remotePlugin.set(t,"sdk"))},t.prototype.init=function(e){var n,i=this;if(this.inited)console.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(e&&Qd(e))if(e.app_id&&"number"==typeof(n=e.app_id)&&!isNaN(n))if(!e.app_key||function(t){return"string"==typeof t}(e.app_key)){var o=e.channel_type&&"tcpy"===e.channel_type?["sg","va","in"]:["sg","va"];e.channel_domain||-1!==Un(o).call(o,e.channel)||(console.warn("channel must "+o.join(" ,")+"!!!"),e.channel="sg"),this.inited=!0,this.logger=new Pp(this.name,e.log),this.appBridge=new Ip(this,e.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new Dp(this,e),this.debugger=new Kp(this,e),this.initConfig=e,this.emit(Ap.Init),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行INIT",data:e,level:"info",time:Df()}),e.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.set({app_id:e.app_id}),this.eventManager=new Bp,this.tokenManager=new Np,this.sessionManager=new Vp,ac.all([new ac((function(t){i.once(Ap.TokenComplete,(function(){t(!0)}))})),new ac((function(t){i.once(Ap.Start,(function(){t(!0)}))}))]).then((function(){try{var n;ku(n=t.plugins).call(n,(function(t,e){var n=e.plugin,o=e.options,r=Pn(i.initConfig,o),a=new n;return a.apply(i,r),t.push(a),t}),i.pluginInstances)}catch(t){console.log("load plugin error, "+t.message),i.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}i.sdkReady=!0,i.emit(Ap.Ready),i.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 初始化完成",time:Df(),level:"info",data:i.configManager.get("user")}),i.logger.info("appid: "+e.app_id+", userInfo:"+Rc(i.configManager.get("user"))),i.logger.info("appid: "+e.app_id+", sdk is ready, version is "+Sp+", you can report now !!!"),e.disable_auto_pv&&(i.disableAutoPageView=!0);try{(e.enable_ab_test||e.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){i.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}i.pageView(),i.on(Ap.TokenChange,(function(t){"webid"===t&&i.pageView(),i.logger.info("appid: "+e.app_id+" token change, new userInfo:"+Rc(i.configManager.get("user"))),i.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 设置了用户信息",time:Df(),secType:"USER",level:"info",data:i.configManager.get("user")})})),i.on(Ap.TokenReset,(function(){i.logger.info("appid: "+e.app_id+" token reset, new userInfo:"+Rc(i.configManager.get("user"))),i.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 重置了用户信息",time:Df(),secType:"USER",level:"info",data:i.configManager.get("user")})})),i.on(Ap.RouteChange,(function(t){t.init||e.disable_route_report||i.pageView()}));try{(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){}})),this.tokenManager.apply(this,e),this.eventManager.apply(this,e),this.sessionManager.apply(this,e)),this.inited=!0}else console.warn("app_key param is error, must be string, please check!");else console.warn("app_id param is error, must be number, please check!");else console.warn("init params error,please check")},t.prototype.config=function(t){if(this.inited)if(t&&Qd(t))if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var e=Wd({},t);if(this.initConfig&&this.initConfig.configPersist){var n=this.configManager.getStore();n&&(e=Pn(n,t)),this.configManager.setStore(t)}e.web_id,e.user_unique_id;var i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Un(e).call(e,i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof jo){var o=0;for(i=jo(t);o<i.length;o++)Un(e).call(e,i[o])<0&&(n[i[o]]=t[i[o]])}return n}(e,["web_id","user_unique_id"]);e.hasOwnProperty("web_id")&&this.emit(Ap.ConfigWebId,e.web_id),e.hasOwnProperty("user_unique_id")&&this.emit(Ap.ConfigUuid,e.user_unique_id),this.configManager.set(i),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行CONFIG",level:"info",time:Df(),data:e})}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},t.prototype.setDomain=function(t){this.configManager&&this.configManager.setDomain(t),this.emit(Ap.ConfigDomain)},t.prototype.getConfig=function(t){return this.configManager.get(t)},t.prototype.send=function(){this.start()},t.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(Ap.Start),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行START",level:"info",time:Df()}),this.bridgeReport&&(this.pageView(),this.emit(Ap.Ready)))},t.prototype.event=function(t,e){var n=this;try{var i=[];if(hl(t))il(t).call(t,(function(t){var e=n.processEvent(t[0],t[1]||{});e&&i.push(e)}));else{var o=this.processEvent(t,e);if(!o)return;i.push(o)}this.bridgeReport?il(i).call(i,(function(t){var e=t.event,i=t.params;n.appBridge.onEventV3(e,Rc(i))})):i.length&&(this.emit(Ap.Event,i),this.emit(Ap.SessionResetTime))}catch(t){console.warn("something error, please check"),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.beconEvent=function(t,e){if(hl(t))console.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(t,e||{});i&&(n.push(i),n.length&&(this.emit(Ap.BeconEvent,n),this.emit(Ap.SessionResetTime)))}},t.prototype.processEvent=function(t,e){void 0===e&&(e={});try{if(!t)return this.logger.warn("eventName is null， please check"),null;var n=t;/^event\./.test(t)&&(n=Dc(t).call(t,6));var i=e;"object"!=G(i)&&(i={}),i.profile?delete i.profile:i.event_index=ep();var o=void 0;return i.local_ms?(o=i.local_ms,delete i.local_ms):o=+new Date,{event:n,params:i,local_time_ms:o,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:n.message}),{event:t,params:e}}},t.prototype.filterEvent=function(t){this.eventFilter=t},t.prototype.on=function(t,e){this.hook.on(t,e)},t.prototype.once=function(t,e){this.hook.once(t,e)},t.prototype.off=function(t,e){this.hook.off(t,e)},t.prototype.emit=function(t,e,n){this.hook.emit(t,e,n)},t.prototype.set=function(t){this.hook.set(t)},t.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},t.prototype.predefinePageView=function(t){void 0===t&&(t={});var e={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Df(),referrer:window.document.referrer,$is_first_time:""+this.configManager.is_first_time},n=Wd({},e,t);this.event("predefine_pageview",n)},t.prototype.clearEventCache=function(){this.emit(Ap.CleanEvents)},t.prototype.setWebIDviaUnionID=function(t){if(t){var e=cp(t);this.config({web_id:""+e,wechat_unionid:t}),this.emit(Ap.CustomWebId)}},t.prototype.setWebId=function(t){this.config({web_id:""+t})},t.prototype.setWebIDviaOpenID=function(t){if(t){var e=cp(t);this.config({web_id:""+e,wechat_openid:t}),this.emit(Ap.CustomWebId)}},t.prototype.setNativeAppId=function(t){this.bridgeReport&&this.appBridge.setNativeAppId(t)},t.prototype.resetStayDuration=function(t,e,n){this.emit(Ap.ResetStay,{url_path:t,title:e,url:n},Ap.Stay)},t.prototype.resetStayParams=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n=""),this.emit(Ap.SetStay,{url_path:t,title:e,url:n},Ap.Stay)},t.prototype.getToken=function(t,e){var n=this,i=!1,o=function(e){if(!i){var o;i=!0;var r=n.configManager.get().user;return e&&(r.tobid=e,r[yl(o="diss".split("")).call(o).join("")]=e),t(Wd({},r))}},r=function(){n.tokenManager.getTobId().then((function(t){o(t)}))};this.sdkReady?r():(e&&rd((function(){o()}),e),this.on(Ap.Ready,(function(){r()})))},t.prototype.profileSet=function(t){this.bridgeReport?this.appBridge.profileSet(Rc(t)):this.emit(Ap.ProfileSet,t,Ap.Profile),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSet",level:"info",time:Df(),data:t})},t.prototype.profileSetOnce=function(t){this.bridgeReport?this.appBridge.profileSetOnce(Rc(t)):this.emit(Ap.ProfileSetOnce,t,Ap.Profile),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSetOnce",level:"info",time:Df(),data:t})},t.prototype.profileIncrement=function(t){this.bridgeReport?this.appBridge.profileIncrement(Rc(t)):this.emit(Ap.ProfileIncrement,t,Ap.Profile),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileIncrement",level:"info",time:Df(),data:t})},t.prototype.profileUnset=function(t){this.bridgeReport?this.appBridge.profileUnset(t):this.emit(Ap.ProfileUnset,t,Ap.Profile),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileUnset",level:"info",time:Df(),data:t})},t.prototype.profileAppend=function(t){this.bridgeReport?this.appBridge.profileAppend(Rc(t)):this.emit(Ap.ProfileAppend,t,Ap.Profile),this.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileAppend",level:"info",time:Df(),data:t})},t.prototype.setExternalAbVersion=function(t){var e;this.emit(Ap.AbExternalVersion,"string"==typeof t&&t?_d(e=""+t).call(e):null,Ap.Ab)},t.prototype.getVar=function(t,e,n){this.emit(Ap.AbVar,{name:t,defaultValue:e,callback:n},Ap.Ab)},t.prototype.getABconfig=function(t,e){this.emit(Ap.AbConfig,{params:t,callback:e},Ap.Ab)},t.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},t.prototype.onAbSdkVersionChange=function(t){var e=this;return this.emit(Ap.AbVersionChangeOn,t,Ap.Ab),function(){e.emit(Ap.AbVersionChangeOff,t,Ap.Ab)}},t.prototype.offAbSdkVersionChange=function(t){this.emit(Ap.AbVersionChangeOff,t,Ap.Ab)},t.prototype.openOverlayer=function(){this.emit(Ap.AbOpenLayer,"",Ap.Ab)},t.prototype.closeOverlayer=function(){this.emit(Ap.AbCloseLayer,"",Ap.Ab)},t.prototype.getAllVars=function(t){this.emit(Ap.AbAllVars,t,Ap.Ab)},t.prototype.sessionRecordStart=function(){this.emit(Ap.SessionRecordStart,Ap.sessionRecord)},t.prototype.sessionRecordPause=function(){this.emit(Ap.SessionRecordPause,Ap.sessionRecord)},t.prototype.sessionRecordEnd=function(){this.emit(Ap.SessionRecordEnd,Ap.sessionRecord)},t.prototype.sessionRecordReport=function(t){this.emit(Ap.SessionRecordReport,{callback:t},Ap.sessionRecord)},t.prototype.autoInitializationRangers=function(t){var e,n,i,o,r,a,s,c;n=(e=t).app_id,i=e.channel,o=e.onTokenReady,r=kp[i]+"/webid",a=new yp(!1),s="__tea_cache_tokens_"+n,(c=a.getItem(s))&&c.web_id?o(c.web_id):jp(r,{app_key:"",app_id:n,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(t){if(t&&0===t.e){o(t.web_id);var e={web_id:t.web_id,user_unique_id:t.web_id,timestamp:Df()};a.setItem(s,e)}else o("")}),(function(){o("")}),!0)},t.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(Ap.TokenComplete))},t.plugins=[],t}(),Hp="__rangers_ab_style__",Wp={},qp=[],Yp=function(t){t.length&&il(t).call(t,(function(t){qp.push(t)}))};function Jp(t,e,n,i){var o=t&&t.source||window.opener||window.parent,r=t&&t.origin||i||"*",a={type:e,payload:n};o.postMessage(Rc(a),r)}function Xp(t,e){Wp[t]=Wp[t]||[],Wp[t].push(e)}function Zp(t){if(Ad(qp).call(qp,(function(t){return"*"===t}))||Ad(qp).call(qp,(function(e){var n;return Un(n=t.origin).call(n,e)>-1}))){var e,n=t.data;if("string"==typeof t.data)try{n=JSON.parse(t.data)}catch(t){n=void 0}if(!n)return;var i=n.type,o=n.payload;Wp[i]&&il(e=Wp[i]).call(e,(function(e){"function"==typeof e&&e(t,o)}))}}function Qp(t,e){var n=Wd({},t);delete n.filter,(window.opener||window.parent).postMessage({type:"tea:sdk:info",config:n,version:e},"*"),window.addEventListener("message",Zp,!1)}var tv,ev="",nv=!1;function iv(t){var e=t.event,n=t.editorUrl;t.collectInstance,t.fromSession,nv||(nv=!0,op(n,(function(){Jp(e,"abEditorScriptloadSuccess")}),(function(){e&&Jp(e,"abEditorScriptloadError"),nv=!1})))}!function(t){t[t.Var=0]="Var",t[t.All=1]="All"}(tv||(tv={}));var ov=function(){function t(){this.fetchStatus="no",this.refreshFetchStatus="complete",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data=null,this.changeListener=new Xc,this.readyStatus=!1,this.exposureCache=[]}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,this.config=e,this.config.enable_ab_test){var i=e.enable_multilink,o=e.ab_channel_domain,r=e.enable_ab_visual,a=e.ab_cross,s=e.ab_cookie_domain,c=o||np(bp[e.channel||"sg"]),l=t.adapters,u=l.storage,h=l.fetch;this.cacheStorgae=new u(!1),this.fetch=h,this.enable_multilink=i,this.enable_ab_visual=r,this.abKey="__tea_sdk_ab_version_"+e.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=c+"/service/2/abtest_config/",this.reportUrl=""+t.configManager.getUrl("event"),this.exposureLimit=e.exposure_limit||20,this.ab_batch_time=e.ab_batch_time||500;var f=this.collect.Types;this.types=f,this.collect.on(f.TokenChange,(function(t){"uuid"===t&&n.readyStatus&&(n.clearCache(),n.fetchAB())})),this.collect.on(f.AbVar,(function(t){var e=t.name,i=t.defaultValue,o=t.callback;n.getVar(e,i,o)})),this.collect.on(f.AbAllVars,(function(t){n.getAllVars(t)})),this.collect.on(f.AbConfig,(function(t){var e=t.params,i=t.callback;n.getABconfig(e,i)})),this.collect.on(f.AbExternalVersion,(function(t){n.setExternalAbVersion(t)})),this.collect.on(f.AbOpenLayer,(function(){n.openOverlayer()})),this.collect.on(f.AbCloseLayer,(function(){n.closeOverlayer()})),this.collect.on(f.AbVersionChangeOn,(function(t){n.changeListener.set(t,t)})),this.collect.on(f.AbVersionChangeOff,(function(t){n.changeListener.get(t)&&n.changeListener.delete(t)})),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(f.AbReady)}},t.prototype.ready=function(t){var e=this;if(this.collect.set(t),this.collect.hook._hooksCache.hasOwnProperty(t)){var n=this.collect.hook._hooksCache[t];if(!vf(n).length)return;var i=function(t){var i;n[t].length&&il(i=n[t]).call(i,(function(n){e.collect.hook.emit(t,n)}))};for(var o in n)i(o)}},t.prototype.loadMode=function(){var t,e,n=function(){try{return JSON.parse(atob(window.name))||void 0}catch(t){return}}(),i="";if(n){var o=n.scenario,r=n.href;o?(this.editMode=!0,i=o):!r||-1===Un(r).call(r,"datatester")&&-1===Un(r).call(r,"visual-editor")||(this.editMode=!0,i="visual-editor")}this.enable_ab_visual&&(function(t,e){window.TEAVisualEditor=window.TEAVisualEditor||{},Yp(["*"]);var n,i="";Qp(e,Sp);var o="";try{var r=window.performance.getEntriesByType("resource");if(r&&r.length&&(il(r).call(r,(function(t){var e;"script"===t.initiatorType&&t.name&&-1!==Un(e=t.name).call(e,"collect")&&(o=t.name)})),o||document.currentScript&&(o=document.currentScript.src),o&&(n=o.split("/"))&&n.length)){i="https:/";for(var a=2;a<n.length&&a!==n.length-1;a++)i=i+"/"+n[a];i+="/visual-ab-core"}}catch(t){}Xp("tea:openVisualABEditor",(function(n){var o=n.data;if("string"==typeof n.data)try{o=JSON.parse(n.data)}catch(t){o=void 0}if(o){var r=o.lang;if(o.appId!==e.app_id)return Jp(n,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var a=o.version;ev=a&&i?i+(a?"."+a:".1.0.1")+".js?query="+Df():"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-ab-core.js?query="+Df(),window.TEAVisualEditor.lang=r,window.TEAVisualEditor.__ab_domin=e.channel_domain||"",iv({event:n,editorUrl:ev,collectInstance:t})}}))}(this.collect,this.config),"visual-editor"===i)?this.collect.destoryInstace():this.enable_multilink&&(t=this.collect,e=this.config,window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.appId=e.app_id,Xp("tea:openTesterEventInspector",(function(e){var n=e.data;if("string"==typeof e.data)try{n=JSON.parse(e.data)}catch(t){n=void 0}if(n){var i=n.referrer,o=n.lang,r=n.appId;window.TEAVisualEditor.__editor_ajax_domain=i||"",window.TEAVisualEditor.__ab_appId=r||"",window.TEAVisualEditor.lang=o||"",iv({event:e,editorUrl:"https://lf16-data.bytepluscdn.com/obj/data-static-sg/log-sdk/collect/tester-event-inspector.js?query="+Df(),collectInstance:t})}})))},t.prototype.checkLocal=function(){var t,e=this.getABCache(),n=e.ab_version,i=e.ab_ext_version,o=e.ab_version_multilink,r=e.data,a=this.checkFromUrl();a?this.mulilinkVersions.push(a):this.mulilinkVersions=o||[],this.extVersions=i||[],this.versions=n||[],this.data=r;var s=Ec(t=this.versions).call(t,this.extVersions);this.enable_multilink&&(s=Ec(s).call(s,this.mulilinkVersions)),this.configVersions(s.join(","))},t.prototype.checkFromUrl=function(){var t=sp(window.location.href);return t&&t.vid?t.vid:""},t.prototype.updateVersions=function(){var t,e,n=this.extVersions.length?Ec(t=this.versions).call(t,this.extVersions):this.versions;this.enable_multilink&&(n=Ec(n).call(n,this.mulilinkVersions)),this.configVersions(n.join(",")),this.updateABCache(),this.changeListener.size>0&&il(e=this.changeListener).call(e,(function(t){"function"==typeof t&&t(n)}))},t.prototype.configVersions=function(t){this.collect.configManager.setAbVersion(t)},t.prototype.getVar=function(t,e,n){if(!t)throw new Error("variable must not be empty");if(void 0===e)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var i={name:t,defaultValue:e,callback:n,type:tv.Var};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(i,t):this.callbacks.push(i)},t.prototype.getRealVar=function(t,e){var n=t.name,i=t.defaultValue,o=t.callback,r=this.data;if(r){if(Qd(r[n])){var a,s,c=r[n].vid;return"$ab_url"===e?zd(a=this.mulilinkVersions).call(a,c)||this.mulilinkVersions.push(c):zd(s=this.versions).call(s,c)||this.versions.push(c),this.updateVersions(),this.fechEvent(c,e,i),o(r[n].val),void this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 曝光了实验"+n,level:"info",time:Df(),data:r[n]})}this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用getVar",level:"info",time:Df(),data:i}),o(i)}else o(i)},t.prototype.getAllVars=function(t){if("function"!=typeof t)throw new Error("callback must be a function");var e={callback:t,type:tv.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(e):this.callbacks.push(e)},t.prototype.getRealAllVars=function(t){(0,t.callback)(this.data?JSON.parse(Rc(this.data)):{}),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用getAllVars",level:"info",time:Df(),data:this.data})},t.prototype.fechEvent=function(t,e,n){try{if(this.config.disable_track_event)return;if(!t)return;var i=this.collect.configManager.get(),o=i.header,r=i.user,a=this.getABCache();if(a&&a.uuid&&a.uuid!==r.user_unique_id)return;var s={event:"abtest_exposure",ab_sdk_version:""+t,params:Rc({app_id:this.config.appId,ab_url:"$ab_url"===e?n:window.location.href}),local_time_ms:Df()};o.custom=Rc(o.custom);var c={events:[s],user:r,header:o};"$ab_url"===e&&window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,Rc([c])):this.reportExposure(c)}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.reportExposure=function(t){var e=this;this.exposureCache.push(t),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report():this.reportTimeout=rd((function(){e.report(),clearTimeout(e.reportTimeout)}),this.ab_batch_time)},t.prototype.report=function(){var t,e=this;this.fetch(this.reportUrl,this.exposureCache,2e4),il(t=this.exposureCache).call(t,(function(t){e.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Df(),data:[t],code:200,status:"success"})})),this.exposureCache=[]},t.prototype.setExternalAbVersion=function(t){this.extVersions=[t],this.updateVersions()},t.prototype.getABconfig=function(t,e){var n=vf(t);n&&n.length&&this.collect.configManager.set(t),this.fetchAB(e)},t.prototype.get=function(t){if(this.ab_cross){var e=this.cacheStorgae.getCookie(t,this.ab_cookie_domain);return e?JSON.parse(e):null}return this.cacheStorgae.getItem(t)},t.prototype.set=function(t,e){this.ab_cross?this.cacheStorgae.setCookie(t,e,2592e6,this.ab_cookie_domain):this.cacheStorgae.setItem(t,e),this.collect.configManager.setAbCache(e)},t.prototype.getABCache=function(t){var e={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return e=this.get(this.abKey)||e,Df()-e.timestamp>=2592e6?(this.cacheStorgae.removeItem(this.abKey),null):t?e[t]:e},t.prototype.updateABCache=function(){var t=this.getABCache();t.ab_version_multilink=this.mulilinkVersions,t.ab_ext_version=this.extVersions,t.ab_version=this.versions,t.timestamp=Df(),this.set(this.abKey,t)},t.prototype.setAbCache=function(t){var e=this.getABCache();e.data=this.data,e.uuid=t,e.timestamp=Df(),this.set(this.abKey,e)},t.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[]},t.prototype.openOverlayer=function(t){var e=this;if(function(){if(!document.getElementById(Hp)){var t="body { opacity: 0 !important; }",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=Hp,n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}}(),t)var n=rd((function(){e.closeOverlayer(),clearTimeout(n)}),t)},t.prototype.closeOverlayer=function(){var t;(t=document.getElementById(Hp))&&t.parentElement.removeChild(t)},t.prototype.fetchComplete=function(t,e){var n,i=this;if(t&&"[object Object]"==Object.prototype.toString.call(t)){var o,r;this.data=t,this.setAbCache(e);var a=[];il(o=vf(t)).call(o,(function(e){var n=t[e].vid;n&&a.push(n)})),this.versions=ff(r=this.versions).call(r,(function(t){return zd(a).call(a,t)}));var s=t.$ab_url,c=t.$ab_modification;if(c&&c.val&&this.enable_ab_visual){if(this.collect.destroyInstance)return;this.getVar("$ab_modification",window.location.href,(function(){var t;t=c.val,window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.__ab_config=t,op("https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-ab-loader.js?query="+Df(),(function(){console.log("load visual render success")}),(function(){console.log("load visual render fail")})),i.closeOverlayer()}))}else if(s&&this.enable_multilink){var l;this.mulilinkVersions=ff(l=this.mulilinkVersions).call(l,(function(t){return zd(a).call(a,t)}));var u=s.val,h=s.vid;u&&h&&this.getVar("$ab_url",u,(function(){i.editMode||(u!==window.location.href?rd((function(){if(!i.collect.destroyInstance){var t=""+u;t=-1===Un(t).call(t,"http")?"https://"+t:t,ap(t).host!==location.host?t=t+"&vid="+h:window.history.replaceState("","",t),window.location.href=t}}),100):i.closeOverlayer())}))}this.updateVersions()}else this.closeOverlayer();il(n=this.callbacks).call(n,(function(t){return i[t.type===tv.Var?"getRealVar":"getRealAllVars"](t,"")})),this.callbacks=[]},t.prototype.fetchAB=function(t){var e=this,n=this.collect.configManager.get(),i={header:Wd({aid:this.config.app_id},n.user||{},n.header||{},{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})};this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 发起AB实验请求",level:"info",logType:"fetch",time:Df(),data:i}),this.fetch(this.fetchUrl,i,this.config.ab_timeout||3e3,!1,(function(i){e.fetchStatus="complete",e.refreshFetchStatus="complete";var o=i.data;"success"===i.message?(e.fetchComplete(o,n.user.user_unique_id),t&&t(o)):(e.fetchComplete(null,n.user.user_unique_id),t&&t(null)),e.collect.emit(e.types.AbComplete,o),e.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求成功",level:"info",logType:"fetch",time:Df(),data:o})}),(function(){e.fetchStatus="complete",e.refreshFetchStatus="complete",e.fetchComplete(null,n.user.user_unique_id),e.collect.emit(e.types.AbTimeout),t&&t(null),e.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求网络异常",level:"error",logType:"fetch",time:Df()})}))},t.prototype.filterUrl=function(t){try{var e="";-1!==Un(t).call(t,"&multilink=true")?e="&multilink=true[\0-ÿ]*":-1!==Un(t).call(t,"?multilink=true")&&(e="\\?multilink=true[\0-ÿ]*");var n=new RegExp(e,"g");t=t.replace(n,"")}catch(t){}return t},t}(),rv=function(){function t(){}return t.prototype.apply=function(t,e){var n=this,i=t.adapters.fetch;if(e.event_verify_url)if("string"==typeof e.event_verify_url){if(this.url=e.event_verify_url+"/v1/list_test",this.url){var o=t.Types;t.on(o.SubmitBefore,(function(t){i(n.url,t,3e4)}))}}else console.log("please use correct et_test url")},t}(),av=function(){function t(t,e){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.collect=t,this.config=e,this.pageStartTime=Df(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,Qd(e.enable_stay_duration)&&(this.options=Pn(this.options,e.enable_stay_duration))}return t.prototype.setParams=function(t,e,n){this.set_path=t,this.set_url=n,this.set_title=e},t.prototype.enable=function(t,e,n){this.url_path=t,this.url=n,this.title=e,this.disableCallback=this.enablePageAlive()},t.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Df()},t.prototype.sendEvent=function(t,e){void 0===e&&(e=!1);var n=e?this.aliveDTime:Df()-this.sessionStartTime;n<0||n>this.aliveDTime||Df()-this.pageStartTime>this.maxDuration||(this.collect.beconEvent(this.options.aliveName,Wd({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:rp(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:t},this.options.params)),this.sessionStartTime=Df())},t.prototype.getParams=function(t){switch(t){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},t.prototype.setUpTimer=function(){var t=this;return this.timerHandler&&clearInterval(this.timerHandler),kd((function(){Df()-t.sessionStartTime>t.aliveDTime&&t.sendEvent(!1,!0)}),1e3)},t.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Df(),this.timerHandler=this.setUpTimer())},t.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},t.prototype.enablePageAlive=function(){var t,e,n=this;this.timerHandler=this.setUpTimer();var i=Hd(t=this.visibilitychange).call(t,this),o=Hd(e=this.beforeunload).call(e,this);return document.addEventListener("visibilitychange",i),ip(o),function(){n.beforeunload(),document.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",o),window.removeEventListener("pagehide",o)}},t}(),sv=function(){function t(t,e){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Df():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Df())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Df())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",Rc({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(t){}n.sendEventPageClose()},this.collect=t,this.config=e,this.maxDuration=e.maxDuration||864e5,this.pageStartTime=Df(),Qd(e.enable_stay_duration)&&(this.options=Pn(this.options,e.enable_stay_duration)),this.resetData()}return t.prototype.setParams=function(t,e,n){this.set_path=t,this.set_url=n,this.set_title=e},t.prototype.enable=function(t,e,n){this.url_path=t,this.url=n,this.title=e,this.disableCallback=this.enablePageClose()},t.prototype.disable=function(){this.disableCallback()},t.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Df(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0},t.prototype.sendEventPageClose=function(){var t=Df()-this.pageStartTime;this.totalTime<0||t<0||this.totalTime>=this.maxDuration||(this.collect.beconEvent(this.options.closeName,Wd({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:t,is_support_visibility_change:rp()},this.options.params)),this.pageStartTime=Df(),this.resetData())},t.prototype.getParams=function(t){switch(t){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},t.prototype.enablePageClose=function(){var t,e,n=this,i=Hd(t=this.visibilitychange).call(t,this),o=Hd(e=this.beforeunload).call(e,this);return document.addEventListener("visibilitychange",i),ip(o),function(){n.beforeunload(),document.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",o),window.removeEventListener("pagehide",o)}},t}(),cv=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,this.config=e,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new av(t,e),this.pageClose=new sv(t,e);var i=this.collect.Types;this.collect.on(i.ResetStay,(function(t){var e=t.url_path,i=t.title,o=t.url;n.resetStayDuration(e,i,o)})),this.collect.on(i.RouteChange,(function(t){t.init||e.disable_route_report||n.resetStayDuration()})),this.collect.on(i.SetStay,(function(t){var e=t.url_path,i=t.title,o=t.url;n.setStayParmas(e,i,o)})),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},t.prototype.ready=function(t){var e=this;if(this.collect.set(t),this.collect.hook._hooksCache.hasOwnProperty(t)){var n=this.collect.hook._hooksCache[t];if(!vf(n).length)return;var i=function(t){var i;n[t].length&&il(i=n[t]).call(i,(function(n){e.collect.hook.emit(t,n)}))};for(var o in n)i(o)}},t.prototype.enable=function(t,e,n){this.pageAlive.enable(t,e,n),this.pageClose.enable(t,e,n)},t.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},t.prototype.setStayParmas=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n=""),this.pageAlive.setParams(t,e,n),this.pageClose.setParams(t,e,n),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayParams",level:"info",time:Df(),data:{url_path:t,title:e,url:n}})},t.prototype.reset=function(t,e,n){this.disable(),this.enable(t,e,n)},t.prototype.resetStayDuration=function(t,e,n){this.reset(t,e,n),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayDuration",level:"info",time:Df(),data:{url_path:t,title:e,url:n}})},t}(),lv=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.duration=6e4,this.reportUrl=t.configManager.getDomain()+"/profile/list";var i=t.Types,o=t.adapters.fetch;this.eventCheck=new xp(t,e),this.fetch=o,this.cache={},this.collect.on(i.ProfileSet,(function(t){n.setProfile(t)})),this.collect.on(i.ProfileSetOnce,(function(t){n.setOnceProfile(t)})),this.collect.on(i.ProfileUnset,(function(t){n.unsetProfile(t)})),this.collect.on(i.ProfileIncrement,(function(t){n.incrementProfile(t)})),this.collect.on(i.ProfileAppend,(function(t){n.appendProfile(t)})),this.collect.on(i.ProfileClear,(function(){n.cache={}})),this.ready(i.Profile)},t.prototype.ready=function(t){var e=this;if(this.collect.set(t),this.collect.hook._hooksCache.hasOwnProperty(t)){var n=this.collect.hook._hooksCache[t];if(!vf(n).length)return;var i=function(t){var i;n[t].length&&il(i=n[t]).call(i,(function(n){e.collect.hook.emit(t,n)}))};for(var o in n)i(o)}},t.prototype.report=function(t,e){void 0===e&&(e={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(t,e));var i=this.collect.eventManager.merge(n);this.fetch(this.reportUrl,i),this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Df(),data:i,code:200,status:"success"})}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t.prototype.setProfile=function(t){var e=this.formatParams(t);e&&vf(e).length&&(this.pushCache(e),this.report("__profile_set",Wd({},e,{profile:!0})))},t.prototype.setOnceProfile=function(t){var e=this.formatParams(t,!0);e&&vf(e).length&&(this.pushCache(e),this.report("__profile_set_once",Wd({},e,{profile:!0})))},t.prototype.incrementProfile=function(t){t?this.report("__profile_increment",Wd({},t,{profile:!0})):console.warn("please check the params, must be object!!!")},t.prototype.unsetProfile=function(t){if(t){var e={};e[t]="1",this.report("__profile_unset",Wd({},e,{profile:!0}))}else console.warn("please check the key, must be string!!!")},t.prototype.appendProfile=function(t){if(t){var e={};for(var n in t){var i;"string"==typeof t[n]||"Array"===Dc(i=Object.prototype.toString.call(t[n])).call(i,8,-1)?e[n]=t[n]:console.warn("please check the value of param: "+n+", must be string or array !!!")}vf(e).length&&this.report("__profile_append",Wd({},e,{profile:!0}))}else console.warn("please check the params, must be object!!!")},t.prototype.pushCache=function(t){var e,n=this;il(e=vf(t)).call(e,(function(e){n.cache[e]={val:n.clone(t[e]),timestamp:Df()}}))},t.prototype.formatParams=function(t,e){var n=this;void 0===e&&(e=!1);try{var i;if(!t||"[object Object]"!==Object.prototype.toString.call(t))return void console.warn("please check the params type, must be object !!!");var o={};for(var r in t){var a;"string"==typeof t[r]||"number"==typeof t[r]||"Array"===Dc(a=Object.prototype.toString.call(t[r])).call(a,8,-1)?o[r]=t[r]:console.warn("please check the value of params:"+r+", must be string,number,Array !!!")}var s=vf(o);if(!s.length)return;if(!this.eventCheck.checkEventParams(o))return;var c=Df();return ku(i=ff(s).call(s,(function(i){var o=n.cache[i];return e?!o:!(o&&n.compare(o.val,t[i])&&c-o.timestamp<n.duration)}))).call(i,(function(t,e){return t[e]=o[e],t}),{})}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log("error")}},t.prototype.compare=function(t,e){try{return Rc(t)===Rc(e)}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),!1}},t.prototype.clone=function(t){try{return JSON.parse(Rc(t))}catch(e){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:e.message}),t}},t.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},t}(),uv=function(){function t(){var t=this;this.setInterval=function(){t.clearIntervalFunc=function(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=1e3);var n,i=Df()+e;return n=rd((function o(){var r=Df()-i;t(),i+=e,n=rd(o,Math.max(0,e-r))}),e),function(){window.clearTimeout(n)}}((function(){t.isSessionhasEvent&&t.endCurrentSession()}),t.sessionInterval)},this.clearInterval=function(){t.clearIntervalFunc&&t.clearIntervalFunc()}}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,!e.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},t.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},t.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var t=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-t>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},t}(),hv=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,this.config=e,!this.config.channel_domain&&!e.disable_track_event&&!e.disable_sdk_monitor){var i=t.adapters.fetch;this.fetch=i,this.url=t.configManager.getUrl("event");var o=this.collect.Types;this.collect.on(o.Ready,(function(){n.sdkOnload()})),this.collect.on(o.SubmitError,(function(t){var e=t.type,i=t.eventData,o=t.errorCode;"f_data"===e&&n.sdkError(i,o)}))}},t.prototype.sdkOnload=function(){var t=this;try{var e=this.collect.configManager.get(),n=e.header,i=e.user,o=n.app_id,r=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:Rc({app_id:o,app_name:r||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Df()}],user:{user_unique_id:s},header:{}};rd((function(){t.fetch(t.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(t){}},t.prototype.sdkError=function(t,e){var n=this;try{var i=t[0],o=i.user,r=i.header,a=[];il(t).call(t,(function(t){var e;il(e=t.events).call(e,(function(t){a.push(t)}))}));var s={events:Cu(a).call(a,(function(t){return{event:"on_error",params:Rc({error_code:e,app_id:r.app_id,app_name:r.app_name||"",error_event:t.event,sdk_version:r.sdk_version,local_time_ms:t.local_time_ms,tea_event_index:Df(),params:t.params,header:Rc(r),user:Rc(o)}),local_time_ms:Df()}})),user:{user_unique_id:o.user_unique_id},header:{}};rd((function(){n.fetch(n.url,[s],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(t){}},t}();function fv(t,e){if(void 0===e&&(e="list"),!t)return!1;if(e&&"list"===e){var n;if(zd(n=["LI","TR","DL"]).call(n,t.nodeName))return!0;if(t.dataset&&t.dataset.hasOwnProperty("teaIdx"))return!0;if(t.hasAttribute&&t.hasAttribute("data-tea-idx"))return!0}else{var i;if(zd(i=["A","BUTTON"]).call(i,t.nodeName))return!0;if(t.dataset&&t.dataset.hasOwnProperty("teaContainer"))return!0;if(t.hasAttribute&&t.hasAttribute("data-tea-container"))return!0}return!1}function dv(t){for(var e=t;e&&!fv(e,"container");){if("HTML"===e.nodeName||"BODY"===e.nodeName)return t;e=e.parentElement}return e||t}function pv(t){var e,n,i="";return 3===t.nodeType?i=_d(e=t.textContent).call(e):t.dataset&&t.dataset.hasOwnProperty("teaTitle")||t.hasAttribute("ata-tea-title")?i=t.getAttribute("data-tea-title"):t.hasAttribute("title")?i=t.getAttribute("title"):"INPUT"===t.nodeName&&zd(n=["button","submit"]).call(n,t.getAttribute("type"))?i=t.getAttribute("value"):"IMG"===t.nodeName&&t.getAttribute("alt")&&(i=t.getAttribute("alt")),Dc(i).call(i,0,200)}var vv=function(t,e){return t.hasAttribute?t.hasAttribute(e):t.attributes?!(!t.attributes[e]||!t.attributes[e].specified):void 0},gv=function(t,e){if("string"==typeof e)return vv(t,e);if(tp(e)){for(var n=!1,i=0;i<e.length;i++)if(vv(t,e[i])){n=!0;break}return n}},mv=function(t,e){var n={};if("string"==typeof e)vv(t,e)&&(n.attrs=t.getAttribute(e));else if(tp(e))for(var i=0;i<e.length;i++)vv(t,e[i])&&(n[e[i]]=t.getAttribute(e[i]));return n},yv=function(){function t(t,e,n){var i=this;this.clickEvent=function(t){(function(t,e){var n;if(1!==t.nodeType)return!1;if(!e.svg&&function(t){if("svg"===t.tagName.toLowerCase())return!0;for(var e=t.parentElement,n=!1;e;)"svg"===e.tagName.toLowerCase()?(e=null,n=!0):e=e.parentElement;return n}(t))return!1;if(zd(n=["HTML","BODY"]).call(n,t.tagName.toUpperCase()))return!1;var i=t;return!("none"===i.style.display||!fv(i,"container")&&!function(t){if(t.children.length){var e,n=t.children;return!Ad(e=Dc([]).call(n)).call(e,(function(t){return t.children.length>0}))}return!0}(i)&&!e.svg)})(t.target,i.options)&&i.eventHandel({eventType:"dom",eventName:"click"},t)},this.changeEvent=function(t){i.eventHandel({eventType:"dom",eventName:"change"},t)},this.submitEvent=function(t){i.eventHandel({eventType:"dom",eventName:"submit"},t)},this.getPageViewEvent=function(t,e){e&&"pushState"===e&&i.eventHandel({eventType:"dom",eventName:"beat"},Wd({beat_type:0},t)),i.eventHandel({eventType:"dom",eventName:"page_view"},t)},this.getPageLoadEvent=function(t){i.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:t})},this.config=n.getConfig().eventConfig,this.collect=e,this.options=t,this.beatTime=t.beat,this.statistics=!1}return t.prototype.init=function(t){this.eventHandel=t;var e=this.config.mode;this.addListener(e)},t.prototype.addListener=function(t){var e=this;if("proxy-capturing"===t&&(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv&&this.collect.on("route-change",(function(t){var n=t.config,i=t.name;e.getPageViewEvent(n,i)})),this.config.beat)){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",(function(){e.beatEvent(e.beatTime)}));var n=0,i=null;window.addEventListener("scroll",(function(){clearTimeout(i),i=rd(o,500),n=document.documentElement.scrollTop||document.body.scrollTop}));var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==n&&e.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(t){}try{var r=window.performance&&window.performance.getEntriesByType("paint");r&&r.length?(new PerformanceObserver((function(t){var n=t.getEntries(),i=n[n.length-1],o=i.renderTime||i.loadTime;e.statistics||(e.getPageLoadEvent(o),e.statistics=!0)})).observe({entryTypes:["largest-contentful-paint"]}),rd((function(){e.statistics||(e.getPageLoadEvent(r[0].startTime||0),e.statistics=!0)}),2e3)):this.getPageLoadEvent(0)}catch(t){this.getPageLoadEvent(0)}}},t.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},t.prototype.beatEvent=function(t){var e=this;try{var n;this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(n=kd((function(){e.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})}),t)),ip((function(){e.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),e.beatTime&&clearInterval(n)}))}catch(t){}},t}(),_v={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},kv=function(){function t(t,e){this.config=t,this.config.eventConfig=Pn(this.config.eventConfig,e)}return t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(t){return this.config=t},t}();function bv(t,e,n,i){var o={},r=function(t){if(t){var e=t.getBoundingClientRect(),n=e.width,i=e.height;return{left:e.left,top:e.top,element_width:n,element_height:i}}}(e),a=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=t.clientX,i=t.clientY,o=e.left,r=e.top,a=n-o>=0?n-o:0,s=i-r>=0?i-r:0;return{touch_x:Math.floor(a),touch_y:Math.floor(s)}}(t,r),s=r.element_width,c=r.element_height,l=a.touch_x,u=a.touch_y,h=function(t){for(var e=[];null!==t.parentElement;)e.push(t),t=t.parentElement;var n=[],i=[];return il(e).call(e,(function(t){var e=function(t){if(null===t)return{str:"",index:0};var e=0,n=t.parentElement;if(n)for(var i=n.children,o=0;o<i.length&&i[o]!==t;o++)i[o].nodeName===t.nodeName&&e++;return{str:[t.nodeName.toLowerCase(),fv(t,"list")?"[]":""].join(""),index:e}}(t),o=e.str,r=e.index;n.unshift(o),i.unshift(r)})),{element_path:"/"+n.join("/"),positions:i}}(e),f=h.element_path,d=h.positions,p=function(t){var e=dv(t),n=[];return function t(e){var i=pv(e);if(i&&-1===Un(n).call(n,i)&&n.push(i),e.childNodes.length>0)for(var o=e.childNodes,r=0;r<o.length;r++)8!==o[r].nodeType&&t(o[r])}(e),n}(e),v=window.performance.timing.navigationStart,g=Df()-v,m=Cu(d).call(d,(function(t){return""+t})),y=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(y=window.TEAVisualEditor.getOriginXpath({xpath:f,positions:m})),o.element_path=y&&y.xpath||f,o.positions=y&&y.positions||m,i&&!i.text&&(o.texts=p,o.element_title=function(t){var e=dv(t),n="";return function t(e){var i=pv(e);if(i&&(n+=i),e.childNodes.length>0)for(var o=e.childNodes,r=0;r<o.length;r++)3===o[r].nodeType&&t(o[r])}(e),n}(e)),o.element_id=e.getAttribute("id")||"",o.element_class_name=e.getAttribute("class")||"",o.element_type=e.nodeType,o.element_width=Math.floor(s),o.element_height=Math.floor(c),o.touch_x=l,o.touch_y=u,o.page_manual_key="",o.elememt_manual_key="",o.since_page_start_ms=g,o.page_start_ms=v,o.page_path=location.pathname,o.page_host=location.host,n.track_attr&&function(t,e){return!!gv(t,e)}(e,n.track_attr)){var _=mv(e,n.track_attr);for(var k in _)o[k]=_[k]}var b=dv(e);return"A"===b.tagName&&(o.href=b.getAttribute("href")),"IMG"===e.tagName&&(o.src=e.getAttribute("src")),o}var wv=function(t,e,n,i,o){return Wd({event:t},bv(e,n,i,o),{is_html:1,page_key:window.location.href,page_title:document.title})},Ev=function(){function t(t,e){this.ignore={text:!0},this.initConfig=t,this.options=e,this.eventName=e&&"tea"===e.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},e&&!0===e.text&&(this.ignore.text=!1),e&&e.exposure&&e.exposure.eventName&&(this.eventName.exposure=e.exposure.eventName)}return t.prototype.handleEvent=function(t,e){try{if(function(t){for(var e=t;e&&e.parentNode;){if(e.hasAttribute("data-tea-ignore"))return!0;if("HTML"===e.nodeName||"body"===e.nodeName)return!1;e=e.parentNode}return!1}(t.target))return null;var n="bav2b_click";switch(e){case"click":return n=this.eventName.click,wv(n,t,t.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,wv(n,t,t.target,this.options,this.ignore);case"change":return Wd({},wv(n="bav2b_change",t,t.target,this.options),function(t,e){try{if("bav2b_change"===t)return e.hasAttribute("data-tea-track")?{value:e.value}:{}}catch(t){return{}}}(n,t.target));case"submit":return wv(n="bav2b_submit",t,t.target,this.options)}}catch(t){return console.error(t),null}},t.prototype.handleViewEvent=function(t){t.event=this.eventName.page,t.page_title=document.title,t.page_total_width=window.innerWidth,t.page_total_height=window.innerHeight;try{var e=window.sessionStorage.getItem("_tea_cache_duration");if(e){var n=JSON.parse(e);t.refer_page_duration_ms=n?n.duration:""}t.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,t.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,t.page_start_ms=window.performance.timing.navigationStart}catch(t){console.log("page event error "+Rc(t))}return t},t.prototype.handleStatisticsEvent=function(t){var e={};e.event=this.eventName.static,e.is_html=1,e.page_key=location.href,e.refer_page_key=document.referrer||"",e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"",e.refer_page_manual_key="";try{var n=t.lcp,i=window.performance.timing,o=i.loadEventEnd-i.navigationStart;e.page_init_cost_ms=Zf(n||(o>0?o:0)),e.page_start_ms=i.navigationStart}catch(t){console.log("page_statistics event error "+Rc(t))}return e},t.prototype.handleBeadtEvent=function(t){t.event=this.eventName.beat,t.page_key=window.location.href,t.is_html=1,t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{t.page_viewport_width=window.innerWidth,t.page_viewport_height=window.innerHeight,t.page_total_width=document.documentElement.scrollWidth,t.page_total_height=document.documentElement.scrollHeight,t.scroll_width=document.documentElement.scrollLeft+window.innerWidth,t.scroll_height=document.documentElement.scrollTop+window.innerHeight,t.since_page_start_ms=Df()-window.performance.timing.navigationStart,t.page_start_ms=window.performance.timing.navigationStart}catch(t){console.log("beat event error "+Rc(t))}return t},t}(),Sv=function(){function t(t){this.collect=t,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return t.prototype.send=function(t,e){var n=t.eventSend,i=e.event;delete e.event,n&&"becon"===n?this.collect.beconEvent(i,e):this.collect.event(i,e)},t.prototype.get=function(t,e){var n=Pn({headers:{"content-type":"application/json"},method:"GET"},e);fetch(t,n)},t.prototype.post=function(t,e){var n=Pn({headers:{"content-type":"application/json"},method:"POST"},e);fetch(t,n)},t}(),xv="_TEA_VE_OPEN",Av="_TEA_VE_APIHOST",Cv="lang",Tv="_VISUAL_EDITOR_V",Mv="_VISUAL_EDITOR_U";function Ov(){try{var t=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||fp.get(Cv),e=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||fp.get(Av),n=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||fp.get(Tv),i=window.TEAVisualEditor.__editor_url=window.TEAVisualEditor.__editor_url||fp.get(Mv),o=+new Date,r=new Date(o+18e5);fp.set(xv,"1",{expires:r}),fp.set(Av,e,{expires:r}),fp.set(Mv,i,{expires:r}),fp.set(Cv,t,{expires:r}),fp.set(Tv,n||"",{expires:r})}catch(t){console.log("set cookie err")}}var Dv=!1;function Pv(t){var e=t.event,n=t.editorUrl,i=t.autoTrackInstance;Dv||(Dv=!0,op(n,(function(){Jp(e,"editorScriptloadSuccess"),i.destroy()}),(function(){e&&Jp(e,"editorScriptloadError"),Dv=!1})))}var Iv,Rv=function(){function t(t){this._instance=null,this._intersection=t,this.init()}return t.prototype.init=function(){var t=this;this._instance=new MutationObserver((function(e){il(e).call(e,(function(e){"attributes"===e.type&&t.attributeChangeObserve(e),"childList"===e.type&&t.modifyNodeObserve(e)}))})),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},t.prototype.attributeChangeObserve=function(t){t.target.hasAttribute("data-exposure")?this.exposureAdd(t,"mutation"):this.exposureRemove(t)},t.prototype.modifyNodeObserve=function(t){var e=this;il(Array.prototype).call(t.addedNodes,(function(t){1===t.nodeType&&t.hasAttribute("data-exposure")&&e.exposureAdd(t,"intersect"),e.mapChild(t,e.exposureAdd)})),il(Array.prototype).call(t.removedNodes,(function(t){1===t.nodeType&&t.hasAttribute("data-exposure")&&e.exposureRemove(t),e.mapChild(t,e.exposureRemove)}))},t.prototype.mapChild=function(t,e){var n=this;1===t.nodeType&&t.children.length&&il(Array.prototype).call(t.children,(function(t){1===t.nodeType&&t.hasAttribute("data-exposure")&&e(t),n.mapChild(t,e)}))},t.prototype.exposureAdd=function(t,e){this._intersection.exposureAdd(t,e)},t.prototype.exposureRemove=function(t){this._intersection.exposureRemove(t)},t._exposure_observer=null,t}(),zv=function(){function t(e,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=t._observer_map,e.autotrack.exposure.ratio?this.Ratio=e.autotrack.exposure.ratio:0===e.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return t.prototype.buildObserver=function(){var e=this;if(!t._observer_instance)return IntersectionObserver&&(t._observer_instance=new IntersectionObserver((function(t){il(t).call(t,(function(t){e.observeMap.get(t.target._observeId)&&e.exposureEvent(t)}))}),{threshold:[.01,.25,.5,.75,1]})),t._observer_instance},t.prototype.exposureAdd=function(t,e){var n=t;"mutation"===e&&(n=t.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var o=n.getBoundingClientRect(),r=o.top,a=o.left,s=o.right,c=o.bottom;r>=0&&c<=window.innerHeight&&a>=0&&s<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},t))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},t.prototype.exposureRemove=function(t){this.observeMap.has(t._observeId)&&(this.observeMap.delete(t._observeId),this.unobserve(t))},t.prototype.exposureEvent=function(t){if(t.intersectionRatio>=this.Ratio&&t.isIntersecting){if("0"===t.target.style.opacity||"hidden"===t.target.style.visibility)return;if(!0===t.target.visible)return;t.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},t)}else t.target.visible=!1},t.prototype.observe=function(t){this.instance.observe(t)},t.prototype.unobserve=function(t){this.instance.unobserve(t)},t._observer_instance=null,t._observer_map=new Xc,t}(),$v=function(){function t(t,e){t.autotrack&&t.autotrack.exposure&&(this._intersection=new zv(t,e),this._observer=new Rv(this._intersection),this.initObserver())}return t.prototype.initObserver=function(){var t=this;il(Array.prototype).call(document.querySelectorAll("[data-exposure]"),(function(e){t._intersection.exposureAdd(e,"intersect")}))},t}(),Gv={hashTag:!1,impr:!1},jv=function(){function t(){}return t.prototype.apply=function(t,e){if(this.autoTrackStart=!1,this.collect=t,this.config=e,e.autotrack){var n=t.Types;e.autotrack&&e.autotrack.collect_url&&!e.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},t.prototype.ready=function(t){var e;this.collect.set(t);var n=this.config.autotrack;n="object"==G(n)?n:{},n=Pn(Gv,n),this.destroyed=!1,this.options=n,this.Config=new kv(_v,this.options),this.Exposure=new $v(this.config,Hd(e=this.handle).call(e,this)),this.Listener=new yv(n,this.collect,this.Config),this.EventHandle=new Ev(this.config,n),this.Request=new Sv(this.collect),this.autoTrackStart=!0,this.init(),function(t,e){window.TEAVisualEditor=window.TEAVisualEditor||{};var n="",i="https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-editor-rangers.js?query="+Df();window.TEAVisualEditor.appId=e.app_id;var o=e.channel_domain,r="";if(Yp(["*"]),o){var a,s="";try{var c=window.performance.getEntriesByType("resource");if(c&&c.length&&(il(c).call(c,(function(t){var e;"script"===t.initiatorType&&t.name&&-1!==Un(e=t.name).call(e,"collect")&&(s=t.name)})),s&&(a=s.split("/"))&&a.length)){r="https:/";for(var l=2;l<a.length&&l!==a.length-1;l++)r=r+"/"+a[l];if(r&&Un(r).call(r,"/5.0")){var u=r.split("/5.0");r=u[0]||r}}}catch(t){}}if(Qp(e,Sp),"1"===fp.get(xv)){var h=function(){var t=fp.get(Av);try{t=JSON.parse(t)}catch(t){}return t}(),f="";h&&(window.TEAVisualEditor.__editor_ajax_domain=h,f=fp.get(Mv)),Pv({event:null,editorUrl:f||i,autoTrackInstance:t}),Ov()}else try{Xp("tea:openVisualEditor",(function(e){var a=e.data;if("string"==typeof e.data)try{a=JSON.parse(e.data)}catch(t){a=void 0}if(a){var s=a.referrer,c=a.lang;if(s&&(window.TEAVisualEditor.__editor_ajax_domain=s),n=i,o){var l=a.version;n=r?r+(l?"/visual-editor-rangers-v"+l:"/visual-editor-rangers-v1.0.0")+".js":i,window.TEAVisualEditor.__editor_verison=l}window.TEAVisualEditor.__editor_url=n,window.TEAVisualEditor.lang=c,Pv({event:e,editorUrl:n,autoTrackInstance:t}),Ov()}})),window.TEAVisualEditor.openAutotrackEditor=function(){Pv({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:t})}}catch(t){console.log("receive message error")}try{Xp("tea:openHeatMapCore",(function(n){var i=n.data.app_id;i&&i!==e.app_id||Pv({event:n,editorUrl:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/heatmap-core.js?query="+Df(),autoTrackInstance:t})}))}catch(t){console.log("openHeatMapCore error")}}(this,this.config)},t.prototype.init=function(){var t;this.Listener.init(Hd(t=this.handle).call(t,this))},t.prototype.handle=function(t,e){"dom"===t.eventType&&this.handleDom(t,e)},t.prototype.handleDom=function(t,e){try{var n=t.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(e,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var o;o="page_view"===n?this.EventHandle.handleViewEvent(e):this.EventHandle.handleStatisticsEvent(e),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},o)}else if("beat"===n){var r=this.EventHandle.handleBeadtEvent(e),a=t.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},r)}}catch(t){console.log("handel dom event error "+Rc(t))}},t.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},t}();!function(t){t.Net="net",t.FailNet="f_net",t.FailData="f_data"}(Iv||(Iv={}));var Bv={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},Lv=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;if(this.ready=e.app_id&&e.enable_tracer&&!e.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Xc,this.collect=t,this.appid=e.app_id,this.reportUrl=t.configManager.getUrl("event");var i=this.collect.Types,o=t.adapters.fetch;this.fetch=o,this.collect.on(i.Event,(function(t){tp(t)?il(t).call(t,(function(t){n.addCount("log")})):n.addCount("log")})),this.collect.on(i.SubmitError,(function(t){var e=t.type,i=t.eventDate,o=t.errorCode,r=t.response;n.addErrorCount(i,e,o,r)})),this.listener(),this.collect.emit(i.TracerReady)}},t.prototype.addCount=function(t,e,n){void 0===e&&(e="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Xc);var i=void 0;if(this.tracerCache.has(t))(o=this.tracerCache.get(t)).has(e)?(i=o.get(e).params.count,i++,o.set(e,this.processTracer(i,t,e))):(i=n,o.set(e,this.processTracer(n,t,e)));else{var o=new Xc;i=n,o.set(e,this.processTracer(n,t,e)),this.tracerCache.set(t,o)}"net"===e&&i>=this.limit[t]&&this.report(!1)}catch(t){console.log(t)}},t.prototype.addErrorCount=function(t,e,n,i){var o=this;try{if(t&&t.length){var r=t[0].events;r&&r.length&&("f_data"===e?(i&&i.hasOwnProperty("sc")?this.addCount("log",e,r.length-i.sc):this.addCount("log",e,r.length),this.errorCode[e]=n):il(r).call(r,(function(t){var i="log";for(var r in Bv){var a;if(-1!==Un(a=Bv[r]).call(a,t.event)){i=r;break}}o.addCount(i,e,1),o.errorCode[e]=n})))}}catch(t){}},t.prototype.report=function(t){if(this.tracerCache){var e,n=[];il(e=this.tracerCache).call(e,(function(t){console.log(t),il(t).call(t,(function(t){n.push(t)}))})),n&&n.length&&this.sendTracer(n,t)}},t.prototype.sendTracer=function(t,e){try{var n=this.collect.eventManager.merge(t);e&&window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,Rc(n)):this.fetch(this.reportUrl,n),this.tracerCache=null}catch(t){}},t.prototype.processTracer=function(t,e,n){try{var i={count:t,state:n,key:e,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:Sp};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var o=this.collect.processEvent("applog_trace",i);if(o&&o.event)return delete o.is_bav,o}catch(t){console.warn("something error")}},t.prototype.listener=function(){var t=this;document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.leavePage()})),ip((function(){t.leavePage()}))},t.prototype.leavePage=function(){this.report(!0)},t}(),Nv=lp((function(t,e){t.exports=function(){var t,e="millisecond",n="second",i="minute",o="hour",r="day",a="week",s="month",c="quarter",l="year",u="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},g={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+v(i,2,"0")+":"+v(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(i,s),r=n-o<0,a=e.clone().add(i+(r?-1:1),s);return+(-(i+(n-o)/(r?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:a,d:r,D:u,h:o,m:i,s:n,ms:e,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",y={};y[m]=p;var _=function(t){return t instanceof E},k=function(t,e,n){var i;if(!t)return m;if("string"==typeof t)y[t]&&(i=t),e&&(y[t]=e,i=t);else{var o=t.name;y[o]=t,i=o}return!n&&i&&(m=i),i||!n&&m},b=function(t,e){if(_(t))return t.clone();var n="object"==G(e)?e:{};return n.date=t,n.args=arguments,new E(n)},w=g;w.l=k,w.i=_,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var E=function(){function t(t){this.$L=k(t.locale,null,!0),this.parse(t)}var p=t.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(f);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return b(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<b(t)},p.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var c=this,h=!!w.u(e)||e,f=w.p(t),d=function(t,e){var n=w.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return h?n:n.endOf(r)},p=function(t,e){var n;return w.w(c.toDate()[t].apply(c.toDate("s"),Dc(n=h?[0,0,0,0]:[23,59,59,999]).call(n,e)),c)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case l:return h?d(1,0):d(31,11);case s:return h?d(1,g):d(0,g+1);case a:var _=this.$locale().weekStart||0,k=(v<_?v+7:v)-_;return d(h?m-k:m+(6-k),g);case r:case u:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case n:return p(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,a){var c,h=w.p(t),f="set"+(this.$u?"UTC":""),d=(c={},c[r]=f+"Date",c[u]=f+"Date",c[s]=f+"Month",c[l]=f+"FullYear",c[o]=f+"Hours",c[i]=f+"Minutes",c[n]=f+"Seconds",c[e]=f+"Milliseconds",c)[h],p=h===r?this.$D+(a-this.$W):a;if(h===s||h===l){var v=this.clone().set(u,1);v.$d[d](p),v.init(),this.$d=v.set(u,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,e){var c,u=this;t=Number(t);var h=w.p(e),f=function(e){var n=b(u);return w.w(n.date(n.date()+Math.round(e*t)),u)};if(h===s)return this.set(s,this.$M+t);if(h===l)return this.set(l,this.$y+t);if(h===r)return f(1);if(h===a)return f(7);var d=(c={},c[i]=6e4,c[o]=36e5,c[n]=1e3,c)[h]||1,p=this.$d.getTime()+t*d;return w.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e,n=this,i=this.$locale();if(!this.isValid())return i.invalidDate||h;var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),a=this.$H,s=this.$m,c=this.$M,l=i.weekdays,u=i.months,f=function(t,e,i,r){return t&&(t[e]||t(n,o))||i[e].substr(0,r)},p=function(t){return w.s(a%12||12,t,"0")},v=i.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},g={YY:Dc(e=String(this.$y)).call(e,-2),YYYY:this.$y,M:c+1,MM:w.s(c+1,2,"0"),MMM:f(i.monthsShort,c,u,3),MMMM:f(u,c),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,l,2),ddd:f(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:w.s(a,2,"0"),h:p(1),hh:p(2),a:v(a,s,!0),A:v(a,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return o.replace(d,(function(t,e){return e||g[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,e,u){var h,f=w.p(e),d=b(t),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,g=w.m(this,d);return g=(h={},h[l]=g/12,h[s]=g,h[c]=g/3,h[a]=(v-p)/6048e5,h[r]=(v-p)/864e5,h[o]=v/36e5,h[i]=v/6e4,h[n]=v/1e3,h)[f]||v,u?g:w.a(g)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return y[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=k(t,e,!0);return i&&(n.$L=i),n},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},t}(),S=E.prototype;return b.prototype=S,il(t=[["$ms",e],["$s",n],["$m",i],["$H",o],["$W",r],["$M",s],["$y",l],["$D",u]]).call(t,(function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,E,b),t.$i=!0),b},b.locale=k,b.isDayjs=_,b.unix=function(t){return b(1e3*t)},b.en=y[m],b.Ls=y,b.p={},b}()})),Uv=lp((function(t,e){var n,i,o,r,a,s,c,l,u,h,f,d,p,v,g,m,y;t.exports=(a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:s=31536e6,months:c=2592e6,days:r=864e5,hours:o=36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},h=function(t){return t instanceof y},f=function(t,e,n){return new y(t,n,e.$l)},d=function(t){return i.p(t)+"s"},p=function(t){return t<0},v=function(t){return p(t)?Math.ceil(t):Math.floor(t)},g=function(t){return Math.abs(t)},m=function(t,e){return t?p(t)?{negative:!0,format:""+g(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},y=function(){function t(t,e,n){var i,o=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return f(t*u[d(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==G(t))return il(i=vf(t)).call(i,(function(e){o.$d[d(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var r=t.match(l);if(r){var a,s=Cu(a=Dc(r).call(r,2)).call(a,(function(t){return Number(t)}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var e=t.prototype;return e.calMilliseconds=function(){var t,e=this;this.$ms=ku(t=vf(this.$d)).call(t,(function(t,n){return t+(e.$d[n]||0)*u[n]}),0)},e.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=v(t/s),t%=s,this.$d.months=v(t/c),t%=c,this.$d.days=v(t/r),t%=r,this.$d.hours=v(t/o),t%=o,this.$d.minutes=v(t/6e4),t%=6e4,this.$d.seconds=v(t/1e3),t%=1e3,this.$d.milliseconds=t},e.toISOString=function(){var t=m(this.$d.years,"Y"),e=m(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=m(n,"D"),o=m(this.$d.hours,"H"),r=m(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var s=m(a,"S"),c=t.negative||e.negative||i.negative||o.negative||r.negative||s.negative,l=o.format||r.format||s.format?"T":"",u=(c?"-":"")+"P"+t.format+e.format+i.format+l+o.format+r.format+s.format;return"P"===u||"-P"===u?"P0D":u},e.toJSON=function(){return this.toISOString()},e.format=function(t){var e=t||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return e.replace(a,(function(t,e){return e||String(n[t])}))},e.as=function(t){return this.$ms/u[d(t)]},e.get=function(t){var e=this.$ms,n=d(t);return"milliseconds"===n?e%=1e3:e="weeks"===n?v(e/u[n]):this.$d[n],0===e?0:e},e.add=function(t,e,n){var i;return i=e?t*u[d(e)]:h(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},e.subtract=function(t,e){return this.add(t,e,!0)},e.locale=function(t){var e=this.clone();return e.$l=t,e},e.clone=function(){return f(this.$ms,this)},e.humanize=function(t){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},e.milliseconds=function(){return this.get("milliseconds")},e.asMilliseconds=function(){return this.as("milliseconds")},e.seconds=function(){return this.get("seconds")},e.asSeconds=function(){return this.as("seconds")},e.minutes=function(){return this.get("minutes")},e.asMinutes=function(){return this.as("minutes")},e.hours=function(){return this.get("hours")},e.asHours=function(){return this.as("hours")},e.days=function(){return this.get("days")},e.asDays=function(){return this.as("days")},e.weeks=function(){return this.get("weeks")},e.asWeeks=function(){return this.as("weeks")},e.months=function(){return this.get("months")},e.asMonths=function(){return this.as("months")},e.years=function(){return this.get("years")},e.asYears=function(){return this.as("years")},t}(),function(t,e,o){n=o,i=o().$utils(),o.duration=function(t,e){var n=o.locale();return f(t,{$l:n},e)},o.isDuration=h;var r=e.prototype.add,a=e.prototype.subtract;e.prototype.add=function(t,e){return h(t)&&(t=t.asMilliseconds()),Hd(r).call(r,this)(t,e)},e.prototype.subtract=function(t,e){return h(t)&&(t=t.asMilliseconds()),Hd(a).call(a,this)(t,e)}})}));Nv.extend(Uv);var Vv=["__cep_sdk_onboard","__cep_trigger_sdk","_be_active"],Kv=["and","or","not"],Fv=function(){function t(){this.support=!0,this.currentPlan=1,this.shouldSendEvent=!1,this.staing=!1,this.test=!1,this.cepReady=!1,this.eventCache=[]}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,this.config=e,this.config.cep){var i=t.adapters,o=i.fetch,r=i.storage,a=t.Types;this.types=a,this.storage=new r(!1),this.fetch=o,this.configManager=t.configManager,this.url=e.cep_url?""+e.cep_url:t.configManager.getDomain()+"/service/2/cep_settings/",this.reportUrl=t.configManager.getUrl("event"),this.key="__tea_cep_plan_"+e.app_id,this.quotasKey="__tea_cep_plan_quotas_"+e.app_id,this.isWait=!1,this.eventCache=[],this.test=t.configManager.staging,this.collect.on(a.SubmitAfter,(function(t){n.matchEvent(t)})),this.init()}},t.prototype.init=function(){var t=this,e=!0,n=0,i=0,o=0,r=!1,a=this.storage.getItem(this.key)||{};if(a&&vf(a).length&&(r=!0,n=a.last_update_time,i=a.fetch_interval,o=a.config_version||0,e=Df()-n>1e3*i),e){var s=this.configManager.get(),c=s.header,l=s.user;this.fetch(this.url,{header:c,user:l,local_time:Df(),config_version:o},1e4,!1,(function(e){var n;e&&0===e.code?(a.fetch_interval=e.fetch_interval,a.data=e.data,a.last_update_time=Df(),a.config_version=e.config_version,t.clearQuotas(),t.initState(e.data),t.storage.setItem(t.key,a),il(n=e.data).call(n,(function(e){t.event("__cep_sdk_onboard",e.plan_id)}))):304!==e.code&&400!==e.code||!r?console.log("code: "+e.code+", request error，please try leater"):(console.log("code: "+e.code+", use old rules~"),a.last_update_time=Df(),t.storage.setItem(t.key,a),t.initState(a.data))}),(function(){r?(t.planData=a.data,t.initState(a.data)):(t.support=!1,console.log("request error，please try leater"))}))}else a.last_update_time=Df(),this.storage.setItem(this.key,a),console.log("rule still work, use cache"),this.initState(a.data)},t.prototype.initState=function(t){var e=this;t&&t.length&&(this.stateArray=new Xc,this.waitArray=new Xc,this.planData=t,il(t).call(t,(function(t){var n=new Xc;if(t.pattern&&t.pattern.events){var i,o=1===t.pattern.events.length;il(i=t.pattern.events).call(i,(function(t){n.set(t.id,{id:t.id,isMatch:!1,event:null,after:t.after||null,connection:t.connection||null,window:t.window||null,matchTime:0,initTime:Df(),singleRule:o})})),e.stateArray.set(t.plan_id,{patternState:n,singleRule:o,pattern:{aid:t.aid,biz_id:t.biz_id,end_time:t.end_time,start_time:t.start_time,web_sdk_version:t.web_sdk_version,stage:t.stage},quotas:t.quotas})}})),this.cepReady=!0,this.dealCache(),this.collect.emit(this.types.CepReady))},t.prototype.check=function(t){var e=Df();return Df()>1e3*t.end_time?(console.log("event rules:"+t.plan_id+" is over"),!1):e<1e3*t.start_time||e>1e3*t.end_time?(console.log("rule:"+t.plan_id+" time error"),!1):(this.staing="testing"===t.staing,!(Sp<t.web_sdk_version&&(this.support=!1,console.log("you sdk version is old，please update to "+t.web_sdk_version+" at least"),1)))},t.prototype.dealCache=function(){var t=this;if(this.eventCache.length){var e,n=1;il(e=this.eventCache).call(e,(function(e){t.matchEvent(e),n++})),n===this.eventCache.length&&(this.eventCache=[])}},t.prototype.matchEvent=function(t){if(this.support&&(!this.staing||this.test)&&t&&t.length)try{if(!this.cepReady)return void this.eventCache.push(t);var e=t[0],n=e.header,i=e.user,o=e.events;o.length&&yl(o).call(o);for(var r=0;r<o.length;r++){var a=o[r].event;if(-1!==Un(Vv).call(Vv,a))return!1;this.matchRule(n,i,o[r])}}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),void console.log(t.message)}},t.prototype.matchRule=function(t,e,n){try{for(var i=0;i<this.planData.length;i++){var o=this.planData[i],r=o.plan_id;if(this.check(o)&&this.checkQuotas(r)&&o.pattern&&o.pattern.events)for(var a=o.pattern.events,s=0;s<a.length;s++)if(this.rule(t,e,n,a[s].condition)){var c=this.stateArray.get(r).patternState,l=c.get(a[s].id);if(this.stateArray.get(r).singleRule){this.changeStatus(r,a[s].id,n),this.publish([n],r,a[s].id);break}if(!l.isMatch){l.after&&c.get(l.after).isMatch?this.changeStatus(r,a[s].id,n):l.after||this.changeStatus(r,a[s].id,n);break}}}this.statusCheck()}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),void console.log(t.message)}},t.prototype.changeStatus=function(t,e,n){var i=this.stateArray.get(t),o=i.patternState.get(e);o.isMatch=!0,o.event=n,o.matchTime=n.local_time_ms||Df(),i.patternState.set(e,o),this.stateArray.set(t,i)},t.prototype.statusCheck=function(){var t,e,n,i;try{for(var o=qd(this.stateArray),r=o.next();!r.done;r=o.next()){var a=Yd(r.value,2),s=a[0],c=a[1],l=c.patternState;if(c.isSingle)break;try{for(var u=qd(l),h=u.next();!h.done;h=u.next()){var f=Yd(h.value,2),d=f[0],p=f[1];if(p.after&&(!p.after||l.get(p.after).isMatch)){if("NOT_FOLLOWED_BY"===p.connection){p.isMatch?this.reset(s,d):Df()-l.get(p.after).matchTime>p.window?this.publish([l.get(p.after).event,p.event],s,d):this.startWait(s,d,p);break}p.isMatch?p.matchTime-l.get(p.after).matchTime<=p.window?this.publish([l.get(p.after).event,p.event],s,d):this.reset(s,d):Df()-l.get(p.after).matchTime>p.window?this.reset(s,d):this.startWait(s,d,p);break}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.startWait=function(t,e,n){var i=this;try{this.waitArray.get(t)||this.waitArray.set(t,new Xc);var o=this.waitArray.get(t);if(!o.get(e)){var r=rd((function(){var o=i.stateArray.get(t).patternState,r=o.get(e);if("NOT_FOLLOWED_BY"===r.connection)!r.isMatch&&o.get(r.after).isMatch||r.matchTime-o.get(r.after).matchTime>n.window?((a=i.waitArray.get(t).get(e)).triggerWait=!0,i.waitArray.set(t,i.waitArray.get(t).set(e,a)),i.publish([o.get(r.after).event],t,e)):i.reset(t,e);else if("FOLLOWED_BY"===r.connection){var a;r.isMatch&&o.get(r.after).isMatch?((a=i.waitArray.get(t).get(e)).triggerWait=!0,i.waitArray.set(t,i.waitArray.get(t).set(e,a)),i.publish([o.get(r.after).event],t,e)):i.reset(t,e)}}),n.window);o.set(e,{waitFn:r,triggerWait:!1}),this.waitArray.set(t,o)}}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log(t.message,t.stack)}},t.prototype.rule=function(t,e,n,i){var o=this;try{var r=n.event,a=n.params;if(a=JSON.parse(a),-1!==Un(Kv).call(Kv,i.op)){if(i.conditions&&i.conditions.length){var s=i.conditions,c=0,l=new Xc;l.set(c,{op:i.op,result:void 0,resultList:[],resultKey:[],resultLength:s.length}),function n(i,s){for(var u=0;u<i.length;u++)if(c++,-1!==Un(Kv).call(Kv,i[u].op)&&i[u].hasOwnProperty("conditions"))l.set(c,{op:i[u].op,result:void 0,fatherKey:s,resultList:[],resultKey:[],resultLength:i[u].conditions.length}),n(i[u].conditions,c);else{var h=o.scope(i[u].key),f=h.scope,d=h.key,p=h.key2,v=f?"header"===f?p?JSON.parse(t[p])[d]:t[d]:"user"===f?e[d]:a[d]:r,g=o.calculate(i[u].op,v,i[u].value);l.set(c,{op:i[u].op,result:g,fatherKey:s})}}(s,c);for(var u=l.get(0);void 0===u.result||u.resultList.length<u.resultLength;)il(l).call(l,(function(t,e){if(void 0!==t.result&&void 0!==t.fatherKey){var n,i=l.get(t.fatherKey);i.resultList.length<i.resultLength&&-1===Un(n=i.resultKey).call(n,e)&&(i.resultKey.push(e),i.resultList.push(t.result),l.set(t.fatherKey,i))}})),il(l).call(l,(function(t){var e,n;t.resultList&&t.resultList.length===t.resultLength&&("and"===t.op&&(t.result=-1===Un(e=t.resultList).call(e,!1)),"or"===t.op&&(t.result=-1!==Un(n=t.resultList).call(n,!0)))}));return l.get(0).result}return!1}var h=this.scope(i.key),f=h.scope,d=h.key,p=h.key2,v=f?"header"===f?p?JSON.parse(t[p])[d]:t[d]:"user"===f?e[d]:a[d]:r;return this.calculate(i.op,v,i.value)}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log(t.message),!1}},t.prototype.publish=function(t,e,n){try{var i=this.configManager.get().user,o={biz_id:this.stateArray.get(e).pattern.biz_id,plan_id:e,uid:i.user_id||"",did:i.device_id||"",uuid:i.user_unique_id,events:t,extra:{url:window.location.href}};this.collect.emit("__cep_match",o),(window.opener||window.parent).postMessage({type:"__cep_match",data:o},"*"),this.event("__cep_trigger_sdk",e),this.addQuotas(e),this.reset(e,n),console.log(this.stateArray)}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),void console.log(t.message)}},t.prototype.addQuotas=function(t){var e=this.stateArray.get(t).quotas;if(e&&e.length){var n=this.storage.getItem(this.quotasKey)||{};n[t]||(n[t]={value:0,lastTime:Df()});var i=n[t].value;0===i&&(n[t].lastTime=Df()),n[t].value=i+1,this.storage.setItem(this.quotasKey,n)}},t.prototype.checkQuotas=function(t){var e=this.stateArray.get(t).quotas,n=this.storage.getItem(this.quotasKey)||{};if(n[t]||(n[t]={value:0,lastTime:Df()}),e&&e.length){var i=e[0].granularity,o=e[0].value;if("per_keyid"!==e[0].type)return!0;var r=this.release(i);return"all"===r?!(n[t].value>=o&&(console.log("plan:"+t+" limit"),1)):Df()-n[t].lastTime>=r?(n[t].value=0,n[t].lastTime=Df(),this.storage.setItem(this.quotasKey,n),!0):!(n[t].value>=o&&(console.log("plan:"+t+" limit"),1))}return!0},t.prototype.clearQuotas=function(){this.storage.setItem(this.quotasKey,null)},t.prototype.release=function(t){if("all"===t)return t;var e=Nv.duration(t);return e?e.asMilliseconds():"all"},t.prototype.reset=function(t,e){var n,i=this.stateArray.get(t);if(i.singleRule){var o=i.patternState.get(e);o.isMatch=!1,o.event=null,o.matchTime=0,o.initTime=Df(),i.patternState.set(e,o)}else il(n=i.patternState).call(n,(function(t){t.isMatch=!1,t.event=null,t.matchTime=0,t.initTime=Df()}));this.stateArray.set(t,i);var r=this.waitArray.get(t);r&&r.get(e)&&(clearTimeout(r.get(e).waitFn),r.delete(e))},t.prototype.event=function(t,e){try{var n={event:t,params:Rc({plan_id:e||"",biz_id:this.stateArray.get(e).pattern.biz_id}),local_time_ms:Df()},i=this.configManager.get(),o=i.header,r=i.user;o.custom=Rc(o.custom);var a={events:[n],user:r,header:o};this.fetch(this.reportUrl,[a])}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),void console.log(t.message)}},t.prototype.scope=function(t){var e="",n="";if(Un(t).call(t,".")>-1){var i=t.split(".");e=i[0],t=i[1],"header"===e&&"custom"===t&&(t=i[2],n=i[1])}return{scope:e,key:t,key2:n}},t.prototype.calculate=function(t,e,n){try{var i;if("="===t)return e===n;if(-1!==Un(i=["=","<",">",">=","<=","!="]).call(i,t))switch(t){case"=":return e===n;case"<":return e<n;case">":return e>n;case">=":return e>=n;case"<=":return e<=n;case"!=":return e!==n}else{var o,r,a;if(-1!==Un(o=["in","contains"]).call(o,t))return-1!==Un(n).call(n,e);if(-1!==Un(r=["is not null","is null"]).call(r,t))return"is null"===t?null==e:null!=e;if(-1!==Un(a=["startswith","endswith"]).call(a,t)){if("startswith"===t)return 0===Un(e).call(e,n);var s=e.length-n.length;return e.substr(s,n.length)===n}}}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log(t.message),!1}},t}(),Hv={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},Wv="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,qv=function(){function t(){}return t.prototype.apply=function(t,e){this._plugin={},this.config=e,this.collect=t,this.channel=e.channel||"cn",this.loadExtend()},t.prototype.loadExtend=function(){var t=this;try{var e;il(e=this.collect.remotePlugin).call(e,(function(e,n){if("sdk"===e)if(Hv.hasOwnProperty(n)){var i=Hv[n].object,o=""+Hv[n].src[t.channel];t.exist(n,i,o)}else console.warn("your "+n+" is not exist，please check plugin name");else"object"==G(e)&&(e.src?t.exist(n,e.call,e.src):t.process(n,e.instance,"INSTANCE"))}))}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),console.log("load extend error")}},t.prototype.exist=function(t,e,n){var i=this;Wv[e]?(this.process(t,Wv[e]),console.log("已有"+t+"插件，避免重复加载~")):this.loadPlugin(t,n,(function(){i.process(t,Wv[e]),console.log(" %c %s %s %s","color: yellow; background-color: black;","–","load plugin:"+t+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","–","load plugin:"+t+" error","-")}))},t.prototype.process=function(t,e,n){try{if(n){var i=new e;i.apply&&i.apply(this.collect,this.config),console.log("excude "+t+" success")}else e&&e(this.collect,this.config)}catch(e){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:e.message}),console.log("excude "+t+" error, message:"+e.message)}},t.prototype.loadPlugin=function(t,e,n,i){var o=this;try{var r=document.createElement("script");r.src=e,this._plugin[t]||(this._plugin[t]=[]),this._plugin[t].push(n),r.onerror=function(){i(e)},r.onload=function(){var e;il(e=o._plugin[t]).call(e,(function(t){t()}))},document.getElementsByTagName("head")[0].appendChild(r)}catch(t){this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message})}},t}(),Yv=function(){function t(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return t.prototype.apply=function(t,e){if(e.spa||e.autotrack){var n=t.Types;this.collect=t,this.config=e,this.appid=e.app_id,this.allowHash=e.allow_hash,this.fncArray=new Xc,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),t.emit(n.RouteReady)}},t.prototype.setKey=function(){var t=this.collect.adapters.storage;this.storage=new t(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:location.href,refer_title:document.title||location.pathname,refer_manual_key:""},this.config.autotrack&&"object"==G(this.config.autotrack)&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},t.prototype.hack=function(){var t=this,e=window.history.pushState;history.pushState=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var r=e.call.apply(e,Jd([history,n],i));if(t.lastLocation!==location.href){var a=t.getPopStateChangeEventData();return t.lastLocation=location.href,t.sendPv(a,"pushState"),r}};var n=history.replaceState;history.replaceState=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];"function"==typeof history.onreplacestate&&history.onreplacestate({state:e});var r=n.call.apply(n,Jd([history,e],i));if(t.lastLocation!==location.href){var a=t.getPopStateChangeEventData();return t.lastLocation=location.href,t.sendPv(a),r}}},t.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},t.prototype.init=function(){var t=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:t,init:!0})},t.prototype.listener=function(){var t=this,e=null;window.addEventListener("hashchange",(function(n){if(t.lastLocation!==window.location.href&&(clearTimeout(e),t.allowHash)){t.lastLocation=window.location.href;var i=t.getPopStateChangeEventData();t.sendPv(i)}})),window.addEventListener("popstate",(function(n){t.lastLocation!==window.location.href&&(e=rd((function(){t.lastLocation=window.location.href;var e=t.getPopStateChangeEventData();t.sendPv(e)}),10))}))},t.prototype.getPopStateChangeEventData=function(){var t=this.pageConfig();return t.is_back=0,t},t.prototype.pageConfig=function(){try{var t,e,n=this.storage.getItem(this.cache_key)||{};t=document.referrer?document.referrer:n&&n.refer_key||"";var i=this.storage.getItem("__tea_cache_first_"+this.appid);return e=!i||1!=i,{is_html:1,url:location.href,referrer:t,page_key:location.href,refer_page_key:t,page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:n&&n.refer_manual_key||"",refer_page_title:n&&n.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+e}}catch(t){return this.collect.emit(hp.DEBUGGER_MESSAGE,{type:hp.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Df(),data:t.message}),{}}},t.prototype.sendPv=function(t,e){this.collect.emit("route-change",{config:t,init:!1})},t}();Fp.usePlugin(qv,"extend"),Fp.usePlugin(Lv,"tracer"),Fp.usePlugin(ov,"ab"),Fp.usePlugin(cv,"stay"),Fp.usePlugin(jv,"autotrack"),Fp.usePlugin(rv,"et"),Fp.usePlugin(lv,"profile"),Fp.usePlugin(Fv,"cep"),Fp.usePlugin(uv,"heartbeat"),Fp.usePlugin(hv,"monitor"),Fp.usePlugin(Yv,"route"),Fp.usePlugin(Lv,"tracer");var Jv=new Fp("default"),Xv=function(t,e){return t&&function(t){return"object"===G(t)&&null!==t}(t)?e.reduce((function(e,n){return e[n]=t[n],e}),{}):t};function Zv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jv.event(t,d({page_url:location.href,host:location.host,user_agent:navigator.userAgent,referrer:document.referrer},e))}function Qv(){return".".concat(window.location.hostname.split(".").slice(-2).join("."))}function tg(t){return t?Object.keys(t).filter((function(t){return"version"!==t})):[]}function eg(t){return t?Object.keys(t).filter((function(t){return"version"!==t})).reduce((function(e,n){var i=t[n];return e[n]=i.default,e}),{}):{}}Jv.init(d({app_id:345918,log:!1},{channel:"va",channel_type:"tcpy"})),Jv.start();var ng=new(function(){function t(){R(this,t),this.isRequestInflight=!1,this.pendingTasks=[]}return $(t,[{key:"getCookieConfig",value:function(){return this.value||console.error("`CookieConfigManager.getCookieConfig` returned undefined."),this.value}},{key:"getCookieCodes",value:function(){return tg(this.value)}},{key:"getRawCookieConfig",value:function(){return this.rawValue||console.error("`CookieConfigManager.getRawCookieConfig` returned undefined."),this.rawValue}},{key:"getDefaultConsents",value:function(){return this.value?eg(this.value):(console.error("`CookieConfigManager.getDefaultConsents` returned undefined."),{})}},{key:"getFullConsents",value:function(){return this.value?tg(this.value).reduce((function(t,e){return t[e]=!0,t}),{}):(console.error("`CookieConfigManager.getFullConsents` returned undefined."),{})}},{key:"getEmptyConsents",value:function(){return this.value?tg(this.value).reduce((function(t,e){return t[e]=!1,t}),{}):{}}},{key:"setCookieConsents",value:function(t){if(!this.value)return{};var e,n=D(tg(this.value));try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!1===t[i]){var o=(this.value[i]||{}).cookies;(void 0===o?[]:o).forEach((function(t){return Gf.remove(t,{domain:Qv()})}))}}}catch(t){n.e(t)}finally{n.f()}var r=JSON.stringify(d(d({},t),{},{version:this.value.version}));return Gf.set(Af,r,{expires:390,domain:Qv(),secure:!0,sameSite:"None"}),setTimeout((function(){Gf.get(Af)!==r&&Zv("cookie_banner_save_failed")}),100),t}},{key:"setFullConsents",value:function(){return this.setCookieConsents(this.getFullConsents())}},{key:"setEmptyConsents",value:function(){return this.setCookieConsents(this.getEmptyConsents())}},{key:"getCookieConsents",value:function(t){if(!this.value)return{};var e=t.region,n=t.cookie,i=t.isFTC,o=tg(this.value),r=n?decodeURIComponent(n):Gf.get(Af),a=Sf.includes(e),s=o.reduce((function(t,e){return t[e]=!0,t}),{});try{var c=r&&JSON.parse(r);if(i)return this.getEmptyConsents();if(c)return function(t){return Object.keys(t).filter((function(t){return"version"!==t})).reduce((function(e,n){return e[n]=t[n],e}),{})}(Object.assign({},a?eg(this.value):s,c))}catch(t){}return a?eg(this.value):s}},{key:"hasAgreedToAll",value:function(t){var e=this.getCookieConsents(t);return tg(this.value).every((function(t){return e[t]}))}},{key:"isShowCookieBanner",value:function(t){var e=t.region;if(!Sf.includes(e))return!1;if(!this.value)return!1;var n=function(t){var e=(t||{}).cookie,n=e?decodeURIComponent(e):Gf.get(Af);if(!n)return null;try{return(n&&JSON.parse(n)).version||null}catch(t){return null}}(t);return function(t,e){if(!e)return!0;var n=/^v(\d+)$/,i=n.exec(t),o=n.exec(e);return i&&o?Number(i[1])>Number(o[1]):t!==e}(this.value.version,n)}},{key:"setCookieConfig",value:function(t){this.value=function(t){return t.data.reduce((function(t,e){return d(d({},t),e.items)}),{version:t.version})}(t),this.rawValue=t}}]),t}());function ig(t,e){var n,i,o;try{i=null===(n=document.getElementById(t))||void 0===n?void 0:n.textContent;var r=JSON.parse(i),a=r.i18n,s=void 0===a?{}:a,c=r.appProps,l=(c=void 0===c?{}:c).region,u=void 0===l?"":l,h=c.$user,f=(h=void 0===h?{}:h).ftcUser,d=void 0!==f&&f,p=r.config,v=(p=void 0===p?{}:p).cookieBanner,g=(v=void 0===v?{}:v).cookiesAwaitConsent,m=void 0===g?{}:g,y=v.disabled,_=void 0!==y&&y;return ng.setCookieConfig(m),o={locale:e,region:u},Jv.config({evtParams:o}),{region:u,isFTC:d,i18n:s,disabled:_}}catch(t){return console.error(t),Zv("cookie_banner_fetch_config_failed",{error_message:"readUserConfig fail: ".concat(t),config_content:i||""}),null}}
/**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */var og=function t(e,n){var i,o,r=e._$AN;if(void 0===r)return!1;var a,s=D(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;null===(o=(i=c)._$AO)||void 0===o||o.call(i,n,!1),t(c,n)}}catch(t){s.e(t)}finally{s.f()}return!0},rg=function(t){var e,n;do{if(void 0===(e=t._$AM))break;(n=e._$AN).delete(t),t=e}while(0===(null==n?void 0:n.size))},ag=function(t){for(var e;e=t._$AM;t=e){var n=e._$AN;if(void 0===n)e._$AN=n=new fl;else if(n.has(t))break;n.add(t),lg(e)}};
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */function sg(t){void 0!==this._$AN?(rg(this),this._$AM=t,ag(this)):this._$AM=t}function cg(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(hl(i))for(var r=n;r<i.length;r++)og(i[r],!1),rg(i[r]);else null!=i&&(og(i,!1),rg(i));else og(this,t)}var lg=function(t){var e,n,i,o;t.type==mf&&(null!==(e=(i=t)._$AP)&&void 0!==e||(i._$AP=cg),null!==(n=(o=t)._$AQ)&&void 0!==n||(o._$AQ=sg))},ug=function(t){w(n,t);var e=E(n);function n(){var t;return R(this,n),(t=e.apply(this,arguments))._$AN=void 0,t}return $(n,[{key:"_$AT",value:function(t,e,i){v(O(n.prototype),"_$AT",this).call(this,t,e,i),ag(this),this.isConnected=t._$AU}},{key:"_$AO",value:function(t){var e,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t!==this.isConnected&&(this.isConnected=t,t?null===(e=this.reconnected)||void 0===e||e.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),i&&(og(this,t),rg(this))}},{key:"setValue",value:function(t){if(function(t){return void 0===t.strings}(this._$Ct))this._$Ct._$AI(t,this);else{var e=y(this._$Ct._$AH);e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}},{key:"disconnected",value:function(){}},{key:"reconnected",value:function(){}}]),n}(_f),hg=function(){return new fg},fg=$((function t(){R(this,t)})),dg=new fu,pg=yf(function(t){w(n,t);var e=E(n);function n(){return R(this,n),e.apply(this,arguments)}return $(n,[{key:"render",value:function(t){return Nh}},{key:"update",value:function(t,e){var n,i=m(e,1)[0],o=i!==this.Y;return o&&void 0!==this.Y&&this.rt(void 0),(o||this.lt!==this.dt)&&(this.Y=i,this.ct=null===(n=t.options)||void 0===n?void 0:n.host,this.rt(this.dt=t.element)),Nh}},{key:"rt",value:function(t){var e;if("function"==typeof this.Y){var n=null!==(e=this.ct)&&void 0!==e?e:of,i=dg.get(n);void 0===i&&(i=new fu,dg.set(n,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ct,void 0),i.set(this.Y,t),void 0!==t&&this.Y.call(this.ct,t)}else this.Y.value=t}},{key:"lt",get:function(){var t,e,n;return"function"==typeof this.Y?null===(e=dg.get(null!==(t=this.ct)&&void 0!==t?t:of))||void 0===e?void 0:e.get(this.Y):null===(n=this.Y)||void 0===n?void 0:n.value}},{key:"disconnected",value:function(){this.lt===this.dt&&this.rt(void 0)}},{key:"reconnected",value:function(){this.rt(this.dt)}}]),n}(ug)),vg=[],gg=[];function mg(t,e){if(t&&"undefined"!=typeof document){var n,i=!0===e.prepend?"prepend":"append",o=!0===e.singleTag,r="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(o){var a=Un(vg).call(vg,r);-1===a&&(a=vg.push(r)-1,gg[a]={}),n=gg[a]&&gg[a][i]?gg[a][i]:gg[a][i]=s()}else n=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=vf(e.attributes),o=0;o<n.length;o++)t.setAttribute(n[o],e.attributes[n[o]]);var a="prepend"===i?"afterbegin":"beforeend";return r.insertAdjacentElement(a,t),t}}var yg='.cookie-banner-toast {\n  font-family: "tiktok-cookie-banner-proxima-semibold", PingFangSC, sans-serif;\n  font-weight: 600;\n  position: fixed;\n  left: 0;\n  top: 70px;\n  right: 0;\n  text-align: center;\n  padding: 12px 20px;\n  background: rgba(84, 84, 84, 0.92);\n  color: #fff;\n  box-sizing: border-box;\n  font-size: 17px;\n  line-height: 20px;\n  z-index: 10001;\n  transition: opacity 0.3s;\n  opacity: 0;\n}\nhtml[lang^=vi] .cookie-banner-toast {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.cookie-banner-toast.show {\n  opacity: 1;\n}';mg(yg,{});var _g,kg=function(e){w(i,e);var n=E(i);function i(){var t;return R(this,i),(t=n.apply(this,arguments)).visible=!0,t.timeoutId=-1,t.wrapperRef=hg(),t}return $(i,[{key:"willUpdate",value:function(t){t.has("textId")&&this.resetAutoFadeOut()}},{key:"firstUpdated",value:function(){var t,e=this;this.resetAutoFadeOut(),null===(t=this.wrapperRef.value)||void 0===t||t.addEventListener("transitionend",(function(){e.visible||e.dispatchEvent(new Event("fadeOutComplete"))}))}},{key:"resetAutoFadeOut",value:function(){var t=this;this.text&&(clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((function(){t.visible=!1}),3e3))}},{key:"render",value:function(){return Bh(t||(t=h(["<div ",' class="','">',"</div>"])),pg(this.wrapperRef),kf({"cookie-banner-toast":!0,show:this.visible}),this.text)}}]),i}(rf);function bg(t){_g?(_g.setAttribute("text",t),_g.setAttribute("text-id",Date.now().toString(36))):((_g=document.createElement("tiktok-cookie-banner-toast")).setAttribute("text",t),_g.setAttribute("text-id",Date.now().toString(36)),_g.addEventListener("fadeOutComplete",(function t(){_g&&(_g.removeEventListener("fadeOutComplete",t),document.body.removeChild(_g),_g=null)})),document.body.appendChild(_g))}kg.styles=Iu(yg),Pc([wf()],kg.prototype,"text",void 0),Pc([wf({attribute:"text-id"})],kg.prototype,"textId",void 0),Pc([Ef()],kg.prototype,"visible",void 0),kg=Pc([bf("tiktok-cookie-banner-toast")],kg);var wg='.tiktok-cookie-banner {\n  font-family: "tiktok-cookie-banner-proxima-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 24px;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: #10a2c5;\n  z-index: 10001;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  color: #fff;\n  padding: 24px 64px 32px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);\n  -moz-text-size-adjust: 100%;\n       text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -webkit-font-smoothing: antialiased;\n}\nhtml[lang^=vi] .tiktok-cookie-banner {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-banner .cookie-content .cookie-title {\n  font-family: "tiktok-cookie-banner-proxima-bold", PingFangSC, sans-serif;\n  font-weight: 700;\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 24px;\n  line-height: 32px;\n}\nhtml[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-title {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-banner .cookie-content .cookie-desc {\n  font-family: "tiktok-cookie-banner-proxima-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 22px;\n  margin-top: 8px;\n  margin-bottom: 0;\n}\nhtml[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-desc {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-banner .cookie-content .cookie-desc a {\n  font-family: "tiktok-cookie-banner-proxima-semibold", PingFangSC, sans-serif;\n  font-weight: 600;\n  text-decoration: underline;\n  color: #fff;\n}\nhtml[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-desc a {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-banner .button-wrapper {\n  display: flex;\n  margin-left: 64px;\n  align-self: flex-end;\n}\n.tiktok-cookie-banner .button-wrapper a,\n.tiktok-cookie-banner .button-wrapper button {\n  font-family: "tiktok-cookie-banner-proxima-bold", PingFangSC, sans-serif;\n  font-weight: 700;\n  box-sizing: border-box;\n  padding: 0 24px;\n  line-height: 44px;\n  height: 46px;\n  min-width: 153px;\n  white-space: nowrap;\n  border-radius: 4px;\n  font-size: 16px;\n  border: 1px solid rgba(22, 24, 35, 0.12);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  cursor: pointer;\n  background: #fff;\n  color: #161823;\n  outline: none;\n  text-decoration: none;\n  border: 1px solid rgba(22, 24, 35, 0.12);\n}\nhtml[lang^=vi] .tiktok-cookie-banner .button-wrapper a,\nhtml[lang^=vi] .tiktok-cookie-banner .button-wrapper button {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-banner .button-wrapper a:hover,\n.tiktok-cookie-banner .button-wrapper button:hover {\n  background: #f8f8f8;\n}\n.tiktok-cookie-banner .button-wrapper a:active,\n.tiktok-cookie-banner .button-wrapper button:active {\n  background: #f1f1f1;\n}\n.tiktok-cookie-banner .button-wrapper button {\n  margin-left: 16px;\n}\n.tiktok-cookie-banner.is-rtl {\n  direction: rtl;\n}\n.tiktok-cookie-banner.is-rtl .button-wrapper {\n  margin-left: unset;\n  margin-right: 64px;\n}\n.tiktok-cookie-banner.is-rtl .button-wrapper button {\n  margin-left: unset;\n  margin-right: 16px;\n}\n@media (max-width: 991px) {\n  .tiktok-cookie-banner.is-rtl .button-wrapper button {\n    margin-right: 8px;\n  }\n}\n@media (max-width: 991px) {\n  .tiktok-cookie-banner {\n    flex-direction: column;\n    height: auto;\n    padding: 16px 16px 20px;\n    box-shadow: none;\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-title {\n    font-family: "tiktok-cookie-banner-proxima-bold", PingFangSC, sans-serif;\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 18px;\n    text-align: center;\n    color: #fff;\n  }\n  html[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-title {\n    font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-desc {\n    font-family: "tiktok-cookie-banner-proxima-regular", PingFangSC, sans-serif;\n    font-weight: 400;\n    width: auto;\n    font-size: 12px;\n    line-height: 14px;\n    text-align: center;\n  }\n  html[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-desc {\n    font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-desc a {\n    font-family: "tiktok-cookie-banner-proxima-semibold", PingFangSC, sans-serif;\n    font-weight: 600;\n    text-decoration: underline;\n  }\n  html[lang^=vi] .tiktok-cookie-banner .cookie-content .cookie-desc a {\n    font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n  }\n  .tiktok-cookie-banner .button-wrapper {\n    align-self: flex-end;\n    margin-top: 16px;\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n  .tiktok-cookie-banner .button-wrapper a,\n  .tiktok-cookie-banner .button-wrapper button {\n    font-family: "tiktok-cookie-banner-proxima-semibold", PingFangSC, sans-serif;\n    font-weight: 600;\n    min-width: unset;\n    padding: 0 6px;\n    width: 100%;\n    height: 44px;\n    font-size: 15px;\n    line-height: 18px;\n    font-weight: 600;\n    border-radius: 2px;\n    white-space: pre-wrap;\n    margin: 0;\n  }\n  html[lang^=vi] .tiktok-cookie-banner .button-wrapper a,\n  html[lang^=vi] .tiktok-cookie-banner .button-wrapper button {\n    font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n  }\n  .tiktok-cookie-banner .button-wrapper button {\n    margin-left: 8px;\n  }\n}';mg(wg,{});
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var Eg=yf(function(t){w(n,t);var e=E(n);function n(t){var i,o;if(R(this,n),i=e.call(this,t),t.type!==gf||"style"!==t.name||(null===(o=t.strings)||void 0===o?void 0:o.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return S(i)}return $(n,[{key:"render",value:function(t){var e;return ku(e=vf(t)).call(e,(function(e,n){var i=t[n];return null==i?e:e+"".concat(n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(i,";")}),"")}},{key:"update",value:function(t,e){var n,i=this,o=m(e,1)[0],r=t.element.style;if(void 0===this.vt){for(var a in this.vt=new fl,o)this.vt.add(a);return this.render(o)}for(var s in il(n=this.vt).call(n,(function(t){null==o[t]&&(i.vt.delete(t),zd(t).call(t,"-")?r.removeProperty(t):r[t]="")})),o){var c=o[s];null!=c&&(this.vt.add(s),zd(s).call(s,"-")?r.setProperty(s,c):r[s]=c)}return Lh}}]),n}(_f)),Sg=':root body.disable-scroll {\n  overflow: hidden;\n}\n\n.tiktok-cookie-setting-portal {\n  font-family: "tiktok-cookie-banner-proxima-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 24px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 0;\n  height: 0;\n  font-size: 14px;\n  color: rgb(22, 24, 35);\n  -webkit-font-smoothing: antialiased;\n}\nhtml[lang^=vi] .tiktok-cookie-setting-portal {\n  font-family: "IBM Plex Sans", "Proxima Nova", PingFangSC, sans-serif;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n  transition: opacity 300ms linear;\n  opacity: 0;\n  position: fixed;\n  inset: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-backdrop.visible {\n  opacity: 1;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container {\n  position: fixed;\n  inset: 0;\n  left: 0;\n  top: 32px;\n  bottom: 32px;\n  left: 16px;\n  right: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  transform: scale(0.8);\n  transition: opacity 300ms cubic-bezier(0.65, 0, 0.35, 1), transform 300ms cubic-bezier(0.65, 0, 0.35, 1);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container.visible {\n  opacity: 1;\n  transform: scale(1);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container .tiktok-cookie-setting-modal {\n  position: relative;\n  max-width: 700px;\n  max-height: 100%;\n  background-color: #fff;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.12) 0 2px 12px;\n  outline: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n@media (max-width: 700px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container .tiktok-cookie-setting-modal {\n    width: calc(100vw - 32px);\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-header-container {\n  font-weight: 700;\n  font-size: 24px;\n  padding: 24px 29px 16px 24px;\n  line-height: 32px;\n  color: #161823;\n  border-bottom: 0.5px solid rgba(22, 24, 35, 0.2);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex: 0;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-header-container {\n    border-bottom: none;\n    padding: 32px 24px 24px;\n    font-size: 20px;\n    justify-content: center;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close {\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close svg {\n  fill: rgba(22, 24, 35, 0.6);\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close {\n    position: absolute;\n    top: 14px;\n    right: 14px;\n    transform: scale(0.8);\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-description-container {\n  background-color: rgba(22, 24, 35, 0.03);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-description-container .tiktok-cookie-setting-modal-description {\n  margin: 16px 24px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n  padding: 12px 40px 12px 0;\n  overflow-y: auto;\n  flex: 1 1 auto;\n}\n@media (max-width: 700px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n    width: calc(100% - 32px);\n  }\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n    padding: 6px 16px 0 0;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar, .tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar {\n  width: 6px;\n  margin-right: 8px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content:hover::-webkit-scrollbar-thumb, .tiktok-cookie-setting-portal .tiktok-cookie-setting-content:hover::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.15);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-track, .tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-thumb, .tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.15);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon {\n  margin-left: auto;\n  justify-content: flex-end;\n  height: 48px;\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon.hide {\n  transform: rotate(180deg);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon svg {\n  width: 14px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 17px;\n  fill: #161823;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vertical-info-icon {\n  margin-left: auto;\n  margin-right: 20px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-weight: 600;\n  font-size: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  color: #161823;\n  flex: 1 1 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name .tiktok-cookie-vendor-group-name-outside {\n  display: flex;\n  align-items: center;\n  flex-shrink: 1;\n  flex-grow: 1;\n  padding-left: 24px;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name .tiktok-cookie-vendor-group-name-outside {\n    padding-left: 16px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name .tiktok-cookie-vendor-group-name-outside:hover {\n  cursor: pointer;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name {\n    font-size: 15px;\n    line-height: 18px;\n  }\n}\n.tiktok-cookie-setting-portal cookie-setting-switch {\n  line-height: 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-container {\n  padding-left: 24px;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-vendor-container {\n    padding-left: 16px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer {\n  padding: 24px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 0.5px solid rgba(22, 24, 35, 0.2);\n  flex: 0 0 auto;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer {\n    border-top: none;\n    padding: 20px;\n    flex-direction: column-reverse;\n    justify-content: center;\n    align-items: stretch;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text,\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n  min-width: 100px;\n  border-radius: 4px;\n  font-family: tiktok-cookie-banner-proxima-regular, PingFangSC, sans-serif;\n  font-size: 16px;\n  font-weight: 600;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  line-height: 36px;\n  height: 36px;\n  outline: none;\n  border: none;\n  text-align: center;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text,\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n    height: 44px;\n    margin-left: 0;\n    line-height: 44px;\n    border-radius: 2px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text {\n  color: #fe2c55;\n  background-color: #fff;\n  text-decoration: none;\n  padding-left: 0;\n  padding-right: 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n  background-color: rgb(254, 44, 85);\n  color: #fff;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary:hover {\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #fe2c55;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 48px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group.show-detail {\n  margin-bottom: 8px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor .tiktok-cookie-vendor-label-outside {\n  display: flex;\n  flex-shrink: 1;\n  flex-grow: 1;\n  color: #161823;\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor .tiktok-cookie-vendor-label-outside .tiktok-cookie-vendor-label {\n  margin-left: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  line-height: 48px;\n  flex: 1 1 0;\n}\n.tiktok-cookie-setting-portal .with-hover-effect:hover {\n  background-color: rgba(22, 24, 35, 0.1);\n  transition: background-color ease-in-out 200ms;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .with-hover-effect:hover {\n    background-color: transparent;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context {\n  padding: 0;\n  margin: 0;\n  margin-bottom: 8px;\n  padding-left: -16px;\n  color: rgba(22, 24, 35, 0.6);\n  line-height: 22px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context .tiktok-cookie-manage-tip-context-ref {\n  text-decoration: none;\n  color: #fe2c55;\n  font-weight: bold;\n  text-decoration: none;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context .tiktok-cookie-manage-tip-context-ref:hover {\n  text-decoration: underline;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context-ref {\n  text-decoration: none;\n  color: #fe2c55;\n  font-weight: bold;\n  text-decoration: none;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context-ref:hover {\n  text-decoration: underline;\n  color: #fe2c55;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context {\n  padding: 0;\n  margin-top: 4px;\n  margin-bottom: 8px;\n  padding-left: 16px;\n  color: rgba(22, 24, 35, 0.6);\n  line-height: 22px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group p,\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor p {\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 24px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-vendor-group p,\n  .tiktok-cookie-setting-portal .tiktok-cookie-vendor p {\n    font-size: 15px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-desc {\n  color: rgba(22, 24, 35, 0.6);\n  font-size: 14px;\n  line-height: 22px;\n  margin-bottom: 18px;\n  padding-left: 24px;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-desc {\n    padding-left: 16px;\n  }\n}\n.tiktok-cookie-setting-portal .cookie-setting-switch {\n  line-height: 0;\n  padding-left: 36px;\n  flex-grow: 0;\n  flex-shrink: 0;\n}';
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */mg(Sg,{});var xg="global_module_disableScroll__472ccca3";mg(":root body.global_module_disableScroll__472ccca3 {\n  overflow: hidden;\n}",{});var Ag=".tiktok-cookie-setting-switch {\n  box-sizing: border-box;\n  display: inline-block;\n  border-radius: 12px;\n  border: 1px rgba(0, 0, 0, 0) solid;\n  position: relative;\n  cursor: pointer;\n  background-color: rgba(46, 50, 56, 0.05);\n  transition: background-color 200ms ease-in-out;\n  width: 40px;\n  height: 24px;\n}\n.tiktok-cookie-setting-switch.checked {\n  background-color: #0be09b;\n}\n.tiktok-cookie-setting-switch.checked .tiktok-cookie-setting-switch-knob {\n  transform: translateX(18px);\n}\n.tiktok-cookie-setting-switch.disabled {\n  opacity: 0.34;\n  cursor: not-allowed;\n}\n\n.tiktok-cookie-setting-switch-knob {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.08);\n  cursor: pointer;\n  border-radius: 9px;\n  background-color: #fff;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  right: auto;\n  transition: transform 200ms ease-in-out, width 200ms ease-in-out;\n  width: 18px;\n  height: 18px;\n  top: 2px;\n  transform: translateX(2px);\n}\n\n.tiktok-cookie-setting-switch-native-control {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  cursor: inherit;\n  pointer-events: auto;\n  margin: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n}";mg(Ag,{});var Cg=function(t){w(i,t);var n=E(i);function i(){var t;return R(this,i),(t=n.apply(this,arguments)).value=!1,t.name="",t.disabled=!1,t}return $(i,[{key:"handleCheck",value:function(t){var e=t.target.checked;this.dispatchEvent(new CustomEvent("checkedChange",{detail:e}))}},{key:"render",value:function(){return Bh(e||(e=h(['<div class="','" role="switch" aria-checked="','"><div class="tiktok-cookie-setting-switch-knob"></div><input @change="','" ?checked="','" type="checkbox" role="switch" class="tiktok-cookie-setting-switch-native-control" name="','"></div>'])),kf({"tiktok-cookie-setting-switch":!0,checked:this.value,disabled:this.disabled}),this.value,this.handleCheck,this.value,this.name)}}]),i}(rf);Cg.styles=Iu(Ag),Pc([wf({converter:function(t){return"true"===t}})],Cg.prototype,"value",void 0),Pc([wf()],Cg.prototype,"name",void 0),Pc([wf({converter:function(t){return"true"===t}})],Cg.prototype,"disabled",void 0),Cg=Pc([bf("cookie-setting-switch")],Cg);var Tg,Mg,Og=["touchstart","touchmove","touchend","scroll"],Dg=function(t){w(l,t);var e=E(l);function l(){var t;return R(this,l),(t=e.apply(this,arguments)).zIndex=10002,t.visible=!1,t.deferredVisible=!1,t.cookieConsent={},t.showAamInfo=!1,t.showNcInfo=!1,t.expandRowKeys=[],t.modalBackdropRef=hg(),t}return $(l,[{key:"connectedCallback",value:function(){var t,e=this;v(O(l.prototype),"connectedCallback",this).call(this),this.initUserConfig(),this.userConfig&&(this.cookieConsent=ng.getCookieConsents(this.userConfig)),this.visible&&requestAnimationFrame((function(){return e.deferredVisible=!0}));var n,i=D(Og);try{for(i.s();!(n=i.n()).done;){var o=n.value;null===(t=this.modalBackdropRef.value)||void 0===t||t.addEventListener(o,this.stopTouchEventPropagation)}}catch(t){i.e(t)}finally{i.f()}}},{key:"disconnectedCallback",value:function(){var t,e,n=D(Og);try{for(n.s();!(e=n.n()).done;){var i=e.value;null===(t=this.modalBackdropRef.value)||void 0===t||t.removeEventListener(i,this.stopTouchEventPropagation)}}catch(t){n.e(t)}finally{n.f()}}},{key:"willUpdate",value:function(t){var e=this;if((t.has("userConfigEleId")||t.has("locale"))&&this.initUserConfig(),t.has("visible"))if(this.visible)this.cookieConsent=this.userConfig?ng.getCookieConsents(this.userConfig):{},requestAnimationFrame((function(){return e.deferredVisible=!0})),this.lockScroll();else{var n=this.modalBackdropRef.value;null==n||n.addEventListener("transitionend",(function t(){null==n||n.removeEventListener("transitionend",t),e.deferredVisible=!1,e.showAamInfo=!1,e.showNcInfo=!1})),this.unlockScroll()}}},{key:"stopTouchEventPropagation",value:function(t){t.stopPropagation()}},{key:"lockScroll",value:function(){document.body.classList.add(xg)}},{key:"unlockScroll",value:function(){document.body.classList.remove(xg)}},{key:"initUserConfig",value:function(){var t=ig(this.userConfigEleId,this.locale);t&&(this.userConfig=t)}},{key:"handleClose",value:function(){Zv("cookie_setting_close"),this.dispatchEvent(new Event("close"))}},{key:"disagreeToAll",value:function(t){t.detail?(this.cookieConsent=ng.getFullConsents(),Zv("cookie_setting_toggle_all",{state:1})):(this.cookieConsent=ng.getEmptyConsents(),Zv("cookie_setting_toggle_all",{state:0}))}},{key:"disagreeToOne",value:function(t){var e=this.cookieConsent[t];this.cookieConsent=d(d({},this.cookieConsent),{},p({},t,!e)),Zv("cookie_setting_toggle",{state:e?0:1,vendor:t})}},{key:"handleSave",value:function(){var t=this;ng.setCookieConsents(this.cookieConsent),this.dispatchEvent(new Event("close")),this.dispatchEvent(new CustomEvent("save",{detail:this.cookieConsent})),Zv("cookie_setting_save",{result:Object.keys(this.cookieConsent).filter((function(e){return t.cookieConsent[e]})).join(",")})}},{key:"handleCookieClick",value:function(t){this.expandRowKeys.includes(t)?this.expandRowKeys=this.expandRowKeys.filter((function(e){return e!==t})):this.expandRowKeys=[].concat(y(this.expandRowKeys),[t])}},{key:"renderVendorDescription",value:function(t){for(var e,o=[],r=new RegExp("\\[([^\\]]+)\\]\\(([^)]+)\\)","g");null!==(e=r.exec(t));){var a=t.slice(0,e.index);a&&o.push({type:"normalText",value:a}),o.push({type:"linkText",value:e[1],ref:e[2]}),t=t.slice(e.index+e[0].length)}return t&&o.push({type:"normalText",value:t}),o.map((function(t){var e,o=t.type,r=t.value,a=t.ref;switch(o){case"normalText":return Bh(n||(n=h(["<span>","</span>"])),r);case"linkText":return Bh(i||(i=h(['<a class="tiktok-cookie-vendor-context-ref" href="','" target="_blank" rel="noopener noreferrer">',"</a>"])),null!=(e=a)?e:Nh,r);default:return Nh}}))}},{key:"render",value:function(){var t,e,n=this,i=null!==(e=null===(t=this.userConfig)||void 0===t?void 0:t.i18n)&&void 0!==e?e:{},l=i.cookieSettingManageYourCookieTitle,u=void 0===l?"":l,f=i.cookieSettingSave,d=void 0===f?"":f,p=i.cookieSettingNecessaryV2,v=void 0===p?"":p,g=i.cookieSettingAnalyticsAndMarketing,m=void 0===g?"":g,y=i.cookieSettingAnalyticsAndMarketingSubtitleV2,_=void 0===y?"":y,k=i.cookieSettingNecessarySubtitleV2,b=void 0===k?"":k,w=i.cookieManageTip,E=void 0===w?"":w;if(!this.deferredVisible&&!this.visible)return Nh;var S=ng.getCookieConfig(),x=Object.values(this.cookieConsent).length>0&&Object.values(this.cookieConsent).reduce((function(t,e){return t&&e}),!0);return Bh(o||(o=h(['<div class="tiktok-cookie-setting-portal" style="','"><div ',' class="','"></div><div class="','"><section class="tiktok-cookie-setting-modal"><div class="tiktok-cookie-setting-header-container">','<div class="tiktok-cookie-setting-modal-close" @click="','" .innerHTML="','"></div></div><div class="tiktok-cookie-setting-modal-description-container"><div class="tiktok-cookie-setting-modal-description"><p class="tiktok-cookie-manage-tip-context">','</p></div></div><div class="tiktok-cookie-setting-content"><div class="','"><h1 class="tiktok-cookie-vendor-group-name"><div class="tiktok-cookie-vendor-group-name-outside with-hover-effect" @click="','">',' <i class="','" .innerHTML="','"></i></div><span class="tiktok-cookie-vertical-info-icon" .innerHTML="','"></span></h1><cookie-setting-switch .value="','" @checkedChange="','"></cookie-setting-switch></div>'," ",'<div class="','"><h1 class="tiktok-cookie-vendor-group-name"><div class="tiktok-cookie-vendor-group-name-outside with-hover-effect" @click="','">',' <i class="','" .innerHTML="','"></i></div><span class="tiktok-cookie-vertical-info-icon" .innerHTML="','"></span></h1><cookie-setting-switch .value="','" .disabled="','"></cookie-setting-switch></div>','</div><div class="tiktok-cookie-setting-footer"><button class="tiktok-cookie-setting-footer-btn-primary" @click="','">',"</button></div></section></div></div>"])),Eg({zIndex:"".concat(this.zIndex)}),pg(this.modalBackdropRef),kf({"tiktok-cookie-setting-backdrop":!0,visible:this.visible&&this.deferredVisible}),kf({"tiktok-cookie-setting-modal-container":!0,visible:this.visible&&this.deferredVisible}),u,this.handleClose,'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M21.1718 23.9999L10.2931 13.1212C9.90261 12.7307 9.90261 12.0975 10.2931 11.707L11.7074 10.2928C12.0979 9.90228 12.731 9.90228 13.1216 10.2928L24.0002 21.1715L34.8789 10.2928C35.2694 9.90228 35.9026 9.90228 36.2931 10.2928L37.7073 11.707C38.0979 12.0975 38.0979 12.7307 37.7073 13.1212L26.8287 23.9999L37.7073 34.8786C38.0979 35.2691 38.0979 35.9023 37.7073 36.2928L36.2931 37.707C35.9026 38.0975 35.2694 38.0975 34.8789 37.707L24.0002 26.8283L13.1216 37.707C12.731 38.0975 12.0979 38.0975 11.7074 37.707L10.2931 36.2928C9.90261 35.9023 9.90261 35.2691 10.2931 34.8786L21.1718 23.9999Z"></path></svg>',this.renderVendorDescription(E),kf({"tiktok-cookie-vendor-group":!0,"show-detail":this.showAamInfo}),(function(){n.showAamInfo=!n.showAamInfo}),m,kf({"tiktok-cookie-setting-info-icon":!0,hide:!this.showAamInfo}),Cf,Tf,x,this.disagreeToAll,this.showAamInfo?Bh(r||(r=h(['<div class="tiktok-cookie-setting-desc">',"</div>"])),_):Nh,ng.getCookieCodes().map((function(t){var e,i,o;return Bh(a||(a=h(['<div class="tiktok-cookie-vendor-container"><div class="tiktok-cookie-vendor"><div class="tiktok-cookie-vendor-label-outside with-hover-effect" @click="','"><p class="tiktok-cookie-vendor-label">',' <i class="','" .innerHTML="','"></i></p></div><span class="tiktok-cookie-vertical-info-icon" .innerHTML="','"></span><cookie-setting-switch .value="','" @checkedChange="','"></cookie-setting-switch></div>',"</div>"])),(function(){return n.handleCookieClick(t)}),null!==(i=null===(e=null==S?void 0:S[t])||void 0===e?void 0:e.vendorName)&&void 0!==i?i:"",kf({"tiktok-cookie-setting-info-icon":!0,hide:!n.expandRowKeys.includes(t)}),Cf,Tf,Boolean(n.cookieConsent[t]),(function(){return n.disagreeToOne(t)}),n.expandRowKeys.includes(t)?Bh(s||(s=h(['<p class="tiktok-cookie-vendor-context">',"</p>"])),n.renderVendorDescription(null===(o=null==S?void 0:S[t])||void 0===o?void 0:o.description)):Nh)})),kf({"tiktok-cookie-vendor-group":!0,"show-detail":this.showNcInfo}),(function(){n.showNcInfo=!n.showNcInfo}),v,kf({"tiktok-cookie-setting-info-icon":!0,hide:!this.showNcInfo}),Cf,Tf,!0,!0,this.showNcInfo?Bh(c||(c=h(['<div class="tiktok-cookie-setting-desc">',"</div>"])),b):Nh,this.handleSave,d)}}]),l}(rf);Dg.styles=Iu(Sg),Pc([wf({attribute:"z-index"})],Dg.prototype,"zIndex",void 0),Pc([wf({converter:function(t){return"true"===t}})],Dg.prototype,"visible",void 0),Pc([wf({attribute:"user-config-ele-id"})],Dg.prototype,"userConfigEleId",void 0),Pc([wf()],Dg.prototype,"locale",void 0),Pc([Ef()],Dg.prototype,"deferredVisible",void 0),Pc([Ef()],Dg.prototype,"userConfig",void 0),Pc([Ef()],Dg.prototype,"cookieConsent",void 0),Pc([Ef()],Dg.prototype,"showAamInfo",void 0),Pc([Ef()],Dg.prototype,"showNcInfo",void 0),Pc([Ef()],Dg.prototype,"expandRowKeys",void 0),Dg=Pc([bf("cookie-setting-modal")],Dg),[["tiktok-cookie-banner-proxima-bold","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Bold.otf"],["tiktok-cookie-banner-proxima-regular","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Regular.otf"],["tiktok-cookie-banner-proxima-semibold","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Semibold.otf"]].forEach((function(t){var e=m(t,2);return function(t,e){var n=document.querySelector("style[data-tiktok-cookie-banner-font='".concat(t,"']"));n||((n=document.createElement("style")).setAttribute("data-tiktok-cookie-banner-font",t),n.innerHTML='\n  @font-face {\n    font-family: "'.concat(t,'";\n    src: url("').concat(e,'");\n    font-display: swap;\n  }\n    '),document.head.appendChild(n))}(e[0],e[1])})),(Mg=null===(Tg=document.currentScript)||void 0===Tg?void 0:Tg.src)&&window.addEventListener("error",(function(t){t instanceof ErrorEvent&&t.filename===Mg&&Zv("cookie_banner_js_error",d(d({},Xv(t.error,["name","message","stack"])),Xv(t,["filename","lineno","colno"])))}));var Pg=function(t){w(i,t);var e,n=E(i);function i(){var t;return R(this,i),(t=n.apply(this,arguments)).disabled=!1,t.i18n={},t.disabledByPolicy=!1,t.settingVisible=!1,t.forceUpdater=1,t.region="",t.isFTC=!1,t.previousShow=!1,t}return $(i,[{key:"showCookieBanner",get:function(){var t=!this.disabled&&!this.disabledByPolicy&&ng.isShowCookieBanner({region:this.region,isFTC:this.isFTC});return t!==this.previousShow&&(t&&Zv("cookie_banner_show"),this.sendEvent("bannerEvents",{type:t?"show":"hide"}),this.previousShow=t),t}},{key:"reload",value:(e=b(_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.requestUpdate();case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"connectedCallback",value:function(){v(O(i.prototype),"connectedCallback",this).call(this),Zv("cookie_banner_load");try{var t=ig(this.userConfigEleId,this.locale);if(!t)return;var e,n=t.i18n,o=t.region,r=t.isFTC,a=t.disabled;Object.assign(this,{i18n:n,region:o,isFTC:r,disabledByPolicy:a}),e=ng.getCookieConsents({region:o,isFTC:r}),this.execConsentsGetCallback(e),this.cookieConsent=e}catch(t){console.error(t)}}},{key:"updated",value:function(t){if(t.has("locale")){var e=ig(this.userConfigEleId,this.locale);(null==e?void 0:e.i18n)&&(this.i18n=e.i18n)}}},{key:"execConsentsGetCallback",value:function(t){this.sendEvent("bannerEvents",{type:"consentGet",payload:[t,{region:this.region,isFTC:this.isFTC}]})}},{key:"handleDescClick",value:function(t){var e=t.target;if(e instanceof HTMLAnchorElement){var n=e.href;if(!n)return;n.includes("/legal/tiktok-website-cookies-policy")?Zv("cookie_banner_go_to_policy"):n.includes("/legal/cookie-settings")&&(t.preventDefault(),this.settingVisible=!0,Zv("cookie_banner_go_to_settings"))}}},{key:"handleConfirm",value:function(){var t=this.i18n.webDoNotSellSettingsSavedToast,e=ng.setFullConsents();this.execConsentsGetCallback(e),this.sendEvent("bannerEvents",{type:"accept"}),this.cookieConsent=e,bg(t),Zv("cookie_banner_accept")}},{key:"handleDecline",value:function(){var t=this.i18n.webDoNotSellSettingsSavedToast,e=ng.setEmptyConsents();this.execConsentsGetCallback(e),this.sendEvent("bannerEvents",{type:"decline"}),this.cookieConsent=e,bg(t),Zv("cookie_banner_decline")}},{key:"handleSave",value:function(t){var e=t.detail,n=this.i18n.webDoNotSellSettingsSavedToast;this.execConsentsGetCallback(e),this.sendEvent("bannerEvents",{type:"save",payload:[e]}),this.cookieConsent=e,bg(n)}},{key:"sendEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))}},{key:"render",value:function(){var t=this,e=this.locale,n=void 0===e?"en":e,i=this.i18n,o=i.cookieBannerTitleNew,r=i.cookieBannerSubTitleV2,a=i.cookieBannerBtnDecline,s=i.cookieBannerBtnAccept,c=this.showCookieBanner?Bh(l||(l=h(['<div class="','"><div class="cookie-content"><p class="cookie-title">','</p><p class="cookie-desc" @click="','" .innerHTML="','"></p></div><div class="button-wrapper"><button type="button" @click="','">','</button> <button type="button" @click="','">',"</button></div></div>"])),kf({"tiktok-cookie-banner":!0,"is-rtl":xf.includes(n)}),o,this.handleDescClick,r,this.handleDecline,a,this.handleConfirm,s):Nh;return Bh(u||(u=h(["",'<cookie-setting-modal .visible="','" .userConfigEleId="','" .locale="','" @close="','" @save="','"></cookie-setting-modal>'])),c,this.settingVisible,this.userConfigEleId,this.locale,(function(){return t.settingVisible=!1}),this.handleSave)}}]),i}(rf);Pg.styles=Iu(wg),Pc([wf()],Pg.prototype,"locale",void 0),Pc([wf({attribute:"user-config-ele-id"})],Pg.prototype,"userConfigEleId",void 0),Pc([wf({converter:function(t){return"true"===t}})],Pg.prototype,"disabled",void 0),Pc([Ef()],Pg.prototype,"i18n",void 0),Pc([Ef()],Pg.prototype,"userConfig",void 0),Pc([Ef()],Pg.prototype,"cookieConsent",void 0),Pc([Ef()],Pg.prototype,"disabledByPolicy",void 0),Pc([Ef()],Pg.prototype,"settingVisible",void 0),Pc([Ef()],Pg.prototype,"forceUpdater",void 0),Pg=Pc([bf("tiktok-cookie-banner")],Pg)}();
//# sourceMappingURL=default.js.map
