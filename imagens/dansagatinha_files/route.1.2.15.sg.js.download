SlardarLite.plugin.route=function(){"use strict";function n(r){return"[object Array]"===Object.prototype.toString.call(r)}function f(n,o,i){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];n[o]=i.apply(void 0,function(r,t,n){if(n||2===arguments.length)for(var o,i=0,a=t.length;i<a;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([n[o]],function(r,t){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var o,i,a=n.call(r),e=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)e.push(o.value)}catch(r){i={error:r}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return e}(r),!1))}}function v(r,t){return r=r.config.plugins[t],"object"!=typeof(t=r)||null===t||n(t)?{}:r}function h(n){return function(r){return t=r,(r=document.createElement("a")).href=t,{url:r.href,protocol:r.protocol,domain:r.hostname,query:r.search,hash:r.hash,path:r.pathname}["hash"===n?"hash":"path"];var t}}var l="history";return function(c){return c.s(function(n){var i,o=c.onCfg,a=c.config,r=v(c,"pageview"),t=r.routeMode,e=void 0===t?l:t,t=r.extractPid,u=void 0===t?h(e):t,t=r.sendInit,r=function(t){return function(){var r=u(location.href);a.pid=r,a.viewId=r+"_"+Date.now(),o&&o(),n([4,[r,t]])}};void 0!==t&&!t||r("init")(),"manual"!==e&&(i=r(l),t=function(n){var o=location.href;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];n.apply(history,r),location.href!==o&&(o=location.href,i())}},f(history,"pushState",t)(),f(history,"replaceState",t)(),e===l?addEventListener("popstate",i,!0):addEventListener("hashchange",r("hash"),!0))})}}();
